--Start 2.71.0001

GO

-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO

-- Drop View vueAccountProjects
Print 'Drop View vueAccountProjects'
GO
DROP VIEW [dbo].[vueAccountProjects]
GO

-- Drop View vueAccountProjectTask
Print 'Drop View vueAccountProjectTask'
GO
DROP VIEW [dbo].[vueAccountProjectTask]
GO

-- Add Column AccountPartyId to AccountEmployeeTimeEntry
Print 'Add Column AccountPartyId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountPartyId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [AccountPartyId] int NULL

GO

-- Add Column IsTemplate to AccountProject
Print 'Add Column IsTemplate to AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='IsTemplate' AND TABLE_NAME='AccountProject'))
ALTER TABLE [dbo].[AccountProject]
	ADD [IsTemplate] bit NOT NULL
	CONSTRAINT [DF_AccountProject_IsTemplate] DEFAULT ((0))

GO

-- Add Column IsProject to AccountProject
Print 'Add Column IsProject to AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='IsProject' AND TABLE_NAME='AccountProject'))
ALTER TABLE [dbo].[AccountProject]
	ADD [IsProject] bit NOT NULL
	CONSTRAINT [DF_AccountProject_IsProject] DEFAULT ((0))

GO

-- Add Column AccountProjectTemplateId to AccountProject
Print 'Add Column AccountProjectTemplateId to AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectTemplateId' AND TABLE_NAME='AccountProject'))
ALTER TABLE [dbo].[AccountProject]
	ADD [AccountProjectTemplateId] int NULL

GO

-- Add Column AccountBillingRateId to AccountProjectTask
Print 'Add Column AccountBillingRateId to AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountBillingRateId' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	ADD [AccountBillingRateId] int NULL

GO

-- Add Column IsForAllProjectTask to AccountProjectTask
Print 'Add Column IsForAllProjectTask to AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='IsForAllProjectTask' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	ADD [IsForAllProjectTask] bit NULL

GO

-- Add Column TaskCode to AccountProjectTask
Print 'Add Column TaskCode to AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaskCode' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	ADD [TaskCode] varchar(15) NULL

GO

-- Add Column AccountProjectTaskTemplateId to AccountProjectTask
Print 'Add Column AccountProjectTaskTemplateId to AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectTaskTemplateId' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	ADD [AccountProjectTaskTemplateId] int NULL

GO

-- Add Column AccountProjectMilestoneTemplateId to AccountProjectMilestone
Print 'Add Column AccountProjectMilestoneTemplateId to AccountProjectMilestone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectMilestoneTemplateId' AND TABLE_NAME='AccountProjectMilestone'))
ALTER TABLE [dbo].[AccountProjectMilestone]
	ADD [AccountProjectMilestoneTemplateId] bigint NULL

GO

-- Add Column AccountProjectTaskId to AccountBillingRate
Print 'Add Column AccountProjectTaskId to AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectTaskId' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	ADD [AccountProjectTaskId] int NULL

GO

-- Create View vueAccountProjectTask
Print 'Create View vueAccountProjectTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW')
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjectTask
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.CreatedOn, dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, 
                      dbo.AccountProjectTask.ModifiedByEmployeeId, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountEmployee.FirstName AS CreatedByFirstName, 
                      dbo.AccountEmployee.LastName AS CreatedByLastName, dbo.AccountPriority.Priority, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectCode, dbo.AccountTaskType.TaskType, dbo.AccountProject.AccountId, dbo.AccountProjectTask.AccountProjectMilestoneId, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountProjectTask.IsReOpen, AccountEmployee_1.FirstName AS ModifiedByFirstName, 
                      AccountEmployee_1.LastName AS ModifiedByLastName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountProjectTask.EstimatedTimeSpentUnit, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectTask.IsDisabled, 
                      dbo.AccountProjectTask.TaskCode
FROM         dbo.AccountStatus RIGHT OUTER JOIN
                      dbo.AccountTaskType RIGHT OUTER JOIN
                      dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProjectTask.ModifiedByEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectTask.CreatedByEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.AccountProjectTask.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountTaskType.AccountTaskTypeId = dbo.AccountProjectTask.AccountTaskTypeId ON 
                      dbo.AccountStatus.AccountStatusId = dbo.AccountProjectTask.TaskStatusId LEFT OUTER JOIN
                      dbo.AccountPriority ON dbo.AccountProjectTask.AccountPriorityId = dbo.AccountPriority.AccountPriorityId'
GO

-- Add Column AccountProjectEmployeeTemplateId to AccountProjectEmployee
Print 'Add Column AccountProjectEmployeeTemplateId to AccountProjectEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectEmployeeTemplateId' AND TABLE_NAME='AccountProjectEmployee'))
ALTER TABLE [dbo].[AccountProjectEmployee]
	ADD [AccountProjectEmployeeTemplateId] bigint NULL

GO

-- Add Column AccountProjectRoleTemplateId to AccountProjectRole
Print 'Add Column AccountProjectRoleTemplateId to AccountProjectRole'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectRoleTemplateId' AND TABLE_NAME='AccountProjectRole'))
ALTER TABLE [dbo].[AccountProjectRole]
	ADD [AccountProjectRoleTemplateId] int NULL

GO

-- Add Column DefaultAccountPageId to AccountPagePermission
Print 'Add Column DefaultAccountPageId to AccountPagePermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DefaultAccountPageId' AND TABLE_NAME='AccountPagePermission'))
ALTER TABLE [dbo].[AccountPagePermission]
	ADD [DefaultAccountPageId] int NULL

GO

-- Create View vueAccountProjectTaskBillingRate
Print 'Create View vueAccountProjectTaskBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskBillingRate' and table_type = 'VIEW')
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjectTaskBillingRate
AS
SELECT     dbo.AccountProjectTask.*
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountProject.AccountProjectId = dbo.AccountProjectTask.AccountProjectId'
GO

-- Create View vueAccountProjects
Print 'Create View vueAccountProjects'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjects' and table_type = 'VIEW')
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjects
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.StartDate, dbo.AccountProject.ProjectCode, 
                      dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, AccountEmployee_1.FirstName + '' '' + dbo.AccountEmployee.LastName AS LeaderName, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS ProjectManagerName, dbo.AccountProject.AccountId, 
                      dbo.AccountProject.IsActive, dbo.AccountProject.Deadline, dbo.AccountProject.EstimatedDuration, dbo.AccountProject.EstimatedDurationUnit, 
                      dbo.AccountProject.ProjectStatusId, dbo.AccountStatus.Status, dbo.AccountProject.IsDisabled, dbo.AccountProject.ProjectDescription, 
                      dbo.AccountProject.IsTemplate, dbo.AccountProject.IsProject, dbo.AccountProject.AccountProjectTemplateId
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId LEFT OUTER JOIN
                      dbo.AccountStatus ON dbo.AccountProject.ProjectStatusId = dbo.AccountStatus.AccountStatusId FULL OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountProject.ProjectManagerEmployeeId = dbo.AccountEmployee.AccountEmployeeId AND 
                      dbo.AccountProject.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId'
GO

-- Create View vueAccountProjectEmployeeTask
Print 'Create View vueAccountProjectEmployeeTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployeeTask' and table_type = 'VIEW')
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjectEmployeeTask
AS
SELECT     dbo.AccountProjectTaskEmployee.AccountProjectTaskEmployeeId, dbo.AccountProjectTask.AccountProjectId, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskName, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountId, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.Completed, dbo.AccountProject.ProjectName, dbo.AccountBillingRate.BillingRate
FROM         dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountProjectTaskEmployee RIGHT OUTER JOIN
                      dbo.AccountBillingRate RIGHT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.AccountBillingRate.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId ON 
                      dbo.AccountProjectTaskEmployee.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectTaskEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId'
GO

-- Create View vueAccountProjectTaskWithBillingRate
Print 'Create View vueAccountProjectTaskWithBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskWithBillingRate' and table_type = 'VIEW')
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjectTaskWithBillingRate
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountProjectTask.IsReOpen, dbo.AccountProjectTask.CreatedOn, 
                      dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, dbo.AccountProjectTask.ModifiedByEmployeeId, 
                      dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, dbo.AccountProjectTask.EstimatedTimeSpentUnit, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountProjectTask.IsDisabled, dbo.AccountProjectTask.AccountBillingRateId, 
                      dbo.AccountProjectTask.IsForAllProjectTask, dbo.AccountBillingRate.SystemBillingRateTypeId, dbo.AccountBillingRate.BillingRate, 
                      dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate
FROM         dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountBillingRate ON dbo.AccountProjectTask.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId'
GO

-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW')
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId
FROM         dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'
GO

-- Drop View vueAccountProjectTask
Print 'Drop View vueAccountProjectTask'
GO
DROP VIEW [dbo].[vueAccountProjectTask]
GO

-- Add Column AccountEmailNotificationPreferenceTemplateId to AccountEMailNotificationPreference
Print 'Add Column AccountEmailNotificationPreferenceTemplateId to AccountEMailNotificationPreference'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEMailNotificationPreference' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountEmailNotificationPreferenceTemplateId' AND TABLE_NAME='AccountEMailNotificationPreference'))
ALTER TABLE [dbo].[AccountEMailNotificationPreference]
	ADD [AccountEmailNotificationPreferenceTemplateId] int NULL

GO
-- Create View vueAccountProjectTask
Print 'Create View vueAccountProjectTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW')
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjectTask
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.CreatedOn, dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, 
                      dbo.AccountProjectTask.ModifiedByEmployeeId, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountEmployee.FirstName AS CreatedByFirstName, 
                      dbo.AccountEmployee.LastName AS CreatedByLastName, dbo.AccountPriority.Priority, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectCode, dbo.AccountTaskType.TaskType, dbo.AccountProject.AccountId, dbo.AccountProjectTask.AccountProjectMilestoneId, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountProjectTask.IsReOpen, AccountEmployee_1.FirstName AS ModifiedByFirstName, 
                      AccountEmployee_1.LastName AS ModifiedByLastName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountProjectTask.EstimatedTimeSpentUnit, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectTask.IsDisabled, 
                      dbo.AccountProjectTask.TaskCode, dbo.AccountProject.IsTemplate
FROM         dbo.AccountStatus RIGHT OUTER JOIN
                      dbo.AccountTaskType RIGHT OUTER JOIN
                      dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProjectTask.ModifiedByEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectTask.CreatedByEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.AccountProjectTask.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountTaskType.AccountTaskTypeId = dbo.AccountProjectTask.AccountTaskTypeId ON 
                      dbo.AccountStatus.AccountStatusId = dbo.AccountProjectTask.TaskStatusId LEFT OUTER JOIN
                      dbo.AccountPriority ON dbo.AccountProjectTask.AccountPriorityId = dbo.AccountPriority.AccountPriorityId'
GO


-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemBillingRateType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemBillingRateType]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemBillingRateType] WHERE [SystemBillingRateTypeId] =4 AND [SystemBillingRateType] = 'Project Task')
BEGIN
INSERT INTO [dbo].[SystemBillingRateType] ([SystemBillingRateTypeId], [SystemBillingRateType]) VALUES (4, 'Project Task')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemProjectBillingRateType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemProjectBillingRateType]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemProjectBillingRateType] WHERE [SystemProjectBillingRateTypeId] =4 AND [SystemProjectBillingRateType]= 'Use Project Task Billing Rate')
BEGIN
INSERT INTO [dbo].[SystemProjectBillingRateType] ([SystemProjectBillingRateTypeId], [SystemProjectBillingRateType]) VALUES (4, 'Use Project Task Billing Rate')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] =102 AND [SystemSecurityCategoryId] = 1 AND [SequenceNumber] = '21012303' AND [Folder] = 'AccountAdmin' AND [SystemCategoryPage] = 'AuthenticationSetting.aspx' AND [SystemCategoryPageDescription] = 'Authentication Setting' AND [ParentSystemSecurityCateogoryPageId] = 15 AND [IsSiteMapPage] = 1 AND [IsCustomizeable] = 1 AND [IsAllowAdd] = 0 AND [IsAllowEdit]=1 AND [IsAllowDelete]=0 AND [IsAllowList]=0 AND [IsShowDataOptions] is NULL AND [IsShowTillOptions] Is Null AND [IsSystemPage] is NULL AND [ControlLevelPermission] is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (102, 1, '21012303', 'AccountAdmin', 'AuthenticationSetting.aspx', 'Authentication Setting', 15, 1, 1, 0, 1, 0, 0, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (103, 1, '21101', 'ProjectAdmin', 'AccountProjectTemplates.aspx', 'Project Templates', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] =103 AND [SystemSecurityCategoryId] = 1 AND [SequenceNumber] = '21101' AND [Folder] = 'ProjectAdmin' AND [SystemCategoryPage] = 'AccountProjectTemplates.aspx' AND [SystemCategoryPageDescription] = 'Project Templates' AND [ParentSystemSecurityCateogoryPageId] = 15 AND [IsSiteMapPage] = 1 AND [IsCustomizeable] = 1 AND [IsAllowAdd] = 1 AND [IsAllowEdit]=1 AND [IsAllowDelete]= 1 AND [IsAllowList]=1 AND [IsShowDataOptions] is NULL AND [IsShowTillOptions] Is Null AND [IsSystemPage] is NULL AND [ControlLevelPermission] is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (103, 1, '21101', 'ProjectAdmin', 'AccountProjectTemplates.aspx', 'Project Templates', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountRole]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountRole]'

UPDATE [dbo].[MasterAccountRole] SET [LDAPGroup]='TimeLiveAdministrator' WHERE [MasterAccountRoleId]=1
UPDATE [dbo].[MasterAccountRole] SET [LDAPGroup]='TimeLiveUser' WHERE [MasterAccountRoleId]=2
UPDATE [dbo].[MasterAccountRole] SET [LDAPGroup]='TimeLiveTeamLead' WHERE [MasterAccountRoleId]=100
UPDATE [dbo].[MasterAccountRole] SET [LDAPGroup]='TimeLiveProjectManager' WHERE [MasterAccountRoleId]=101
UPDATE [dbo].[MasterAccountRole] SET [LDAPGroup]='TimeLiveExternalUser' WHERE [MasterAccountRoleId]=102
UPDATE [dbo].[MasterAccountRole] SET [LDAPGroup]='TimeLiveTimeEntryApprover' WHERE [MasterAccountRoleId]=103
UPDATE [dbo].[MasterAccountRole] SET [LDAPGroup]='TimeLiveExpenseEntryApprover' WHERE [MasterAccountRoleId]=104

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [IsSiteMapPage]=0 WHERE [SystemSecurityCategoryPageId]=70

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO
-- =======================================================
-- Update ParentAccountProjectTaskId for Table: [dbo].[AccountProjectTask]
-- =======================================================
IF EXISTS (Select * From AccountProjectTask Where ParentAccountProjectTaskId Not In (Select AccountProjectTaskId From AccountProjectTask))
BEGIN
Update AccountProjectTask Set ParentAccountProjectTaskId = 0 Where ParentAccountProjectTaskId Not In (Select AccountProjectTaskId From AccountProjectTask)
END

GO
-- =======================================================
-- Update ParentAccountProjectTaskId for Table: [dbo].[AccountProjectTask]
-- =======================================================
IF EXISTS (Select * From AccountProjectTask Where ParentAccountProjectTaskId = 0)
BEGIN
Update AccountProjectTask Set ParentAccountProjectTaskId = NULL Where ParentAccountProjectTaskId = 0
END

GO
-- Create Foreign Key FK_AccountProjectTask_AccountProjectTask on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountProjectTask on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountProjectTask' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			ADD CONSTRAINT [FK_AccountProjectTask_AccountProjectTask]
			FOREIGN KEY ([ParentAccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
END

--End 2.71.0001


--Start 2.71.0002

GO
-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Add Column Quantity to AccountExpenseEntry
Print 'Add Column Quantity to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Quantity' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [Quantity] float NULL

GO
-- Add Column Rate to AccountExpenseEntry
Print 'Add Column Rate to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Rate' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [Rate] float NULL

GO
-- Add Column AmountBeforeTax to AccountExpenseEntry
Print 'Add Column AmountBeforeTax to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AmountBeforeTax' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [AmountBeforeTax] float NULL

GO
-- Add Column TaxAmount to AccountExpenseEntry
Print 'Add Column TaxAmount to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaxAmount' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [TaxAmount] float NULL

GO
-- Add Column Reimburse to AccountExpenseEntry
Print 'Add Column Reimburse to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Reimburse' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [Reimburse] bit NOT NULL
	CONSTRAINT [DF_AccountExpenseEntry_Reimburse] DEFAULT ((0))

GO

-- Add Column AccountCurrencyId to AccountExpenseEntry
Print 'Add Column AccountCurrencyId to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountCurrencyId' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [AccountCurrencyId] int NULL

GO
-- Add Column AccountPaymentMethodId to AccountExpenseEntry
Print 'Add Column AccountPaymentMethodId to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountPaymentMethodId' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [AccountPaymentMethodId] int NULL

GO
-- Create Table AccountCurrencyExchangeRate
Print 'Create Table AccountCurrencyExchangeRate'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountCurrencyExchangeRate' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountCurrencyExchangeRate] (
		[AccountCurrencyExchangeRateId]           int NOT NULL IDENTITY(1, 1),
		[ExchangeRateEffectiveStartDate]          datetime NOT NULL,
		[ExchangeRateEffectiveEndDate]            datetime NOT NULL,
		[ExchangeRate]                            float NOT NULL,
		[AccountId]                               int NOT NULL,
		[AccountCurrencyId]                       int NOT NULL,
		[MasterAccountCurrencyExchangeRateId]     smallint NULL
)
GO
-- Add Primary Key PK_AccountCurrencyExchangeRate to AccountCurrencyExchangeRate
Print 'Add Primary Key PK_AccountCurrencyExchangeRate to AccountCurrencyExchangeRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrencyExchangeRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountCurrencyExchangeRate' AND TABLE_NAME='AccountCurrencyExchangeRate'))
ALTER TABLE [dbo].[AccountCurrencyExchangeRate]
	ADD
	CONSTRAINT [PK_AccountCurrencyExchangeRate]
	PRIMARY KEY
	([AccountCurrencyExchangeRateId])
GO
-- Create Table AccountCurrency
Print 'Create Table AccountCurrency'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountCurrency' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountCurrency] (
		[AccountCurrencyId]                 int NOT NULL IDENTITY(1, 1),
		[AccountCurrencyExchangeRateId]     int NOT NULL,
		[SystemCurrencyId]                  int NOT NULL,
		[AccountId]                         int NOT NULL,
		[Disabled]                          bit NOT NULL,
		[MasterAccountCurrencyId]           smallint NULL
)
GO
-- Add Primary Key PK_AccountCurrency to AccountCurrency
Print 'Add Primary Key PK_AccountCurrency to AccountCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountCurrency' AND TABLE_NAME='AccountCurrency'))
ALTER TABLE [dbo].[AccountCurrency]
	ADD
	CONSTRAINT [PK_AccountCurrency]
	PRIMARY KEY
	([AccountCurrencyId])
GO
-- Create Index IX_AccountCurrency on AccountCurrency
Print 'Create Index IX_AccountCurrency on AccountCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'IX_AccountCurrency'))
CREATE UNIQUE INDEX [IX_AccountCurrency]
	ON [dbo].[AccountCurrency] ([AccountCurrencyId])
GO
-- Create Table AccountTaxCode
Print 'Create Table AccountTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountTaxCode' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountTaxCode] (
		[AccountTaxCodeId]     int NOT NULL IDENTITY(1, 1),
		[AccountId]            int NOT NULL,
		[TaxCode]              varchar(50) NOT NULL,
		[Formula]              varchar(100) NOT NULL,
		[MasterTaxCodeId]      smallint NULL,
		[IsDisabled]           bit NOT NULL
)
GO
-- Add Primary Key PK_AccountTaxCode to AccountTaxCode
Print 'Add Primary Key PK_AccountTaxCode to AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountTaxCode' AND TABLE_NAME='AccountTaxCode'))
ALTER TABLE [dbo].[AccountTaxCode]
	ADD
	CONSTRAINT [PK_AccountTaxCode]
	PRIMARY KEY
	([AccountTaxCodeId])
GO
-- Add Column AccountTaxCodeId to AccountExpenseType
Print 'Add Column AccountTaxCodeId to AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTaxCodeId' AND TABLE_NAME='AccountExpenseType'))
ALTER TABLE [dbo].[AccountExpenseType]
	ADD [AccountTaxCodeId] int NULL

GO
-- Add Column IsQuantityField to AccountExpenseType
Print 'Add Column IsQuantityField to AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='IsQuantityField' AND TABLE_NAME='AccountExpenseType'))
ALTER TABLE [dbo].[AccountExpenseType]
	ADD [IsQuantityField] bit NULL

GO
-- Add Column QuantityFieldCaption to AccountExpenseType
Print 'Add Column QuantityFieldCaption to AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='QuantityFieldCaption' AND TABLE_NAME='AccountExpenseType'))
ALTER TABLE [dbo].[AccountExpenseType]
	ADD [QuantityFieldCaption] varchar(50) NULL

GO
-- Add Column AccountBaseCurrencyId to AccountPreferences
Print 'Add Column AccountBaseCurrencyId to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountBaseCurrencyId' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [AccountBaseCurrencyId] int NULL

GO
-- Add Column AccountReimbursementCurrencyId to AccountPreferences
Print 'Add Column AccountReimbursementCurrencyId to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountReimbursementCurrencyId' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [AccountReimbursementCurrencyId] int NULL

GO
-- Create View vueAccountCurrency
Print 'Create View vueAccountCurrency'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountCurrency' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountCurrency
AS
SELECT     dbo.SystemCurrency.CurrencyCode, dbo.SystemCurrency.Currency, dbo.AccountCurrency.Disabled, dbo.AccountCurrency.AccountId, 
                      dbo.AccountCurrency.AccountCurrencyId, dbo.AccountCurrencyExchangeRate.ExchangeRate, 
                      dbo.AccountCurrency.AccountCurrencyExchangeRateId
FROM         dbo.AccountCurrencyExchangeRate RIGHT OUTER JOIN
                      dbo.AccountCurrency ON 
                      dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId = dbo.AccountCurrency.AccountCurrencyExchangeRateId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId'
GO
-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountTaxCode.TaxCode, 
                      dbo.AccountExpenseType.QuantityFieldCaption
FROM         dbo.AccountTaxCode RIGHT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountTaxCode.AccountTaxCodeId = dbo.AccountExpenseType.AccountTaxCodeId RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create Table MasterPaymentMethod
Print 'Create Table MasterPaymentMethod'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterPaymentMethod' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterPaymentMethod] (
		[MasterPaymentMethodId]     smallint NOT NULL,
		[PaymentMethod]             varchar(50) NOT NULL
)
GO
-- Add Primary Key PK_SystemPaymentMethod to MasterPaymentMethod
Print 'Add Primary Key PK_SystemPaymentMethod to MasterPaymentMethod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemPaymentMethod' AND TABLE_NAME='MasterPaymentMethod'))
ALTER TABLE [dbo].[MasterPaymentMethod]
	ADD
	CONSTRAINT [PK_SystemPaymentMethod]
	PRIMARY KEY
	([MasterPaymentMethodId])
GO
-- Create Table MasterTaxCode
Print 'Create Table MasterTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterTaxCode' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterTaxCode] (
		[MasterTaxCodeId]     smallint NOT NULL,
		[TaxCode]             varchar(50) NOT NULL,
		[Formula]             varchar(100) NOT NULL
)
GO
-- Add Primary Key PK_MasterTaxCode to MasterTaxCode
Print 'Add Primary Key PK_MasterTaxCode to MasterTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_MasterTaxCode' AND TABLE_NAME='MasterTaxCode'))
ALTER TABLE [dbo].[MasterTaxCode]
	ADD
	CONSTRAINT [PK_MasterTaxCode]
	PRIMARY KEY
	([MasterTaxCodeId])
GO
-- Create Table SystemAttachmentType
Print 'Create Table SystemAttachmentType'
GO
if not exists (select * from information_schema.tables where table_name = 'SystemAttachmentType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemAttachmentType] (
		[SystemAttachmentTypeId]     int NOT NULL,
		[SystemAttachmentType]       varchar(50) NOT NULL
)
GO
-- Add Primary Key PK_SystemAttachmentType to SystemAttachmentType
Print 'Add Primary Key PK_SystemAttachmentType to SystemAttachmentType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemAttachmentType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemAttachmentType' AND TABLE_NAME='SystemAttachmentType'))
ALTER TABLE [dbo].[SystemAttachmentType]
	ADD
	CONSTRAINT [PK_SystemAttachmentType]
	PRIMARY KEY
	([SystemAttachmentTypeId])
GO
-- Add Column AccountBaseCurrencyId to MasterAccountPreferences
Print 'Add Column AccountBaseCurrencyId to MasterAccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountBaseCurrencyId' AND TABLE_NAME='MasterAccountPreferences'))
ALTER TABLE [dbo].[MasterAccountPreferences]
	ADD [AccountBaseCurrencyId] int NULL

GO
-- Add Column AccountReimbursementCurrencyId to MasterAccountPreferences
Print 'Add Column AccountReimbursementCurrencyId to MasterAccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountReimbursementCurrencyId' AND TABLE_NAME='MasterAccountPreferences'))
ALTER TABLE [dbo].[MasterAccountPreferences]
	ADD [AccountReimbursementCurrencyId] int NULL

GO
-- Add Column IsShowQuantityField to MasterAccountExpenseType
Print 'Add Column IsShowQuantityField to MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='IsShowQuantityField' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	ADD [IsShowQuantityField] bit NULL

GO
-- Add Column QuantityFieldCaption to MasterAccountExpenseType
Print 'Add Column QuantityFieldCaption to MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='QuantityFieldCaption' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	ADD [QuantityFieldCaption] varchar(50) NULL

GO
-- Add Column IsInputTax to MasterAccountExpenseType
Print 'Add Column IsInputTax to MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='IsInputTax' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	ADD [IsInputTax] bit NULL

GO
-- Add Column TaxFieldCaption to MasterAccountExpenseType
Print 'Add Column TaxFieldCaption to MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaxFieldCaption' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	ADD [TaxFieldCaption] varchar(50) NULL

GO
-- Add Column MasterTaxCodeId to MasterAccountExpenseType
Print 'Add Column MasterTaxCodeId to MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MasterTaxCodeId' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	ADD [MasterTaxCodeId] smallint NULL

GO
-- Create Table MasterAccountCurrency
Print 'Create Table MasterAccountCurrency'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterAccountCurrency' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterAccountCurrency] (
		[MasterAccountCurrencyId]                 smallint NOT NULL,
		[MasterAccountCurrencyExchangeRateId]     smallint NOT NULL,
		[SystemCurrencyId]                        int NOT NULL
)
GO
-- Add Primary Key PK_MasterAccountCurrency to MasterAccountCurrency
Print 'Add Primary Key PK_MasterAccountCurrency to MasterAccountCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_MasterAccountCurrency' AND TABLE_NAME='MasterAccountCurrency'))
ALTER TABLE [dbo].[MasterAccountCurrency]
	ADD
	CONSTRAINT [PK_MasterAccountCurrency]
	PRIMARY KEY
	([MasterAccountCurrencyId])
GO
-- Create Table MasterAccountCurrencyExchangeRate
Print 'Create Table MasterAccountCurrencyExchangeRate'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterAccountCurrencyExchangeRate' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterAccountCurrencyExchangeRate] (
		[MasterAccountCurrencyExchangeRateId]     smallint NOT NULL,
		[ExchangeRateEffectiveStartDate]          datetime NULL,
		[ExchangeRateEffectiveEndDate]            datetime NULL,
		[ExchangeRate]                            money NOT NULL,
		[MasterAccountCurrencyId]                 smallint NULL
)
GO
-- Add Primary Key PK_MasterAccountCurrencyExchangeRate to MasterAccountCurrencyExchangeRate
Print 'Add Primary Key PK_MasterAccountCurrencyExchangeRate to MasterAccountCurrencyExchangeRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountCurrencyExchangeRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_MasterAccountCurrencyExchangeRate' AND TABLE_NAME='MasterAccountCurrencyExchangeRate'))
ALTER TABLE [dbo].[MasterAccountCurrencyExchangeRate]
	ADD
	CONSTRAINT [PK_MasterAccountCurrencyExchangeRate]
	PRIMARY KEY
	([MasterAccountCurrencyExchangeRateId])
GO
-- Create Table AccountAttachments
Print 'Create Table AccountAttachments'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountAttachments' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountAttachments] (
		[AccountAttachmentId]         int NOT NULL IDENTITY(1, 1),
		[AccountAttachmentTypeId]     int NOT NULL,
		[AccountExpenseEntryId]       int NOT NULL,
		[AttachmentName]              varchar(500) NOT NULL,
		[AttachmentLocalPath]         varchar(500) NOT NULL,
		[CreatedOn]                   datetime NOT NULL,
		[CreatedByEmployeeId]         int NOT NULL,
		[ModifiedOn]                  datetime NOT NULL,
		[ModifiedByEmployeeId]        int NOT NULL
)
GO
-- Add Primary Key PK_AccountAttachments to AccountAttachments
Print 'Add Primary Key PK_AccountAttachments to AccountAttachments'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAttachments' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountAttachments' AND TABLE_NAME='AccountAttachments'))
ALTER TABLE [dbo].[AccountAttachments]
	ADD
	CONSTRAINT [PK_AccountAttachments]
	PRIMARY KEY
	([AccountAttachmentId])
GO
-- Create Table AccountPaymentMethod
Print 'Create Table AccountPaymentMethod'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountPaymentMethod' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountPaymentMethod] (
		[AccountPaymentMethodId]     int NOT NULL IDENTITY(1, 1),
		[AccountId]                  int NOT NULL,
		[PaymentMethod]              varchar(50) NOT NULL,
		[MasterPaymentMethodId]      smallint NULL,
		[IsDisabled]                 bit NOT NULL
)
GO
-- Add Primary Key PK_AccountPaymentMethod to AccountPaymentMethod
Print 'Add Primary Key PK_AccountPaymentMethod to AccountPaymentMethod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountPaymentMethod' AND TABLE_NAME='AccountPaymentMethod'))
ALTER TABLE [dbo].[AccountPaymentMethod]
	ADD
	CONSTRAINT [PK_AccountPaymentMethod]
	PRIMARY KEY
	([AccountPaymentMethodId])
GO
-- Create View vueAccountCurrencyExchangeRate
Print 'Create View vueAccountCurrencyExchangeRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountCurrencyExchangeRate' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountCurrencyExchangeRate
AS
SELECT     dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId, dbo.AccountCurrencyExchangeRate.ExchangeRateEffectiveStartDate, 
                      dbo.AccountCurrencyExchangeRate.ExchangeRateEffectiveEndDate, dbo.AccountCurrencyExchangeRate.ExchangeRate, 
                      dbo.AccountCurrencyExchangeRate.AccountId, dbo.AccountCurrency.AccountCurrencyId
FROM         dbo.AccountCurrencyExchangeRate LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId = dbo.AccountCurrency.AccountCurrencyExchangeRateId'
GO
-- Create View vueAccountBaseCurrency
Print 'Create View vueAccountBaseCurrency'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountBaseCurrency' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountBaseCurrency
AS
SELECT     dbo.AccountPreferences.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode + '' - '' + dbo.vueAccountCurrency.Currency AS BaseCurrency, 
                      dbo.AccountPreferences.AccountId, dbo.vueAccountCurrency.CurrencyCode
FROM         dbo.AccountPreferences LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.AccountPreferences.AccountBaseCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View vueAccountExpenseType
Print 'Create View vueAccountExpenseType'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseType' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseType
AS
SELECT     dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpenseType.AccountId, 
                      dbo.AccountExpenseType.CreatedOn, dbo.AccountExpenseType.ModifiedOn, dbo.AccountExpenseType.CreatedByEmployeeId, 
                      dbo.AccountExpenseType.ModifiedByEmployeeId, dbo.AccountExpenseType.IsDisabled, dbo.AccountExpenseType.AccountTaxCodeId, 
                      dbo.AccountTaxCode.TaxCode
FROM         dbo.AccountExpenseType LEFT OUTER JOIN
                      dbo.AccountTaxCode ON dbo.AccountExpenseType.AccountTaxCodeId = dbo.AccountTaxCode.AccountTaxCodeId'
GO
-- Create View vueAccountExpenseWithTaxCode
Print 'Create View vueAccountExpenseWithTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseWithTaxCode' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseWithTaxCode
AS
SELECT     dbo.AccountExpense.AccountExpenseId, dbo.AccountTaxCode.TaxCode, dbo.AccountTaxCode.Formula, dbo.AccountExpense.AccountId, 
                      dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpenseType.IsQuantityField, 
                      dbo.AccountExpenseType.QuantityFieldCaption
FROM         dbo.AccountExpense INNER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountTaxCode ON dbo.AccountExpenseType.AccountTaxCodeId = dbo.AccountTaxCode.AccountTaxCodeId'
GO
-- Create Foreign Key FK_AccountTaxCode_Account on AccountTaxCode
Print 'Create Foreign Key FK_AccountTaxCode_Account on AccountTaxCode'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTaxCode_Account' AND TABLE_NAME='AccountTaxCode')
BEGIN
		ALTER TABLE [dbo].[AccountTaxCode]
			ADD CONSTRAINT [FK_AccountTaxCode_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
END
GO
 
-- Create Foreign Key FK_AccountTaxCode_MasterTaxCode on AccountTaxCode
Print 'Create Foreign Key FK_AccountTaxCode_MasterTaxCode on AccountTaxCode'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTaxCode_MasterTaxCode' AND TABLE_NAME='AccountTaxCode')
BEGIN
		ALTER TABLE [dbo].[AccountTaxCode]
			ADD CONSTRAINT [FK_AccountTaxCode_MasterTaxCode]
			FOREIGN KEY ([MasterTaxCodeId]) REFERENCES [dbo].[MasterTaxCode] ([MasterTaxCodeId])
END
GO
-- Create Foreign Key FK_AccountAttachments_AccountAttachments on AccountAttachments
Print 'Create Foreign Key FK_AccountAttachments_AccountAttachments on AccountAttachments'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountAttachments_AccountAttachments' AND TABLE_NAME='AccountAttachments')
BEGIN
		ALTER TABLE [dbo].[AccountAttachments]
			ADD CONSTRAINT [FK_AccountAttachments_AccountAttachments]
			FOREIGN KEY ([AccountAttachmentId]) REFERENCES [dbo].[AccountAttachments] ([AccountAttachmentId])
END
GO
-- Create Foreign Key FK_AccountAttachments_AccountExpenseEntry on AccountAttachments
Print 'Create Foreign Key FK_AccountAttachments_AccountExpenseEntry on AccountAttachments'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountAttachments_AccountExpenseEntry' AND TABLE_NAME='AccountAttachments')
BEGIN
		ALTER TABLE [dbo].[AccountAttachments]
			ADD CONSTRAINT [FK_AccountAttachments_AccountExpenseEntry]
			FOREIGN KEY ([AccountExpenseEntryId]) REFERENCES [dbo].[AccountExpenseEntry] ([AccountExpenseEntryId])
END
GO
-- Create Foreign Key FK_AccountPreferences_AccountCurrency on AccountPreferences
Print 'Create Foreign Key FK_AccountPreferences_AccountCurrency on AccountPreferences'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_AccountCurrency' AND TABLE_NAME='AccountPreferences')
BEGIN
		ALTER TABLE [dbo].[AccountPreferences]
			ADD CONSTRAINT [FK_AccountPreferences_AccountCurrency]
			FOREIGN KEY ([AccountBaseCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END
GO
-- Create Foreign Key FK_AccountPreferences_AccountCurrency1 on AccountPreferences
Print 'Create Foreign Key FK_AccountPreferences_AccountCurrency1 on AccountPreferences'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_AccountCurrency1' AND TABLE_NAME='AccountPreferences')
BEGIN
		ALTER TABLE [dbo].[AccountPreferences]
			ADD CONSTRAINT [FK_AccountPreferences_AccountCurrency1]
			FOREIGN KEY ([AccountReimbursementCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END
GO
-- Create Foreign Key FK_AccountExpenseEntry_AccountCurrency on AccountExpenseEntry
Print 'Create Foreign Key FK_AccountExpenseEntry_AccountCurrency on AccountExpenseEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_AccountCurrency' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseEntry]
			ADD CONSTRAINT [FK_AccountExpenseEntry_AccountCurrency]
			FOREIGN KEY ([AccountCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END
GO
-- Create Foreign Key FK_AccountExpenseEntry_AccountExpenseEntry on AccountExpenseEntry
Print 'Create Foreign Key FK_AccountExpenseEntry_AccountExpenseEntry on AccountExpenseEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_AccountExpenseEntry' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseEntry]
			ADD CONSTRAINT [FK_AccountExpenseEntry_AccountExpenseEntry]
			FOREIGN KEY ([AccountExpenseEntryId]) REFERENCES [dbo].[AccountExpenseEntry] ([AccountExpenseEntryId])
END
GO
-- Create Foreign Key FK_AccountExpenseEntry_AccountPaymentMethod on AccountExpenseEntry
Print 'Create Foreign Key FK_AccountExpenseEntry_AccountPaymentMethod on AccountExpenseEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_AccountPaymentMethod' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseEntry]
			ADD CONSTRAINT [FK_AccountExpenseEntry_AccountPaymentMethod]
			FOREIGN KEY ([AccountPaymentMethodId]) REFERENCES [dbo].[AccountPaymentMethod] ([AccountPaymentMethodId])
END
GO
-- Create Foreign Key FK_AccountPaymentMethod_Account on AccountPaymentMethod
Print 'Create Foreign Key FK_AccountPaymentMethod_Account on AccountPaymentMethod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPaymentMethod_Account' AND TABLE_NAME='AccountPaymentMethod')
BEGIN
		ALTER TABLE [dbo].[AccountPaymentMethod]
			ADD CONSTRAINT [FK_AccountPaymentMethod_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
END
GO
-- Create Foreign Key FK_AccountPaymentMethod_MasterPaymentMethod on AccountPaymentMethod
Print 'Create Foreign Key FK_AccountPaymentMethod_MasterPaymentMethod on AccountPaymentMethod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPaymentMethod_MasterPaymentMethod' AND TABLE_NAME='AccountPaymentMethod')
BEGIN
		ALTER TABLE [dbo].[AccountPaymentMethod]
			ADD CONSTRAINT [FK_AccountPaymentMethod_MasterPaymentMethod]
			FOREIGN KEY ([MasterPaymentMethodId]) REFERENCES [dbo].[MasterPaymentMethod] ([MasterPaymentMethodId])
END
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountCurrency]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountCurrency]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterAccountCurrency] WHERE [MasterAccountCurrencyId]=1 AND [MasterAccountCurrencyExchangeRateId]= 1 AND [SystemCurrencyId]=1)
BEGIN
INSERT INTO [dbo].[MasterAccountCurrency] ([MasterAccountCurrencyId], [MasterAccountCurrencyExchangeRateId], [SystemCurrencyId]) VALUES (1, 1, 1)
INSERT INTO [dbo].[MasterAccountCurrency] ([MasterAccountCurrencyId], [MasterAccountCurrencyExchangeRateId], [SystemCurrencyId]) VALUES (2, 2, 28)
INSERT INTO [dbo].[MasterAccountCurrency] ([MasterAccountCurrencyId], [MasterAccountCurrencyExchangeRateId], [SystemCurrencyId]) VALUES (3, 3, 51)
INSERT INTO [dbo].[MasterAccountCurrency] ([MasterAccountCurrencyId], [MasterAccountCurrencyExchangeRateId], [SystemCurrencyId]) VALUES (4, 4, 75)
INSERT INTO [dbo].[MasterAccountCurrency] ([MasterAccountCurrencyId], [MasterAccountCurrencyExchangeRateId], [SystemCurrencyId]) VALUES (5, 5, 48)
INSERT INTO [dbo].[MasterAccountCurrency] ([MasterAccountCurrencyId], [MasterAccountCurrencyExchangeRateId], [SystemCurrencyId]) VALUES (6, 6, 9)
INSERT INTO [dbo].[MasterAccountCurrency] ([MasterAccountCurrencyId], [MasterAccountCurrencyExchangeRateId], [SystemCurrencyId]) VALUES (7, 7, 30)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountCurrencyExchangeRate]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountCurrencyExchangeRate]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterAccountCurrencyExchangeRate] WHERE [MasterAccountCurrencyExchangeRateId]= 1 AND [ExchangeRateEffectiveStartDate]='20080403 00:00:00.000' AND [ExchangeRateEffectiveEndDate] = '20090403 00:00:00.000' And [ExchangeRate]=1.0000 And [MasterAccountCurrencyId]=1)
BEGIN
INSERT INTO [dbo].[MasterAccountCurrencyExchangeRate] ([MasterAccountCurrencyExchangeRateId], [ExchangeRateEffectiveStartDate], [ExchangeRateEffectiveEndDate], [ExchangeRate], [MasterAccountCurrencyId]) VALUES (1, '20080403 00:00:00.000', '20090403 00:00:00.000', 1.0000, 1)
INSERT INTO [dbo].[MasterAccountCurrencyExchangeRate] ([MasterAccountCurrencyExchangeRateId], [ExchangeRateEffectiveStartDate], [ExchangeRateEffectiveEndDate], [ExchangeRate], [MasterAccountCurrencyId]) VALUES (2, '20080403 00:00:00.000', '20090403 00:00:00.000', 1.3370, 2)
INSERT INTO [dbo].[MasterAccountCurrencyExchangeRate] ([MasterAccountCurrencyExchangeRateId], [ExchangeRateEffectiveStartDate], [ExchangeRateEffectiveEndDate], [ExchangeRate], [MasterAccountCurrencyId]) VALUES (3, '20080403 00:00:00.000', '20090403 00:00:00.000', 0.5448, 3)
INSERT INTO [dbo].[MasterAccountCurrencyExchangeRate] ([MasterAccountCurrencyExchangeRateId], [ExchangeRateEffectiveStartDate], [ExchangeRateEffectiveEndDate], [ExchangeRate], [MasterAccountCurrencyId]) VALUES (4, '20080403 00:00:00.000', '20090403 00:00:00.000', 105.7290, 4)
INSERT INTO [dbo].[MasterAccountCurrencyExchangeRate] ([MasterAccountCurrencyExchangeRateId], [ExchangeRateEffectiveStartDate], [ExchangeRateEffectiveEndDate], [ExchangeRate], [MasterAccountCurrencyId]) VALUES (5, '20080403 00:00:00.000', '20090403 00:00:00.000', 0.7965, 5)
INSERT INTO [dbo].[MasterAccountCurrencyExchangeRate] ([MasterAccountCurrencyExchangeRateId], [ExchangeRateEffectiveStartDate], [ExchangeRateEffectiveEndDate], [ExchangeRate], [MasterAccountCurrencyId]) VALUES (6, '20080403 00:00:00.000', '20090403 00:00:00.000', 1.3136, 6)
INSERT INTO [dbo].[MasterAccountCurrencyExchangeRate] ([MasterAccountCurrencyExchangeRateId], [ExchangeRateEffectiveStartDate], [ExchangeRateEffectiveEndDate], [ExchangeRate], [MasterAccountCurrencyId]) VALUES (7, '20080403 00:00:00.000', '20090403 00:00:00.000', 1.2493, 7)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterPaymentMethod]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterPaymentMethod]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterPaymentMethod] WHERE [MasterPaymentMethodId]= 1 AND [PaymentMethod]='American Express')
BEGIN
INSERT INTO [dbo].[MasterPaymentMethod] ([MasterPaymentMethodId], [PaymentMethod]) VALUES (1, 'American Express')
INSERT INTO [dbo].[MasterPaymentMethod] ([MasterPaymentMethodId], [PaymentMethod]) VALUES (2, 'Cash')
INSERT INTO [dbo].[MasterPaymentMethod] ([MasterPaymentMethodId], [PaymentMethod]) VALUES (3, 'Master Card')
INSERT INTO [dbo].[MasterPaymentMethod] ([MasterPaymentMethodId], [PaymentMethod]) VALUES (4, 'Visa')
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterTaxCode]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterTaxCode]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterTaxCode] WHERE [MasterTaxCodeId]= 1 AND [TaxCode]='Airport Tax' And [Formula]='10.00')
BEGIN
INSERT INTO [dbo].[MasterTaxCode] ([MasterTaxCodeId], [TaxCode], [Formula]) VALUES (1, 'Airport Tax', '10.00')
INSERT INTO [dbo].[MasterTaxCode] ([MasterTaxCodeId], [TaxCode], [Formula]) VALUES (2, 'GST', 'Net * 0.05')
INSERT INTO [dbo].[MasterTaxCode] ([MasterTaxCodeId], [TaxCode], [Formula]) VALUES (3, 'Hotel Tax', 'Net * 0.06')
INSERT INTO [dbo].[MasterTaxCode] ([MasterTaxCodeId], [TaxCode], [Formula]) VALUES (4, 'PST', 'Net * 0.07')
INSERT INTO [dbo].[MasterTaxCode] ([MasterTaxCodeId], [TaxCode], [Formula]) VALUES (5, 'State Sales Tax', 'Net * 0.065')
INSERT INTO [dbo].[MasterTaxCode] ([MasterTaxCodeId], [TaxCode], [Formula]) VALUES (6, 'VAT', 'Net * 0.15')
--INSERT INTO [dbo].[MasterTaxCode] ([MasterTaxCodeId], [TaxCode], [Formula]) VALUES (7, 'VAT', 'Net * 0.15')
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemAttachmentType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemAttachmentType]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemAttachmentType] WHERE [SystemAttachmentTypeId]= 1 AND [SystemAttachmentType]='ExpenseEntry')
BEGIN
INSERT INTO [dbo].[SystemAttachmentType] ([SystemAttachmentTypeId], [SystemAttachmentType]) VALUES (1, 'ExpenseEntry')
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] =104 AND [SystemSecurityCategoryId] = 1 AND [SequenceNumber] = '2130021023' AND [Folder] = 'AccountAdmin' AND [SystemCategoryPage] = 'AccountCurrencies.aspx' AND [SystemCategoryPageDescription] = 'Currencies' AND [ParentSystemSecurityCateogoryPageId] = 15 AND [IsSiteMapPage] = 1 AND [IsCustomizeable] = 1 AND [IsAllowAdd] = 1 AND [IsAllowEdit]=1 AND [IsAllowDelete]=1 AND [IsAllowList]=1 AND [IsShowDataOptions] is NULL AND [IsShowTillOptions]is NULL AND [IsSystemPage]is NULL AND [ControlLevelPermission]is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (104, 1, '2130021023', 'AccountAdmin', 'AccountCurrencies.aspx', 'Currencies', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (105, 1, '2130021024', 'AccountAdmin', 'AccountCurrencyExchangeRate.aspx', 'Exchange Rate', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (106, 1, '2130021026', 'AccountAdmin', 'AccountPaymentMethod.aspx', 'Payment Method', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (107, 1, '2130021027', 'AccountAdmin', 'AccountTaxCode.aspx', 'Tax Code', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (108, 1, '2130021028', 'AccountAdmin', 'AccountAttachments.aspx', 'Attachments', 20, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
--INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (109, 2, '21300210', 'Employee', 'AccountEmployeeTimeEntryTimeCardView.aspx', 'Time Entry Time Card View', 18, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (110, 6, '21300211', 'Reports', 'UserHoursDetail.aspx', 'Department Wise Timesheet Report', 75, 1, 1, NULL, NULL, NULL, 1, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (111, 6, '21300212', 'Reports', 'TaskSummary.aspx', 'Task Summary Report', 75, 1, 1, NULL, NULL, NULL, 1, 1, NULL, NULL, NULL)
END

IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemCategoryPage] = 'UpdateCurrencies.aspx')
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (112, 1, '21300213', 'AccountAdmin', 'UpdateCurrencies.aspx', 'Update Currencies', 20, 1, 1, NULL, 1, NULL, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (113, 1, '21300214', 'AccountAdmin', 'TimeSheetArchieve.aspx', 'Timesheet Archieve', 15, 1, 1, NULL, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (114, 1, '21300215', 'AccountAdmin', 'ExpenseArchieve.aspx', 'Expense Archieve', 15, 1, 1, NULL, 1, 1, 1, NULL, NULL, NULL, NULL)
END

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountExpenseType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountExpenseType]'
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0, [MasterTaxCodeId]=1 WHERE [MasterAccountExpenseId]=1
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0, [MasterTaxCodeId]=2 WHERE [MasterAccountExpenseId]=2
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=3
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=4
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=5
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=6
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=7
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=8
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=9
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0, [MasterTaxCodeId]=2 WHERE [MasterAccountExpenseId]=10
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=11
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0, [MasterTaxCodeId]=2 WHERE [MasterAccountExpenseId]=12
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=0 WHERE [MasterAccountExpenseId]=13

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountPreferences]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountPreferences]'

UPDATE [dbo].[MasterAccountPreferences] SET [AccountBaseCurrencyId]=1, [AccountReimbursementCurrencyId]=1 WHERE [MasterAccountPreferencesId]=1


-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]



GO
-- Drop View vueAccountExpenseWithTaxCode
Print 'Drop View vueAccountExpenseWithTaxCode'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseWithTaxCode' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseWithTaxCode]
GO
-- Drop View vueAccountExpenseEntryApprovalPending
Print 'Drop View vueAccountExpenseEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPending]
GO
-- Drop View vueAccountExpenseEntryWithLastStatus
Print 'Drop View vueAccountExpenseEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryWithLastStatus]
GO
-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Drop View vueAccountExpenseEntryApproval
Print 'Drop View vueAccountExpenseEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryApproval]
GO
-- Create View vueAccountExpenseEntryApproval
Print 'Create View vueAccountExpenseEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, dbo.AccountExpenseEntryApproval.Comments, 
                      dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpense.IsBillable, 
                      dbo.AccountExpenseEntry.AccountEmployeeId AS ExpenseEntryAccountEmployeeId, dbo.AccountExpenseEntry.Description, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountEmployee.EmailAddress
FROM         dbo.AccountExpense RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId ON 
                      dbo.AccountExpense.AccountExpenseId = dbo.AccountExpenseEntry.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId'
GO
-- Create View vueAccountExpenseEntryApprovalPending
Print 'Create View vueAccountExpenseEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPending
AS
SELECT     dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApproval.ProjectName, 
                      dbo.vueAccountExpenseEntryApproval.ProjectDescription, dbo.vueAccountExpenseEntryApproval.ProjectCode, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeName, dbo.vueAccountExpenseEntryApproval.Approved, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntryApproval.IsRejected, 
                      dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, dbo.vueAccountExpenseEntryApproval.EmailAddress
FROM         dbo.vueAccountExpenseEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueExpenseApprovalSequence AS vueExpenseApprovalSequence_1
                            WHERE      (ExpenseApprovalId IS NULL) AND (AccountExpenseEntryId = dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId)))'
GO
-- Create View vueAccountExpenseEntryApprovalPendingApprover
Print 'Create View vueAccountExpenseEntryApprovalPendingApprover'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingApprover' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingApprover
AS
SELECT     AccountProjectId, LeaderEmployeeId, ProjectManagerEmployeeId, ApprovalTypeName, AccountApprovalPathId, AccountApprovalTypeId, 
                      SystemApproverTypeId, AccountExternalUserId, AccountEmployeeId, ApprovalPathSequence, AccountExpenseEntryId, ExpenseApprovalId, 
                      ExpenseApprovalPathId, ProjectName, ProjectCode, ProjectDescription, EmployeeName, Approved, ExpenseApprovalTypeId, 
                      AccountExpenseEntryDate, Comments, IsRejected, IsApproved, Amount, AccountExpenseName, IsBillable, ExpenseEntryAccountEmployeeId, 
                      Description, AccountId, MaxApprovalPathSequence, 
                      CASE WHEN systemapprovertypeid = 1 THEN LeaderEmployeeId WHEN systemapprovertypeid = 2 THEN ProjectManagerEmployeeId WHEN systemapprovertypeid
                       = 3 THEN AccountEmployeeId WHEN systemapprovertypeid = 4 THEN AccountExternalUserId END AS ApproverEmployeeId, EmailAddress
FROM         dbo.vueAccountExpenseEntryApprovalPending'
GO
-- Create View vueAccountExpenseEntryApprovalPendingEmail
Print 'Create View vueAccountExpenseEntryApprovalPendingEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingEmail
AS
SELECT     dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountProjectId, dbo.vueAccountExpenseEntryApprovalPendingApprover.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountApprovalPathId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.SystemApproverTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseEntryId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectName, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectCode, dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.EmployeeName, dbo.vueAccountExpenseEntryApprovalPendingApprover.Approved, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.Comments, dbo.vueAccountExpenseEntryApprovalPendingApprover.IsRejected, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.IsApproved, dbo.vueAccountExpenseEntryApprovalPendingApprover.Amount, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseName, dbo.vueAccountExpenseEntryApprovalPendingApprover.IsBillable, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.Description, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.MaxApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApproverEmployeeId, dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountId,dbo.vueAccountExpenseEntryApprovalPendingApprover.EmailAddress
FROM         dbo.vueAccountExpenseEntryApprovalPendingApprover LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountProjectId = AccountEMailNotificationPreference_2.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountId = AccountEMailNotificationPreference_1.AccountId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApproverEmployeeId = dbo.AccountEMailNotificationPreference.AccountEmployeeId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 26) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 27) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 28) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountTaxCode.TaxCode, 
                      dbo.AccountExpenseType.QuantityFieldCaption, dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountExpenseEntry.TimeSheetApprovalPathId, 
                      dbo.AccountCurrencyExchangeRate.ExchangeRate
FROM         dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountCurrency INNER JOIN
                      dbo.AccountCurrencyExchangeRate ON 
                      dbo.AccountCurrency.AccountCurrencyExchangeRateId = dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId ON 
                      dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId LEFT OUTER JOIN
                      dbo.AccountTaxCode RIGHT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountTaxCode.AccountTaxCodeId = dbo.AccountExpenseType.AccountTaxCodeId ON 
                      dbo.AccountExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountExpenseWithTaxCode
Print 'Create View vueAccountExpenseWithTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseWithTaxCode' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseWithTaxCode
AS
SELECT     dbo.AccountExpense.AccountExpenseId, dbo.AccountExpense.AccountId, dbo.AccountExpenseType.AccountExpenseTypeId, 
                      dbo.AccountExpenseType.ExpenseType, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseType.AccountTaxCodeId, dbo.AccountTaxCode.Formula, dbo.AccountTaxCode.TaxCode
FROM         dbo.AccountExpense LEFT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountTaxCode ON dbo.AccountExpenseType.AccountTaxCodeId = dbo.AccountTaxCode.AccountTaxCodeId'
GO
-- Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountExpenseEntryApprovalPendingEmail.*, dbo.AccountEmployee.EMailAddress As ApproverEmailAddress, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime
FROM         dbo.vueAccountExpenseEntryApprovalPendingEmail LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountExpenseEntryApprovalPendingEmail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountExpenseEntryApprovedEmail
Print 'Create View vueAccountExpenseEntryApprovedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovedEmail
AS
SELECT     dbo.AccountEmployee.EMailAddress, dbo.vueAccountExpenseEntry.*, dbo.AccountExpenseEntryApproval.Comments
FROM         dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.vueAccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId ON 
                      AccountEMailNotificationPreference_1.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 22) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 20) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 21) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountExpenseEntryWithLastStatus
Print 'Create View vueAccountExpenseEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryWithLastStatus
AS
SELECT     dbo.vueAccountExpenseEntryWithLastAction.IsRejected, dbo.vueAccountExpenseEntryWithLastAction.IsApproved, 
                      dbo.vueAccountExpenseEntry.EmployeeName, dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, 
                      dbo.vueAccountExpenseEntry.TaxCode, dbo.vueAccountExpenseEntry.QuantityFieldCaption
FROM         dbo.vueAccountExpenseEntryWithLastAction RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntry ON 
                      dbo.vueAccountExpenseEntryWithLastAction.AccountExpenseEntryId = dbo.vueAccountExpenseEntry.AccountExpenseEntryId'
GO
-- Create View vueAccountExpenseEntryRejectedEmail
Print 'Create View vueAccountExpenseEntryRejectedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryRejectedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryRejectedEmail
AS
SELECT     dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntry.EmployeeName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, 
                      dbo.vueAccountExpenseEntry.TaxCode, dbo.vueAccountExpenseEntry.QuantityFieldCaption, 
                      dbo.vueAccountExpenseEntry.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountExpenseEntry.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntry.TimeSheetApprovalPathId, 
                     dbo.vueAccountExpenseEntry.ExchangeRate
FROM         dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.vueAccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId ON 
                      AccountEMailNotificationPreference_1.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 25) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 23) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 24) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountExpenseEntryApprovalLastAction
Print 'Create View vueAccountExpenseEntryApprovalLastAction'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalLastAction' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalLastAction
AS
SELECT     ExpenseApprovalId, AccountExpenseEntryId, ExpenseApprovalTypeId, ExpenseApprovalPathId, ApprovedByEmployeeId, ApprovedOn, Comments, 
                      IsRejected, IsApproved
FROM         dbo.AccountExpenseEntryApproval AS parent
WHERE     (ExpenseApprovalId =
                          (SELECT     MAX(ExpenseApprovalId) AS Expr1
                            FROM          dbo.AccountExpenseEntryApproval
                            WHERE      (AccountExpenseEntryId = parent.AccountExpenseEntryId)))'
GO

IF NOT EXISTS (SELECT * FROM [dbo].[SystemEMailNotification] WHERE [SystemEMailNotificationId] = 20 and [SystemEMailNotification] = 'Expense Entry Approved Notification' and [SystemEMailNotificationTypeId] = 1 and [Enabled] =1)
BEGIN
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (20, 'Expense Entry Approved Notification', 1, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (21, 'Expense Entry Approved Notification', 2, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (22, 'Expense Entry Approved Notification', 3, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (23, 'Expense Entry Rejected Notification', 1, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (24, 'Expense Entry Rejected Notification', 2, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (25, 'Expense Entry Rejected Notification', 3, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (26, 'Daily Expense Approval Pending Notification', 1, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (27, 'Daily Expense Approval Pending Notification', 2, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (28, 'Daily Expense Approval Pending Notification', 3, 1)
END

UPDATE [dbo].[MasterAccountExpenseType] SET [MasterTaxCodeId]=1 WHERE [MasterAccountExpenseId]=1
UPDATE [dbo].[MasterAccountExpenseType] SET [MasterTaxCodeId]=2 WHERE [MasterAccountExpenseId]=2
UPDATE [dbo].[MasterAccountExpenseType] SET [IsShowQuantityField]=1, [QuantityFieldCaption]='Miles/Kilometer' WHERE [MasterAccountExpenseId]=8
UPDATE [dbo].[MasterAccountExpenseType] SET [MasterTaxCodeId]=2 WHERE [MasterAccountExpenseId]=10
UPDATE [dbo].[MasterAccountExpenseType] SET [MasterTaxCodeId]=2 WHERE [MasterAccountExpenseId]=12

GO

-- Add Column AccountBaseCurrencyId to AccountExpenseEntry
Print 'Add Column AccountBaseCurrencyId to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountBaseCurrencyId' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [AccountBaseCurrencyId] int NULL
GO

-- Add Column ExchangeRate to AccountExpenseEntry
Print 'Add Column ExchangeRate to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ExchangeRate' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [ExchangeRate] float NULL
GO

-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountTaxCode.TaxCode, 
                      dbo.AccountExpenseType.QuantityFieldCaption, dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate
FROM         dbo.AccountTaxCode RIGHT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountTaxCode.AccountTaxCodeId = dbo.AccountExpenseType.AccountTaxCodeId RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO

-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
-- End 2.71.0002

-- Start 2.71.0003

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]


-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemCategoryPage] = 'UpdateCurrencies.aspx')
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (112, 1, '21300213', 'AccountAdmin', 'UpdateCurrencies.aspx', 'Update Currencies', 20, 1, 1, NULL, 1, NULL, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (113, 1, '21300214', 'AccountAdmin', 'TimeSheetArchieve.aspx', 'Timesheet Archieve', 15, 1, 1, NULL, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (114, 1, '21300215', 'AccountAdmin', 'ExpenseArchieve.aspx', 'Expense Archieve', 15, 1, 1, NULL, 1, 1, 1, NULL, NULL, NULL, NULL)
END


-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]


GO

-- =======================================================
-- ALTER PROCEDURE [dbo].[_EmailMessage_GetPendingEmailMessage]
-- =======================================================
ALTER PROCEDURE [dbo].[_EmailMessage_GetPendingEmailMessage]
AS
SELECT  [ID], [ChangeStamp], [Priority], [Status], 
             [NumberOfRetry], [RetryTime], [MaximumRetry], 
             [ExpiryDatetime], [ArrivedDateTime], [SenderInfo], 
             [EmailTo], [EmailFrom], [EmailSubject], 
             [EmailBody], [EmailCC], [EmailBCC], [IsHtml]
FROM dbo.[EmailMessage]
WHERE  Status = 0 
ORDER BY Priority,RetryTime

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [SystemSecurityCategoryId] = 1, [SequenceNumber] = '21300213', [Folder] = 'AccountAdmin', [SystemCategoryPage] = 'UpdateCurrencies.aspx', [SystemCategoryPageDescription] = 'Update Currencies', [ParentSystemSecurityCateogoryPageId] = 20, [IsSiteMapPage] = 1, [IsCustomizeable] = 1, [IsAllowAdd] = NULL, [IsAllowEdit] = 1, [IsAllowDelete] = NULL, [IsAllowList] = 1, [IsShowDataOptions] = NULL, [IsShowTillOptions] = NULL, [IsSystemPage] = NULL, [ControlLevelPermission] = NULL WHERE [SystemSecurityCategoryPageId] = 112
UPDATE [dbo].[SystemSecurityCategoryPage] SET [SystemSecurityCategoryId] = 1, [SequenceNumber] = '21300214', [Folder] = 'AccountAdmin', [SystemCategoryPage] = 'TimeEntryArchive.aspx', [SystemCategoryPageDescription] = 'Time Entry Archive', [ParentSystemSecurityCateogoryPageId] = 15, [IsSiteMapPage] = 1, [IsCustomizeable] = 1, [IsAllowAdd] = NULL, [IsAllowEdit] = 1, [IsAllowDelete] = 1, [IsAllowList] = 1, [IsShowDataOptions] = NULL, [IsShowTillOptions] = NULL, [IsSystemPage] = NULL, [ControlLevelPermission] = NULL WHERE [SystemSecurityCategoryPageId] = 113
UPDATE [dbo].[SystemSecurityCategoryPage] SET [SystemSecurityCategoryId] = 1, [SequenceNumber] = '21300215', [Folder] = 'AccountAdmin', [SystemCategoryPage] = 'ExpenseEntryArchive.aspx', [SystemCategoryPageDescription] = 'Expense Entry Archive', [ParentSystemSecurityCateogoryPageId] = 15, [IsSiteMapPage] = 1, [IsCustomizeable] = 1, [IsAllowAdd] = NULL, [IsAllowEdit] = 1, [IsAllowDelete] = 1, [IsAllowList] = 1, [IsShowDataOptions] = NULL, [IsShowTillOptions] = NULL, [IsSystemPage] = NULL, [ControlLevelPermission] = NULL WHERE [SystemSecurityCategoryPageId] = 114
UPDATE [dbo].[SystemSecurityCategoryPage] SET [SystemSecurityCategoryId] = 6, [SequenceNumber] = '21300211', [Folder] = 'Reports', [SystemCategoryPage] = 'DepartmentWiseTimesheetReport.aspx', [SystemCategoryPageDescription] = 'Department Wise Timesheet Report', [ParentSystemSecurityCateogoryPageId] = 75, [IsSiteMapPage] = 1, [IsCustomizeable] = 1, [IsAllowAdd] = NULL, [IsAllowEdit] = NULL, [IsAllowDelete] = NULL, [IsAllowList] = 1, [IsShowDataOptions] = 1, [IsShowTillOptions] = NULL, [IsSystemPage] = NULL, [ControlLevelPermission] = NULL WHERE [SystemSecurityCategoryPageId] = 110

-- Drop Foreign Key FK_AccountAttachments_AccountExpenseEntry from AccountAttachments
Print 'Drop Foreign Key FK_AccountAttachments_AccountExpenseEntry from AccountAttachments'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountAttachments_AccountExpenseEntry' AND TABLE_NAME='AccountAttachments')
	ALTER TABLE [dbo].[AccountAttachments] DROP CONSTRAINT [FK_AccountAttachments_AccountExpenseEntry]
GO
-- Drop View vueAccountCurrency
Print 'Drop View vueAccountCurrency'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountCurrency' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountCurrency]
GO
-- Create View vueAccountCurrency
Print 'Create View vueAccountCurrency'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountCurrency' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountCurrency
AS
SELECT     dbo.SystemCurrency.CurrencyCode, dbo.SystemCurrency.Currency, dbo.AccountCurrency.Disabled, dbo.AccountCurrency.AccountId, 
                      dbo.AccountCurrency.AccountCurrencyId, dbo.AccountCurrencyExchangeRate.ExchangeRate, dbo.AccountCurrency.AccountCurrencyExchangeRateId, 
                      dbo.AccountCurrencyExchangeRate.ExchangeRateEffectiveStartDate, dbo.AccountCurrencyExchangeRate.ExchangeRateEffectiveEndDate
FROM         dbo.AccountCurrencyExchangeRate RIGHT OUTER JOIN
                      dbo.AccountCurrency ON 
                      dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId = dbo.AccountCurrency.AccountCurrencyExchangeRateId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId'
GO
-- Create Foreign Key FK_AccountAttachments_AccountExpenseEntry on AccountAttachments
Print 'Create Foreign Key FK_AccountAttachments_AccountExpenseEntry on AccountAttachments'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountAttachments_AccountExpenseEntry' AND TABLE_NAME='AccountAttachments')
BEGIN
		ALTER TABLE [dbo].[AccountAttachments]
			ADD CONSTRAINT [FK_AccountAttachments_AccountExpenseEntry]
			FOREIGN KEY ([AccountExpenseEntryId]) REFERENCES [dbo].[AccountExpenseEntry] ([AccountExpenseEntryId])
			ON DELETE CASCADE
END 

GO

IF EXISTS(SELECT * FROM [dbo].[AccountProjectTask])
BEGIN
Update [dbo].[AccountProjectTask] Set [TaskCode] = Left(TaskCode,15)
END

GO

--Update Duplicate AccountExpenseType Records
Update AccountExpenseType 
Set AccountTaxCodeId =
(select min(AccountTaxCodeId)
from AccountTaxCode
where AccountId = AccountExpenseType.AccountId and AccountTaxCodeId is not null 
and TaxCode = (select TaxCode from AccountTaxCode innertable 
where innertable.AccountTaxCodeId = AccountExpenseType.AccountTaxCodeId and AccountId = AccountExpenseType.AccountId))
where AccountId = AccountExpenseType.AccountId and AccountTaxCodeId is not null

GO

--Delete Duplicate AccountTaxCode Records
Delete From a From AccountTaxCode a, 
AccountTaxCode b where
a.taxcode = b.taxcode and a.accountid = b.accountid and
a.accounttaxcodeid > b.accounttaxcodeid

GO

-- Create Index IX_TaxCode on AccountTaxCode
Print 'Create Index IX_TaxCode on AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaxCode]') AND name = N'IX_TaxCode'))
CREATE UNIQUE INDEX [IX_TaxCode]
	ON [dbo].[AccountTaxCode] ([AccountId], [TaxCode])

GO

--Update Duplicate AccountExpenseEntry Records
Update AccountExpenseEntry 
Set AccountCurrencyId =
(select min(AccountCurrencyId)
from AccountCurrency
where AccountId = AccountExpenseEntry.AccountId and AccountCurrencyId is not null 
and SystemCurrencyId = (select SystemCurrencyId from AccountCurrency innertable 
where innertable.AccountCurrencyId = AccountExpenseEntry.AccountCurrencyId 
and AccountId = AccountExpenseEntry.AccountId))
where AccountId = AccountExpenseEntry.AccountId and AccountCurrencyId is not null

GO

--Update Duplicate AccountExpenseEntry Records
Update AccountExpenseEntry 
Set AccountBaseCurrencyId =
(select min(AccountCurrencyId)
from AccountCurrency
where AccountId = AccountExpenseEntry.AccountId and AccountCurrencyId is not null 
and SystemCurrencyId = (select SystemCurrencyId from AccountCurrency innertable 
where innertable.AccountCurrencyId = AccountExpenseEntry.AccountBaseCurrencyId
and AccountId = AccountExpenseEntry.AccountId))
where AccountId = AccountExpenseEntry.AccountId and AccountCurrencyId is not null

GO

--Update Duplicate AccountPreferences Records
Update AccountPreferences 
Set AccountBaseCurrencyId =
(select min(AccountCurrencyId)
from AccountCurrency
where AccountId = AccountPreferences.AccountId and AccountCurrencyId is not null 
and SystemCurrencyId = (select SystemCurrencyId from AccountCurrency innertable 
where innertable.AccountCurrencyId = AccountPreferences.AccountBaseCurrencyId
and AccountId = AccountPreferences.AccountId))
where AccountId = AccountPreferences.AccountId and AccountBaseCurrencyId is not null

GO

--Update Duplicate AccountPreferences Records
Update AccountPreferences 
Set AccountReimbursementCurrencyId =
(select min(AccountCurrencyId)
from AccountCurrency
where AccountId = AccountPreferences.AccountId and AccountCurrencyId is not null 
and SystemCurrencyId = (select SystemCurrencyId from AccountCurrency innertable 
where innertable.AccountCurrencyId = AccountPreferences.AccountReimbursementCurrencyId
and AccountId = AccountPreferences.AccountId))
where AccountId = AccountPreferences.AccountId and AccountReimbursementCurrencyId is not null

GO

--Delete Duplicate AccountCurrency Records
Delete From a From AccountCurrency a, 
AccountCurrency b where
a.SystemCurrencyId = b.SystemCurrencyId and a.accountid = b.accountid and
a.AccountCurrencyId > b.AccountCurrencyId

GO

-- Create Index IX_SystemCurrencyId on AccountCurrency
Print 'Create Index IX_SystemCurrencyId on AccountCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'IX_SystemCurrencyId'))
CREATE UNIQUE INDEX [IX_SystemCurrencyId]
	ON [dbo].[AccountCurrency] ([AccountId], [SystemCurrencyId])

GO

--Update Duplicate AccountExpenseEntry Records
Update AccountExpenseEntry 
Set AccountPaymentMethodId =
(select min(AccountPaymentMethodId)
from AccountPaymentMethod
where AccountId = AccountPaymentMethod.AccountId and AccountPaymentMethodId is not null 
and PaymentMethod = (select PaymentMethod from AccountPaymentMethod innertable 
where innertable.AccountPaymentMethodId = AccountExpenseEntry.AccountPaymentMethodId
and AccountId = AccountExpenseEntry.AccountId))
where AccountId = AccountExpenseEntry.AccountId and AccountPaymentMethodId is not null

GO

--Delete Duplicate AccountPaymentMethod Records
Delete From a From AccountPaymentMethod a, 
AccountPaymentMethod b where
a.PaymentMethod = b.PaymentMethod and a.accountid = b.accountid and
a.AccountPaymentMethodId > b.AccountPaymentMethodId

GO

-- Create Index IX_AccountPaymentMethod on AccountPaymentMethod
Print 'Create Index IX_AccountPaymentMethod on AccountPaymentMethod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPaymentMethod]') AND name = N'IX_AccountPaymentMethod'))
CREATE UNIQUE INDEX [IX_AccountPaymentMethod]
	ON [dbo].[AccountPaymentMethod] ([AccountId], [PaymentMethod])



GO

--Update Duplicate AccountTaxCode In AccountExpenseType Records
Update accountexpensetype Set AccountTaxCodeId = 
(select AccountTaxCodeId from AccountTaxCode where AccountId = accountexpensetype.AccountId and TaxCode = 
  (Select TaxCode from AccountTaxCode where AccountTaxCodeId = AccountExpenseType.AccountTaxCodeId))
where AccountId = accountexpensetype.AccountId

GO

--Update Duplicate AccountExpense Records
Update AccountExpense 
Set AccountExpenseTypeId =
(select min(AccountExpenseTypeId)
from AccountExpenseType
where AccountId = AccountExpense.AccountId and AccountExpenseTypeId is not null 
and ExpenseType = (select ExpenseType from AccountExpenseType innertable 
where innertable.AccountExpenseTypeId = AccountExpense.AccountExpenseTypeId
and AccountId = AccountExpense.AccountId))
where AccountId = AccountExpense.AccountId and AccountExpenseTypeId is not null

GO

--Delete Duplicate AccountExpenseType Records
Delete From a From AccountExpenseType a, 
AccountExpenseType b where
a.ExpenseType = b.ExpenseType and a.accountid = b.accountid and
a.AccountExpenseTypeId > b.AccountExpenseTypeId

GO

-- Create Index IX_AccountExpenseType on AccountExpenseType
Print 'Create Index IX_AccountExpenseType on AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseType]') AND name = N'IX_AccountExpenseType'))
CREATE UNIQUE INDEX [IX_AccountExpenseType]
	ON [dbo].[AccountExpenseType] ([AccountId], [ExpenseType])

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemCurrency]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemCurrency]'

UPDATE [dbo].[SystemCurrency] SET [Currency]='Netherlands Antilles Guilder' WHERE [CurrencyId]=6
UPDATE [dbo].[SystemCurrency] SET [Currency]='Aruba, Guilders' WHERE [CurrencyId]=10
UPDATE [dbo].[SystemCurrency] SET [Currency]='Azerbaijan, Manats' WHERE [CurrencyId]=11
UPDATE [dbo].[SystemCurrency] SET [Currency]='Bosnia and Herzegovina' WHERE [CurrencyId]=13
UPDATE [dbo].[SystemCurrency] SET [Currency]='Bulgaria, Lev' WHERE [CurrencyId]=16
UPDATE [dbo].[SystemCurrency] SET [Currency]='Brunei Darussalam, Dollars' WHERE [CurrencyId]=20
UPDATE [dbo].[SystemCurrency] SET [Currency]='Congo/Kinshasa, Congolais' WHERE [CurrencyId]=29
UPDATE [dbo].[SystemCurrency] SET [Currency]='Switzerland, Franc' WHERE [CurrencyId]=30
UPDATE [dbo].[SystemCurrency] SET [Currency]='Czech Republic, Koruna' WHERE [CurrencyId]=39
UPDATE [dbo].[SystemCurrency] SET [Currency]='Denmark, Krone' WHERE [CurrencyId]=41
UPDATE [dbo].[SystemCurrency] SET [Currency]='Dominican Republic, Peso' WHERE [CurrencyId]=42
UPDATE [dbo].[SystemCurrency] SET [Currency]='Algeria, Algeria Dinar' WHERE [CurrencyId]=43
UPDATE [dbo].[SystemCurrency] SET [Currency]='Estonia, Kroon' WHERE [CurrencyId]=44
UPDATE [dbo].[SystemCurrency] SET [Currency]='Euro Member Countries' WHERE [CurrencyId]=48
UPDATE [dbo].[SystemCurrency] SET [Currency]='Falkland Islands (Malvinas)' WHERE [CurrencyId]=50
UPDATE [dbo].[SystemCurrency] SET [Currency]='United Kingdom, Pounds' WHERE [CurrencyId]=51
UPDATE [dbo].[SystemCurrency] SET [Currency]='Iceland, Krona' WHERE [CurrencyId]=71
UPDATE [dbo].[SystemCurrency] SET [Currency]='Cayman Islands, Dollars' WHERE [CurrencyId]=83
UPDATE [dbo].[SystemCurrency] SET [Currency]='Myanmar (Burma), Kyat' WHERE [CurrencyId]=97
UPDATE [dbo].[SystemCurrency] SET [Currency]='Maldives, Rufiyaa' WHERE [CurrencyId]=103
UPDATE [dbo].[SystemCurrency] SET [Currency]='Papua New Guinea, Kina' WHERE [CurrencyId]=118
UPDATE [dbo].[SystemCurrency] SET [Currency]='Romania, Leu' WHERE [CurrencyId]=124
UPDATE [dbo].[SystemCurrency] SET [Currency]='Romania, New Leu' WHERE [CurrencyId]=125
UPDATE [dbo].[SystemCurrency] SET [Currency]='Rwanda, Rwanda Francs' WHERE [CurrencyId]=127
UPDATE [dbo].[SystemCurrency] SET [Currency]='Solomon Islands, Dollars' WHERE [CurrencyId]=129
UPDATE [dbo].[SystemCurrency] SET [Currency]='Sweden, Krona' WHERE [CurrencyId]=132
UPDATE [dbo].[SystemCurrency] SET [Currency]='Slovenia, Tolars' WHERE [CurrencyId]=135
UPDATE [dbo].[SystemCurrency] SET [Currency]='So Tome and Principe, Dobra' WHERE [CurrencyId]=141
UPDATE [dbo].[SystemCurrency] SET [Currency]='East Caribbean Dollars' WHERE [CurrencyId]=166
UPDATE [dbo].[SystemCurrency] SET [Currency]='FRENCH POLYNESIA, CFP Francs ' WHERE [CurrencyId]=170
UPDATE [dbo].[SystemCurrency] SET [Currency]='Zimbabwe, Zimbabwe Dollars' WHERE [CurrencyId]=175

GO
-- Create Table MasterAccountExpense
Print 'Create Table MasterAccountExpense'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterAccountExpense' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterAccountExpense] (
		[MasterExpenseId]         smallint NOT NULL,
		[Expense]                 varchar(50) NOT NULL,
		[MasterExpenseTypeId]     smallint NOT NULL
)
GO
-- Add Default Constraint DF_AccountExpense_CreatedOn to AccountExpense
Print 'Add Default Constraint DF_AccountExpense_CreatedOn to AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountExpense_CreatedOn'))
ALTER TABLE [dbo].[AccountExpense]
	ADD
	CONSTRAINT [DF_AccountExpense_CreatedOn]
	DEFAULT (getdate()) FOR [CreatedOn]
GO
-- Add Default Constraint DF_AccountExpense_ModifiedOn to AccountExpense
Print 'Add Default Constraint DF_AccountExpense_ModifiedOn to AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountExpense_ModifiedOn'))
ALTER TABLE [dbo].[AccountExpense]
	ADD
	CONSTRAINT [DF_AccountExpense_ModifiedOn]
	DEFAULT (getdate()) FOR [ModifiedOn]
GO

Delete from AccountExpenseEntry 
Where AccountProjectId not in (select AccountProjectId from AccountProject)

GO

-- Create Foreign Key FK_AccountExpenseEntry_AccountProject on AccountExpenseEntry
Print 'Create Foreign Key FK_AccountExpenseEntry_AccountProject on AccountExpenseEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_AccountProject' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseEntry]
			ADD CONSTRAINT [FK_AccountExpenseEntry_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
END

GO

Update AccountExpenseType
set IsQuantityField = 0
where IsQuantityField is null

GO
-- Alter Column IsQuantityField on AccountExpenseType
Print 'Alter Column IsQuantityField on AccountExpenseType'
GO
ALTER TABLE [dbo].[AccountExpenseType]
	 ALTER COLUMN [IsQuantityField] bit NOT NULL
GO
-- Add Default Constraint DF_AccountExpenseType_IsQuantityField to AccountExpenseType
Print 'Add Default Constraint DF_AccountExpenseType_IsQuantityField to AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountExpenseType_IsQuantityField'))
ALTER TABLE [dbo].[AccountExpenseType]
	ADD
	CONSTRAINT [DF_AccountExpenseType_IsQuantityField]
	DEFAULT ((0)) FOR [IsQuantityField]

GO
-- Create Index IX_AccountExpenseName on AccountExpense
Print 'Create Index IX_AccountExpenseName on AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'IX_AccountExpenseName'))
CREATE UNIQUE INDEX [IX_AccountExpenseName]
	ON [dbo].[AccountExpense] ([AccountId], [AccountExpenseTypeId], [AccountExpenseName])

GO
-- Create View vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference
Print 'Create View vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference
AS
SELECT     dbo.AccountPreferences.ScheduledEmailSendTime, dbo.AccountPreferences.LastScheduledEmailSentTime, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployee.AccountEmployeeId, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.EMailAddress
FROM         dbo.AccountEMailNotificationPreference RIGHT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 RIGHT OUTER JOIN
                      dbo.AccountEmployee ON AccountEMailNotificationPreference_2.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId ON 
                      dbo.AccountEMailNotificationPreference.AccountId = dbo.AccountEmployee.AccountId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId
WHERE     (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 30) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 29) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] = '115' AND [SystemCategoryPage] = 'ProjectExpenseDetailReport.aspx')
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (115, 6, '21300216', 'Reports', 'ProjectExpenseDetailReport.aspx', 'Project Expense Detail Report', 75, 1, 1, NULL, NULL, NULL, 1, 1, NULL, NULL, NULL)
END

GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'

GO

if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntry]

GO

if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimesheetSubmissionStatusALL' and table_type = 'VIEW') 
drop view vueAccountEmployeeTimesheetSubmissionStatusALL

GO

if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimesheetSubmissionStatus' and table_type = 'VIEW') 
Drop view vueAccountEmployeeTimesheetSubmissionStatus

GO

IF EXISTS(SELECT name FROM sysobjects WHERE name = 'InsertAbsentDate' AND type = 'P')
drop procedure InsertAbsentDate

GO

IF EXISTS(SELECT name FROM sysobjects WHERE name = 'CreateTableforAccountEmployeeTimesheetSubmissionStatus' AND type = 'P')
drop procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus

GO

-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountTaxCode.TaxCode, 
                      dbo.AccountExpenseType.QuantityFieldCaption, dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, 
                      ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount
FROM         dbo.AccountTaxCode RIGHT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountTaxCode.AccountTaxCodeId = dbo.AccountExpenseType.AccountTaxCodeId RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemEMailNotification]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemEMailNotification]'

IF NOT EXISTS (SELECT * FROM [dbo].[SystemEMailNotification] WHERE [SystemEMailNotificationId] = 29 and [SystemEMailNotification] = 'Daily TimeEntry Pending Notification' and [SystemEMailNotificationTypeId] = 1 and [Enabled] =1)
BEGIN
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (29, 'Daily TimeEntry Pending Notification', 1, 1)
INSERT INTO [dbo].[SystemEMailNotification] ([SystemEMailNotificationId], [SystemEMailNotification], [SystemEMailNotificationTypeId], [Enabled]) VALUES (30, 'Daily TimeEntry Pending Notification', 3, 1)
END

GO


Print 'Create View vueAccountEmployeeTimesheetSubmissionStatusALL'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimesheetSubmissionStatusALL' and table_type = 'VIEW') 
EXEC sp_executesql N'create view dbo.vueAccountEmployeeTimesheetSubmissionStatusALL as 
SELECT     dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.AccountDepartment.DepartmentName, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      0 AS NotEntered, SUM(1) AS Submitted, SUM(CASE WHEN Approved = 1 THEN 1 ELSE 0 END) AS Approved, SUM(CASE WHEN Rejected = 1 THEN 1 ELSE 0 END) 
                      AS Rejected, dbo.AccountRole.Role, dbo.vueAccountEmployeeTimeEntry.AccountId
FROM         dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
inner join dbo.AccountDepartment on dbo.accountemployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentID
GROUP BY dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountRole.Role, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.AccountDepartment.DepartmentName'

GO

Print 'Create View vueAccountEmployeeTimesheetSubmissionStatus'
GO

if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimesheetSubmissionStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE view [dbo].[vueAccountEmployeeTimesheetSubmissionStatus] as 
SELECT     AccountEmployeeId, EmployeeName,  DepartmentName,
                      TimeEntryDate, NotEntered, Submitted, Approved, 
Rejected, Role, 
                      AccountId
FROM         dbo.vueAccountEmployeeTimesheetSubmissionStatusALL'
 


GO

Print 'Create Stored Procedure InsertAbsentDate'
GO
create PROCEDURE [dbo].[InsertAbsentDate]
    (
@startdate datetime,    
@enddate datetime,
@AccountEmployeeID integer,
@AccountID integer
            )
AS

    SET NOCOUNT ON

IF NOT EXISTS (SELECT * FROM TEMPDB.dbo.sysobjects WHERE NAME = '##TEMP')
create table ##temp(AbsentDate datetime, 
AccountEmployeeID int,
AccountID int)


IF EXISTS (SELECT * FROM TEMPDB.dbo.sysobjects WHERE NAME = '##TEMP')
delete from ##TEMP where AccountID = @AccountID and AccountEmployeeID = @AccountEmployeeID

insert into ##temp(AbsentDate, AccountEmployeeID, AccountID) 
Select dateadd(day,number,@startdate), @AccountEmployeeID as AccountEmployeeID, @AccountID as AccountID 
from master.dbo.spt_values  where master.dbo.spt_values.type='p' 
and dateadd(day,number,@startdate)<=@enddate  
and dateadd(day,number,@startdate) 
not in  (select TimeEntryDate from vueAccountEmployeeTimesheetSubmissionStatus  
where  (AccountID = @AccountID) and  (AccountEmployeeId in (@AccountEmployeeID)) 
And  TimeEntryDate  >= @startdate 
and TimeEntryDate <= @enddate)

GO


Print 'Create Stored Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus'
GO
CREATE PROCEDURE [dbo].[CreateTableforAccountEmployeeTimesheetSubmissionStatus]
    (
@startdate datetime,    
@enddate datetime,
@AccountEmployeeID varchar,
@AccountID integer
            )
AS

    SET NOCOUNT ON

IF EXISTS (SELECT * FROM TEMPDB.dbo.sysobjects WHERE NAME = '##tempAccountEmployeeTimesheetSubmissionStatusALL')
drop table ##tempAccountEmployeeTimesheetSubmissionStatusALL 


create table ##tempAccountEmployeeTimesheetSubmissionStatusALL 
(AccountEmployeeID int,
EmployeeName varchar(200),
DepartmentName varchar(200),
TimeEntryDate datetime,
NotEntered int,
Submitted int,
Approved int,
Rejected int,
Role varchar(100),
AccountID int)


insert into ##tempAccountEmployeeTimesheetSubmissionStatusALL
(AccountEmployeeID,
EmployeeName,
DepartmentName, 
TimeEntryDate,
NotEntered,
Submitted,
Approved,
Rejected,
Role,
AccountID)
SELECT     dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, 
dbo.vueAccountEmployeeTimeEntry.EmployeeName, 
dbo.AccountDepartment.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
0 AS NotEntered, 
SUM(1) AS Submitted, 
SUM(CASE WHEN Approved = 1 THEN 1 ELSE 0 END) 
                      AS Approved, 
SUM(CASE WHEN Rejected = 1 THEN 1 ELSE 0 END) AS Rejected, 
dbo.AccountRole.Role, 
                      dbo.vueAccountEmployeeTimeEntry.AccountId
FROM         dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
                      inner join dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentID = dbo.AccountDepartment.AccountDepartmentID 
GROUP BY dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.AccountDepartment.DepartmentName,  
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountRole.Role, dbo.vueAccountEmployeeTimeEntry.AccountId
UNION ALL
SELECT     dbo.##temp.AccountEmployeeID, dbo.AccountEmployee.FirstName + SPACE(1) + dbo.AccountEmployee.LastName AS Expr1, dbo.AccountDepartment.DepartmentName, 
                      dbo.##temp.AbsentDate AS TimeEntryDate, 1 AS NotEntered, 0 AS Submitted, 0 AS Approved, 0 AS Rejected, dbo.AccountRole.Role, 
                      dbo.##temp.AccountID
FROM         dbo.##temp INNER JOIN
                      dbo.AccountEmployee ON dbo.##temp.AccountEmployeeID = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
                      inner join dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentID = dbo.AccountDepartment.AccountDepartmentID 
GROUP BY dbo.##temp.AccountEmployeeID, dbo.##temp.AbsentDate, dbo.AccountRole.Role, dbo.##temp.AccountID, 
                      dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountDepartment.DepartmentName

GO





-- Alter Column TaskCode on AccountProjectTask
Print 'Alter Column TaskCode on AccountProjectTask'
GO
ALTER TABLE [dbo].[SystemSecurityCategoryPage]
	 ALTER COLUMN [SystemCategoryPage] varchar(200)
GO


ALTER TABLE [dbo].[SystemSecurityCategoryPage]
	 ALTER COLUMN [SystemCategoryPageDescription] varchar(200)
GO




-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] = '116' AND [SystemCategoryPage] = 'AccountEmployeeTimesheetSubmissionStatusReport.aspx')
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (116, 6, '2130021029', 'Reports', 'AccountEmployeeTimesheetSubmissionStatusReport.aspx', 'Account Employee Timesheet Submission Status Report', 75, 1, 1, NULL, NULL, NULL, 1, 1, NULL, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountExpense]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountExpense]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterAccountExpense] WHERE [MasterExpenseId] = '1' AND [Expense] =  'Air Travel' AND [MasterExpenseTypeId] = '1')
BEGIN
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (1, 'Air Travel', 1)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (2, 'Hotel', 2)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (3, 'Auto Rental', 3)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (4, 'Taxi', 4)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (5, 'Telephone', 5)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (6, 'Parking', 6)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (7, 'Tolls', 7)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (8, 'Car Mileage', 8)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (9, 'Gas', 9)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (10, 'Food', 10)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (11, 'Supplies', 11)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (12, 'Entertainment', 12)
INSERT INTO [dbo].[MasterAccountExpense] ([MasterExpenseId], [Expense], [MasterExpenseTypeId]) VALUES (13, 'Others', 13)
END

GO

-- Drop Foreign Key FK_AccountProjectRole_AccountRole from AccountProjectRole
Print 'Drop Foreign Key FK_AccountProjectRole_AccountRole from AccountProjectRole'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectRole_AccountRole' AND TABLE_NAME='AccountProjectRole')
ALTER TABLE [dbo].[AccountProjectRole] DROP CONSTRAINT [FK_AccountProjectRole_AccountRole]

GO

-- Drop Foreign Key FK_AccountPagePermission_Account from AccountPagePermission
Print 'Drop Foreign Key FK_AccountPagePermission_Account from AccountPagePermission'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPagePermission_Account' AND TABLE_NAME='AccountPagePermission')
ALTER TABLE [dbo].[AccountPagePermission] DROP CONSTRAINT [FK_AccountPagePermission_Account]
GO

-- Drop Foreign Key FK_AccountEmployee_AccountRole from AccountEmployee
Print 'Drop Foreign Key FK_AccountEmployee_AccountRole from AccountEmployee'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployee_AccountRole' AND TABLE_NAME='AccountEmployee')
ALTER TABLE [dbo].[AccountEmployee] DROP CONSTRAINT [FK_AccountEmployee_AccountRole]
GO

-- Drop Foreign Key FK_AccountPagePermission_AccountRole from AccountPagePermission
Print 'Drop Foreign Key FK_AccountPagePermission_AccountRole from AccountPagePermission'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPagePermission_AccountRole' AND TABLE_NAME='AccountPagePermission')
ALTER TABLE [dbo].[AccountPagePermission] DROP CONSTRAINT [FK_AccountPagePermission_AccountRole]
GO

-- Create Foreign Key FK_AccountProjectRole_AccountRole on AccountProjectRole
Print 'Create Foreign Key FK_AccountProjectRole_AccountRole on AccountProjectRole'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectRole_AccountRole' AND TABLE_NAME='AccountProjectRole')
BEGIN
		ALTER TABLE [dbo].[AccountProjectRole]
			ADD CONSTRAINT [FK_AccountProjectRole_AccountRole]
			FOREIGN KEY ([AccountRoleId]) REFERENCES [dbo].[AccountRole] ([AccountRoleId])
END
GO

-- Create Foreign Key FK_AccountEmployee_AccountRole on AccountEmployee
Print 'Create Foreign Key FK_AccountEmployee_AccountRole on AccountEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployee_AccountRole' AND TABLE_NAME='AccountEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountEmployee]
			ADD CONSTRAINT [FK_AccountEmployee_AccountRole]
			FOREIGN KEY ([AccountRoleId]) REFERENCES [dbo].[AccountRole] ([AccountRoleId])
END
GO

-- Create Foreign Key FK_AccountPagePermission_Account on AccountPagePermission
Print 'Create Foreign Key FK_AccountPagePermission_Account on AccountPagePermission'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPagePermission_Account' AND TABLE_NAME='AccountPagePermission')
BEGIN
		ALTER TABLE [dbo].[AccountPagePermission]
			ADD CONSTRAINT [FK_AccountPagePermission_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
END
GO

-- Create Foreign Key FK_AccountPagePermission_AccountRole on AccountPagePermission
Print 'Create Foreign Key FK_AccountPagePermission_AccountRole on AccountPagePermission'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPagePermission_AccountRole' AND TABLE_NAME='AccountPagePermission')
BEGIN
		ALTER TABLE [dbo].[AccountPagePermission]
			ADD CONSTRAINT [FK_AccountPagePermission_AccountRole]
			FOREIGN KEY ([AccountRoleId]) REFERENCES [dbo].[AccountRole] ([AccountRoleId])
			ON DELETE CASCADE
END

GO

-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO

-- Drop View vueAccountExpenseEntryWithLastStatus
Print 'Drop View vueAccountExpenseEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryWithLastStatus]
GO

-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO

-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO

-- Drop View vueAccountExpenseEntryApprovalPending
Print 'Drop View vueAccountExpenseEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPending]
GO

-- Drop View vueAccountEmployeeTimeEntryApprovalPending
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPending]
GO

-- Drop View vueAccountExpenseEntryApproval
Print 'Drop View vueAccountExpenseEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryApproval]
GO

-- Drop View vueAccountEmployeeTimeEntryApproval
Print 'Drop View vueAccountEmployeeTimeEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApproval]
GO

-- Add Column Submitted to AccountEmployeeTimeEntry
Print 'Add Column Submitted to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Submitted' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [Submitted] bit NULL

GO

-- Create Index IX_Submitted on AccountEmployeeTimeEntry
Print 'Create Index IX_Submitted on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_Submitted'))
CREATE INDEX [IX_Submitted]
	ON [dbo].[AccountEmployeeTimeEntry] ([Submitted])
GO

-- Add Column Submitted to AccountExpenseEntry
Print 'Add Column Submitted to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Submitted' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [Submitted] bit NULL

GO

-- Create Index IX_Submitted on AccountExpenseEntry
Print 'Create Index IX_Submitted on AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'IX_Submitted'))
CREATE INDEX [IX_Submitted]
	ON [dbo].[AccountExpenseEntry] ([Submitted])
GO

-- Create View vueAccountEmployeeTimeEntryApproval
Print 'Create View vueAccountEmployeeTimeEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntry.AccountEmployeeId AS TimeEntryAccountEmployeeId, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.Submitted
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntry.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId'
GO

-- Create View vueAccountExpenseEntryApproval
Print 'Create View vueAccountExpenseEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, dbo.AccountExpenseEntryApproval.Comments, 
                      dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpense.IsBillable, 
                      dbo.AccountExpenseEntry.AccountEmployeeId AS ExpenseEntryAccountEmployeeId, dbo.AccountExpenseEntry.Description, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntry.Submitted
FROM         dbo.AccountExpense RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId ON 
                      dbo.AccountExpense.AccountExpenseId = dbo.AccountExpenseEntry.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId'
GO

-- Create View vueAccountEmployeeTimeEntryApprovalPending
Print 'Create View vueAccountEmployeeTimeEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPending
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskName, dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Approved, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountApproverType.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, dbo.vueAccountEmployeeTimeEntryApproval.Description, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Submitted
FROM         dbo.vueAccountEmployeeTimeEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueTimesheetApprovalSequence
                            WHERE      (TimeSheetApprovalId IS NULL) AND 
                                                   (AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId)))'
GO

-- Create View vueAccountExpenseEntryApprovalPending
Print 'Create View vueAccountExpenseEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryApprovalPending
AS
SELECT     dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApproval.ProjectName, 
                      dbo.vueAccountExpenseEntryApproval.ProjectDescription, dbo.vueAccountExpenseEntryApproval.ProjectCode, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeName, dbo.vueAccountExpenseEntryApproval.Approved, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntryApproval.IsRejected, 
                      dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, 
                      dbo.vueAccountExpenseEntryApproval.EMailAddress, dbo.vueAccountExpenseEntryApproval.Submitted
FROM         dbo.vueAccountExpenseEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueExpenseApprovalSequence AS vueExpenseApprovalSequence_1
                            WHERE      (ExpenseApprovalId IS NULL) AND (AccountExpenseEntryId = dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId)))'
GO

-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO

-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountTaxCode.TaxCode, 
                      dbo.AccountExpenseType.QuantityFieldCaption, dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, 
                      ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, 
                      dbo.AccountExpenseEntry.Submitted, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountExpenseEntry.TimeSheetApprovalPathId
FROM         dbo.AccountTaxCode RIGHT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountTaxCode.AccountTaxCodeId = dbo.AccountExpenseType.AccountTaxCodeId RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO

-- Create View vueAccountExpenseEntryWithLastStatus
Print 'Create View vueAccountExpenseEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryWithLastStatus
AS
SELECT     dbo.vueAccountExpenseEntryWithLastAction.IsRejected, dbo.vueAccountExpenseEntryWithLastAction.IsApproved, 
                      dbo.vueAccountExpenseEntry.EmployeeName, dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, 
                      dbo.vueAccountExpenseEntry.TaxCode, dbo.vueAccountExpenseEntry.QuantityFieldCaption, dbo.vueAccountExpenseEntry.Submitted
FROM         dbo.vueAccountExpenseEntryWithLastAction RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntry ON 
                      dbo.vueAccountExpenseEntryWithLastAction.AccountExpenseEntryId = dbo.vueAccountExpenseEntry.AccountExpenseEntryId'
GO

-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId, dbo.AccountEmployeeTimeEntry.Submitted
FROM         dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'

GO

UPDATE    AccountEmployeeTimeEntry
SET              AccountEmployeeTimeEntry.Submitted = 1
FROM         AccountEmployeeTimeEntry INNER JOIN
                      vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId
Where vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved = 1

GO

UPDATE AccountEmployeeTimeEntry
SET AccountEmployeeTimeEntry.Submitted = 1
Where AccountEmployeeTimeEntry.Approved = 1

GO

UPDATE    AccountExpenseEntry
SET              AccountExpenseEntry.Submitted = 1
FROM         AccountExpenseEntry INNER JOIN
                      vueAccountExpenseEntryApprovalLastAction ON 
                      AccountExpenseEntry.AccountExpenseEntryId = vueAccountExpenseEntryApprovalLastAction.AccountExpenseEntryId
Where vueAccountExpenseEntryApprovalLastAction.IsApproved = 1

GO

UPDATE AccountExpenseEntry
SET AccountExpenseEntry.Submitted = 1
Where AccountExpenseEntry.Approved = 1

-- End 2.71.0003

-- Start 2.81.0001

GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Add Column LockSubmittedRecords to AccountPreferences
Print 'Add Column LockSubmittedRecords to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LockSubmittedRecords' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [LockSubmittedRecords] bit NULL

GO
-- Add Column LockApprovedRecords to AccountPreferences
Print 'Add Column LockApprovedRecords to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LockApprovedRecords' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [LockApprovedRecords] bit NULL

GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode +  '' - '' , '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'

GO

-- Drop Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus
Print 'Drop Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus'
GO
DROP PROCEDURE [dbo].[CreateTableforAccountEmployeeTimesheetSubmissionStatus]
GO
-- Drop View vueAccountEmployeeTimesheetSubmissionStatus
Print 'Drop View vueAccountEmployeeTimesheetSubmissionStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimesheetSubmissionStatus' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimesheetSubmissionStatus]
GO
-- Drop View vueAccountEmployeeTimesheetSubmissionStatusALL
Print 'Drop View vueAccountEmployeeTimesheetSubmissionStatusALL'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimesheetSubmissionStatusALL' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimesheetSubmissionStatusALL]
GO
-- Create View vueAccountEmployeeTimesheetSubmissionStatusALL
Print 'Create View vueAccountEmployeeTimesheetSubmissionStatusALL'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimesheetSubmissionStatusALL' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimesheetSubmissionStatusALL
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.EmployeeName, 
                      dbo.AccountDepartment.DepartmentName, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 0 AS NotEntered, SUM(1) AS Entered, 
                      (CASE WHEN dbo.vueAccountEmployeeTimeEntry.Submitted = 1 THEN (COUNT(dbo.vueAccountEmployeeTimeEntry.Submitted)) ELSE 0 END) 
                      AS Submitted, SUM(CASE WHEN Approved = 1 THEN 1 ELSE 0 END) AS Approved, SUM(CASE WHEN Rejected = 1 THEN 1 ELSE 0 END) AS Rejected, 
                      dbo.AccountRole.Role, dbo.vueAccountEmployeeTimeEntry.AccountId
FROM         dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId INNER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId
GROUP BY dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountRole.Role, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.AccountDepartment.DepartmentName, dbo.vueAccountEmployeeTimeEntry.Submitted'
GO
-- Create View vueAccountEmployeeTimesheetSubmissionStatus
Print 'Create View vueAccountEmployeeTimesheetSubmissionStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'dbo.vueAccountEmployeeTimesheetSubmissionStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimesheetSubmissionStatus
AS
SELECT     AccountEmployeeId, EmployeeName, DepartmentName, TimeEntryDate, NotEntered, SUM(Submitted) AS Submitted, Approved, Rejected, Role, 
                      AccountId, Entered
FROM         dbo.vueAccountEmployeeTimesheetSubmissionStatusALL
GROUP BY AccountEmployeeId, EmployeeName, DepartmentName, TimeEntryDate, NotEntered, Approved, Rejected, Role, AccountId, Entered'
GO

-- Create Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus
Print 'Create Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus'
GO
CREATE PROCEDURE [dbo].[CreateTableforAccountEmployeeTimesheetSubmissionStatus]
    (
@startdate datetime,    
@enddate datetime,
@AccountEmployeeID varchar,
@AccountID integer
            )
AS

    SET NOCOUNT ON

IF EXISTS (SELECT * FROM TEMPDB.dbo.sysobjects WHERE NAME = '##tempAccountEmployeeTimesheetSubmissionStatusALL')
drop table ##tempAccountEmployeeTimesheetSubmissionStatusALL 


create table ##tempAccountEmployeeTimesheetSubmissionStatusALL 
(AccountEmployeeID int,
EmployeeName varchar(200),
DepartmentName varchar(200),
TimeEntryDate datetime,
NotEntered int,
Entered int,
Submitted int,
Approved int,
Rejected int,
Role varchar(100),
AccountID int)


insert into ##tempAccountEmployeeTimesheetSubmissionStatusALL
(AccountEmployeeID,
EmployeeName,
DepartmentName, 
TimeEntryDate,
NotEntered,
Entered, 
Submitted,
Approved,
Rejected,
Role,
AccountID)
SELECT     dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, 
dbo.vueAccountEmployeeTimeEntry.EmployeeName, 
dbo.AccountDepartment.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
0 AS NotEntered,
SUM(1) AS Entered,
(CASE WHEN dbo.vueAccountEmployeeTimeEntry.Submitted = 1 THEN COUNT(dbo.vueAccountEmployeeTimeEntry.Submitted) ELSE 0 END) 
                      AS Submitted, 
SUM(CASE WHEN Approved = 1 THEN 1 ELSE 0 END) 
                      AS Approved, 
SUM(CASE WHEN Rejected = 1 THEN 1 ELSE 0 END) AS Rejected, 
dbo.AccountRole.Role, 
                      dbo.vueAccountEmployeeTimeEntry.AccountId
FROM         dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
                      inner join dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentID = dbo.AccountDepartment.AccountDepartmentID 
GROUP BY dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.AccountDepartment.DepartmentName,  
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountRole.Role, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.Submitted
UNION ALL
SELECT     dbo.##temp.AccountEmployeeID, dbo.AccountEmployee.FirstName + SPACE(1) + dbo.AccountEmployee.LastName AS Expr1, dbo.AccountDepartment.DepartmentName, 
                      dbo.##temp.AbsentDate AS TimeEntryDate, 1 AS NotEntered, 0 AS Entered, 0 As Submitted, 0 AS Approved, 0 AS Rejected, dbo.AccountRole.Role, 
                      dbo.##temp.AccountID
FROM         dbo.##temp INNER JOIN
                      dbo.AccountEmployee ON dbo.##temp.AccountEmployeeID = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
                      inner join dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentID = dbo.AccountDepartment.AccountDepartmentID 
GROUP BY dbo.##temp.AccountEmployeeID, dbo.##temp.AbsentDate, dbo.AccountRole.Role, dbo.##temp.AccountID, 
                      dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountDepartment.DepartmentName
GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [ParentSystemSecurityCateogoryPageId]=104 WHERE [SystemSecurityCategoryPageId]=105

GO
-- Add Column LicenseId to Account
Print 'Add Column LicenseId to Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LicenseId' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	ADD [LicenseId] varchar(50) NULL

-- END 2.81.0001

-- Start 2.81.0002
Delete from emailmessage
-- Drop Index IX_Status from EmailMessage
Print 'Drop Index IX_Status from EmailMessage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'EmailMessage' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[EmailMessage]') AND name = N'IX_Status'))
DROP INDEX [dbo].[EmailMessage].[IX_Status]
GO
-- Drop Primary Key PK_EmailMessage from EmailMessage
Print 'Drop Primary Key PK_EmailMessage from EmailMessage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'EmailMessage' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_EmailMessage' AND TABLE_NAME='EmailMessage'))
ALTER TABLE [dbo].[EmailMessage] DROP CONSTRAINT [PK_EmailMessage]
GO
-- Preserving data from [dbo].[EmailMessage] into a temporary table temp1413580074
EXEC sp_rename @objname = N'[dbo].[EmailMessage]', @newname = N'temp1413580074', @objtype = 'OBJECT'
GO

-- Create Table EmailMessage
Print 'Create Table EmailMessage'
GO
if not exists (select * from information_schema.tables where table_name = 'EmailMessage' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[EmailMessage] (
		[Id]                  uniqueidentifier NOT NULL,
		[ChangeStamp]         datetime NOT NULL,
		[Priority]            int NOT NULL,
		[Status]              int NOT NULL,
		[NumberOfRetry]       int NOT NULL,
		[RetryTime]           datetime NOT NULL,
		[MaximumRetry]        int NOT NULL,
		[ExpiryDateTime]      datetime NOT NULL,
		[ArrivedDateTime]     datetime NOT NULL,
		[SenderInfo]          varchar(50) NOT NULL,
		[EMailTo]             varchar(50) NOT NULL,
		[EMailFrom]           varchar(50) NOT NULL,
		[EMailSubject]        varchar(8000) NOT NULL,
		[EMailBody]           ntext NOT NULL,
		[EMailCC]             varchar(100) NOT NULL,
		[EMailBCC]            varchar(100) NOT NULL,
		[IsHTML]              bit NOT NULL
)
GO
-- Add Primary Key PK_EmailMessage to EmailMessage
Print 'Add Primary Key PK_EmailMessage to EmailMessage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'EmailMessage' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_EmailMessage' AND TABLE_NAME='EmailMessage'))
ALTER TABLE [dbo].[EmailMessage]
	ADD
	CONSTRAINT [PK_EmailMessage]
	PRIMARY KEY
	([Id])
GO
-- Create Index IX_Status on EmailMessage
Print 'Create Index IX_Status on EmailMessage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'EmailMessage' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[EmailMessage]') AND name = N'IX_Status'))
CREATE INDEX [IX_Status]
	ON [dbo].[EmailMessage] ([Status])
GO
-- Disabling constraints
ALTER TABLE [dbo].[EmailMessage] NOCHECK CONSTRAINT ALL
GO

-- Restoring data
IF OBJECT_ID('temp1413580074') IS NOT NULL
EXEC sp_executesql N'
INSERT INTO [dbo].[EmailMessage] ([Id], [ChangeStamp], [Priority], [Status], [NumberOfRetry], [RetryTime], [MaximumRetry], [ExpiryDateTime], [ArrivedDateTime], [SenderInfo], [EMailTo], [EMailFrom], [EMailSubject], [EMailBody], [EMailCC], [EMailBCC], [IsHTML])
   SELECT [Id], [ChangeStamp], [Priority], [Status], [NumberOfRetry], [RetryTime], [MaximumRetry], [ExpiryDateTime], [ArrivedDateTime], [SenderInfo], [EMailTo], [EMailFrom], [EMailSubject], CAST([EMailBody] AS text), [EMailCC], [EMailBCC], [IsHTML] FROM temp1413580074
'
GO
-- Enabling backward constraints
ALTER TABLE [dbo].[EmailMessage] CHECK CONSTRAINT ALL
GO

-- Dropping the temporary table temp1413580074
IF OBJECT_ID('temp1413580074') IS NOT NULL DROP TABLE temp1413580074

-- END 2.81.0002

-- START 2.91.0001
GO
--Update TaskDescription Data Lenght
if exists(select * from accountprojecttask)
update accountprojecttask set taskdescription = left(taskdescription,2000)
GO
--Update ProjectDescription Data Lenght
if exists(select * from accountproject)
update accountproject set ProjectDescription = left(Projectdescription,2000)

GO
-- Drop View vueAccountExpenseEntryWithLastStatus
Print 'Drop View vueAccountExpenseEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryWithLastStatus]
GO
-- Drop View vueAccountExpenseWithTaxCode
Print 'Drop View vueAccountExpenseWithTaxCode'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseWithTaxCode' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseWithTaxCode]
GO
-- Drop View vueAccountExpenseType
Print 'Drop View vueAccountExpenseType'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseType' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseType]
GO
-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Drop Index IX_TaxCode from AccountTaxCode
Print 'Drop Index IX_TaxCode from AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTaxCode]') AND name = N'IX_TaxCode'))
DROP INDEX [dbo].[AccountTaxCode].[IX_TaxCode]
GO
-- Add Column AccountTaxZoneId to AccountExpenseEntry
Print 'Add Column AccountTaxZoneId to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTaxZoneId' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [AccountTaxZoneId] int NULL
GO
-- Create Table AccountExpenseTypeTaxCode
Print 'Create Table AccountExpenseTypeTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountExpenseTypeTaxCode' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountExpenseTypeTaxCode] (
		[AccountExpenseTypeTaxCodeId]     int NOT NULL IDENTITY(1, 1),
		[AccountExpenseTypeId]            int NOT NULL,
		[AccountTaxZoneId]                int NOT NULL,
		[AccountTaxCodeId]                int NOT NULL,
		[AccountId]                       int NOT NULL,
		[CreatedOn]                       smalldatetime NOT NULL,
		[ModifiedOn]                      smalldatetime NOT NULL,
		[CreatedByEmployeeId]             int NOT NULL,
		[ModifiedByEmployeeId]            int NOT NULL
)
GO
-- Add Primary Key PK_AccountExpenseTypeTaxCode to AccountExpenseTypeTaxCode
Print 'Add Primary Key PK_AccountExpenseTypeTaxCode to AccountExpenseTypeTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseTypeTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountExpenseTypeTaxCode' AND TABLE_NAME='AccountExpenseTypeTaxCode'))
ALTER TABLE [dbo].[AccountExpenseTypeTaxCode]
	ADD
	CONSTRAINT [PK_AccountExpenseTypeTaxCode]
	PRIMARY KEY
	([AccountExpenseTypeTaxCodeId])
GO
-- Add Column AccountTaxZoneId to AccountTaxCode
Print 'Add Column AccountTaxZoneId to AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTaxZoneId' AND TABLE_NAME='AccountTaxCode'))
ALTER TABLE [dbo].[AccountTaxCode]
	ADD [AccountTaxZoneId] int NULL

GO
-- Create Index IX_TaxCode on AccountTaxCode
Print 'Create Index IX_TaxCode on AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaxCode]') AND name = N'IX_TaxCode'))
CREATE UNIQUE INDEX [IX_TaxCode]
	ON [dbo].[AccountTaxCode] ([AccountId], [TaxCode], [AccountTaxZoneId])
GO
-- Create Table AccountTaxZone
Print 'Create Table AccountTaxZone'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountTaxZone' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountTaxZone] (
		[AccountTaxZoneId]         int NOT NULL IDENTITY(1, 1),
		[AccountId]                int NOT NULL,
		[AccountTaxZone]           varchar(50) NOT NULL,
		[CreatedOn]                datetime NOT NULL,
		[CreatedByEmployeeId]      int NOT NULL,
		[ModifiedOn]               datetime NOT NULL,
		[ModifiedByEmployeeId]     int NOT NULL,
		[IsDisabled]               bit NOT NULL,
		[MasterTaxZoneId]          smallint NULL
)
GO
-- Add Primary Key PK_AccountTaxZone to AccountTaxZone
Print 'Add Primary Key PK_AccountTaxZone to AccountTaxZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxZone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountTaxZone' AND TABLE_NAME='AccountTaxZone'))
ALTER TABLE [dbo].[AccountTaxZone]
	ADD
	CONSTRAINT [PK_AccountTaxZone]
	PRIMARY KEY
	([AccountTaxZoneId])
GO
-- Add Default Constraint DF_AccountTaxZone_CreatedOn to AccountTaxZone
Print 'Add Default Constraint DF_AccountTaxZone_CreatedOn to AccountTaxZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxZone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountTaxZone_CreatedOn'))
ALTER TABLE [dbo].[AccountTaxZone]
	ADD
	CONSTRAINT [DF_AccountTaxZone_CreatedOn]
	DEFAULT (getdate()) FOR [CreatedOn]
GO
-- Add Default Constraint DF_AccountTaxZone_IsDisabled to AccountTaxZone
Print 'Add Default Constraint DF_AccountTaxZone_IsDisabled to AccountTaxZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxZone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountTaxZone_IsDisabled'))
ALTER TABLE [dbo].[AccountTaxZone]
	ADD
	CONSTRAINT [DF_AccountTaxZone_IsDisabled]
	DEFAULT ((0)) FOR [IsDisabled]
GO
-- Add Default Constraint DF_AccountTaxZone_ModifiedOn to AccountTaxZone
Print 'Add Default Constraint DF_AccountTaxZone_ModifiedOn to AccountTaxZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxZone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountTaxZone_ModifiedOn'))
ALTER TABLE [dbo].[AccountTaxZone]
	ADD
	CONSTRAINT [DF_AccountTaxZone_ModifiedOn]
	DEFAULT (getdate()) FOR [ModifiedOn]
GO
-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) 
                      AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountExpenseEntry.TimeSheetApprovalPathId
FROM         dbo.AccountExpenseType RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create Table MasterTaxZone
Print 'Create Table MasterTaxZone'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterTaxZone' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterTaxZone] (
		[MasterTaxZoneId]     smallint NOT NULL,
		[MasterTaxZone]       varchar(50) NOT NULL
)
GO
-- Create View vueAccountExpenseType
Print 'Create View vueAccountExpenseType'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseType' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseType
AS
SELECT     AccountExpenseType_1.AccountExpenseTypeId, AccountExpenseType_1.ExpenseType, AccountExpenseType_1.AccountId, 
                      AccountExpenseType_1.CreatedOn, AccountExpenseType_1.ModifiedOn, AccountExpenseType_1.CreatedByEmployeeId, 
                      AccountExpenseType_1.ModifiedByEmployeeId, AccountExpenseType_1.IsDisabled, AccountExpenseType_1.IsQuantityField, 
                      AccountExpenseType_1.QuantityFieldCaption, dbo.AccountTaxZone.AccountTaxZone, dbo.AccountTaxZone.AccountTaxZoneId, 
                      dbo.AccountTaxCode.TaxCode, dbo.AccountTaxCode.Formula, dbo.AccountTaxCode.AccountTaxCodeId
FROM         dbo.AccountExpenseTypeTaxCode LEFT OUTER JOIN
                      dbo.AccountTaxCode ON dbo.AccountExpenseTypeTaxCode.AccountTaxZoneId = dbo.AccountTaxCode.AccountTaxZoneId AND 
                      dbo.AccountExpenseTypeTaxCode.AccountTaxCodeId = dbo.AccountTaxCode.AccountTaxCodeId RIGHT OUTER JOIN
                      dbo.AccountExpenseType AS AccountExpenseType_1 INNER JOIN
                      dbo.AccountTaxZone ON AccountExpenseType_1.AccountId = dbo.AccountTaxZone.AccountId ON 
                      dbo.AccountExpenseTypeTaxCode.AccountExpenseTypeId = AccountExpenseType_1.AccountExpenseTypeId AND 
                      dbo.AccountExpenseTypeTaxCode.AccountTaxZoneId = dbo.AccountTaxZone.AccountTaxZoneId'
GO
-- Create View vueAccountExpenseWithTaxCode
Print 'Create View vueAccountExpenseWithTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseWithTaxCode' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseWithTaxCode
AS
SELECT     dbo.AccountExpense.AccountExpenseId, dbo.AccountExpense.AccountId, dbo.AccountExpenseType.AccountExpenseTypeId, 
                      dbo.AccountExpenseType.ExpenseType, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountTaxCode.Formula, dbo.AccountTaxCode.TaxCode, dbo.AccountTaxCode.AccountTaxZoneId, dbo.AccountTaxCode.AccountTaxCodeId
FROM         dbo.AccountExpenseTypeTaxCode RIGHT OUTER JOIN
                      dbo.AccountTaxCode ON dbo.AccountExpenseTypeTaxCode.AccountTaxCodeId = dbo.AccountTaxCode.AccountTaxCodeId RIGHT OUTER JOIN
                      dbo.AccountExpenseType ON 
                      dbo.AccountExpenseTypeTaxCode.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId RIGHT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId'
GO
-- Create View vueAccountExpenseEntryWithLastStatus
Print 'Create View vueAccountExpenseEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryWithLastStatus
AS
SELECT     dbo.vueAccountExpenseEntryWithLastAction.IsRejected, dbo.vueAccountExpenseEntryWithLastAction.IsApproved, 
                      dbo.vueAccountExpenseEntry.EmployeeName, dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, 
                      dbo.vueAccountExpenseEntry.QuantityFieldCaption, dbo.vueAccountExpenseEntry.Submitted
FROM         dbo.vueAccountExpenseEntryWithLastAction RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntry ON 
                      dbo.vueAccountExpenseEntryWithLastAction.AccountExpenseEntryId = dbo.vueAccountExpenseEntry.AccountExpenseEntryId'
GO
-- Create Foreign Key FK_AccountTaxCode_AccountTaxZone on AccountTaxCode
Print 'Create Foreign Key FK_AccountTaxCode_AccountTaxZone on AccountTaxCode'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTaxCode_AccountTaxZone' AND TABLE_NAME='AccountTaxCode')
BEGIN
		ALTER TABLE [dbo].[AccountTaxCode]
			ADD CONSTRAINT [FK_AccountTaxCode_AccountTaxZone]
			FOREIGN KEY ([AccountTaxZoneId]) REFERENCES [dbo].[AccountTaxZone] ([AccountTaxZoneId])
END
GO
-- Create Foreign Key FK_AccountExpenseTypeTaxCode_AccountTaxCode on AccountExpenseTypeTaxCode
Print 'Create Foreign Key FK_AccountExpenseTypeTaxCode_AccountTaxCode on AccountExpenseTypeTaxCode'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseTypeTaxCode_AccountTaxCode' AND TABLE_NAME='AccountExpenseTypeTaxCode')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseTypeTaxCode]
			ADD CONSTRAINT [FK_AccountExpenseTypeTaxCode_AccountTaxCode]
			FOREIGN KEY ([AccountTaxCodeId]) REFERENCES [dbo].[AccountTaxCode] ([AccountTaxCodeId])
END
GO
-- Create Foreign Key FK_AccountExpenseTypeTaxCode_AccountTaxZone on AccountExpenseTypeTaxCode
Print 'Create Foreign Key FK_AccountExpenseTypeTaxCode_AccountTaxZone on AccountExpenseTypeTaxCode'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseTypeTaxCode_AccountTaxZone' AND TABLE_NAME='AccountExpenseTypeTaxCode')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseTypeTaxCode]
			ADD CONSTRAINT [FK_AccountExpenseTypeTaxCode_AccountTaxZone]
			FOREIGN KEY ([AccountTaxZoneId]) REFERENCES [dbo].[AccountTaxZone] ([AccountTaxZoneId])
END
GO
-- Create Foreign Key FK_AccountExpenseEntry_AccountTaxZone on AccountExpenseEntry
Print 'Create Foreign Key FK_AccountExpenseEntry_AccountTaxZone on AccountExpenseEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_AccountTaxZone' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseEntry]
			ADD CONSTRAINT [FK_AccountExpenseEntry_AccountTaxZone]
			FOREIGN KEY ([AccountTaxZoneId]) REFERENCES [dbo].[AccountTaxZone] ([AccountTaxZoneId])
END
GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterTaxZone]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterTaxZone]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterTaxZone] WHERE [MasterTaxZoneId]= 1 AND [MasterTaxZone]='Default')
BEGIN
INSERT INTO [dbo].[MasterTaxZone] ([MasterTaxZoneId], [MasterTaxZone]) VALUES (1, 'Default')
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] =117 AND [SystemSecurityCategoryId] = 1 AND [SequenceNumber] = '2130021030' AND [Folder] = 'AccountAdmin' AND [SystemCategoryPage] = 'AccountTaxZone.aspx' AND [SystemCategoryPageDescription] = 'Tax Zone' AND [ParentSystemSecurityCateogoryPageId] = 15 AND [IsSiteMapPage] = 1 AND [IsCustomizeable] = 1 AND [IsAllowAdd] = 1 AND [IsAllowEdit]=1 AND [IsAllowDelete]=1 AND [IsAllowList]=1 AND [IsShowDataOptions] is NULL AND [IsShowTillOptions] Is Null AND [IsSystemPage] is NULL AND [ControlLevelPermission] is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (117, 1, '2130021030', 'AccountAdmin', 'AccountTaxZone.aspx', 'Tax Zone', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
END 
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO
-- Add Column MasterAccountExpenseTypeId to AccountExpenseType
Print 'Add Column MasterAccountExpenseTypeId to AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MasterAccountExpenseTypeId' AND TABLE_NAME='AccountExpenseType'))
ALTER TABLE [dbo].[AccountExpenseType]
	ADD [MasterAccountExpenseTypeId] smallint NULL

GO
-- Add Column MasterAccountExpenseTypeTaxCodeId to AccountExpenseTypeTaxCode
Print 'Add Column MasterAccountExpenseTypeTaxCodeId to AccountExpenseTypeTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseTypeTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MasterAccountExpenseTypeTaxCodeId ' AND TABLE_NAME='AccountExpenseTypeTaxCode'))
ALTER TABLE [dbo].[AccountExpenseTypeTaxCode]
	ADD [MasterAccountExpenseTypeTaxCodeId] int NULL

GO
-- Create Table MasterAccountExpenseTypeTaxCode
Print 'Create Table MasterAccountExpenseTypeTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterAccountExpenseTypeTaxCode' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterAccountExpenseTypeTaxCode] (
		[MasterAccountExpenseTypeTaxCodeId]     smallint NOT NULL,
		[MasterAccountExpenseTypeId]            smallint NOT NULL,
		[MasterAccountTaxZoneId]                smallint NOT NULL,
		[MasterAccountTaxCodeId]                smallint NOT NULL
)
GO
-- Add Primary Key PK_MasterAccountExpenseTypeTaxCode to MasterAccountExpenseTypeTaxCode
Print 'Add Primary Key PK_MasterAccountExpenseTypeTaxCode to MasterAccountExpenseTypeTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseTypeTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_MasterAccountExpenseTypeTaxCode' AND TABLE_NAME='MasterAccountExpenseTypeTaxCode'))
ALTER TABLE [dbo].[MasterAccountExpenseTypeTaxCode]
	ADD
	CONSTRAINT [PK_MasterAccountExpenseTypeTaxCode]
	PRIMARY KEY
	([MasterAccountExpenseTypeTaxCodeId])

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountExpenseTypeTaxCode]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountExpenseTypeTaxCode]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterAccountExpenseTypeTaxCode] WHERE [MasterAccountExpenseTypeTaxCodeId] = 1 AND [MasterAccountExpenseTypeId] = 1 AND [MasterAccountTaxZoneId] = 1 AND [MasterAccountTaxCodeId] = 1)
BEGIN
INSERT INTO [dbo].[MasterAccountExpenseTypeTaxCode] ([MasterAccountExpenseTypeTaxCodeId], [MasterAccountExpenseTypeId], [MasterAccountTaxZoneId], [MasterAccountTaxCodeId]) VALUES (1, 1, 1, 1)
INSERT INTO [dbo].[MasterAccountExpenseTypeTaxCode] ([MasterAccountExpenseTypeTaxCodeId], [MasterAccountExpenseTypeId], [MasterAccountTaxZoneId], [MasterAccountTaxCodeId]) VALUES (2, 2, 1, 2)
INSERT INTO [dbo].[MasterAccountExpenseTypeTaxCode] ([MasterAccountExpenseTypeTaxCodeId], [MasterAccountExpenseTypeId], [MasterAccountTaxZoneId], [MasterAccountTaxCodeId]) VALUES (3, 10, 1, 2)
INSERT INTO [dbo].[MasterAccountExpenseTypeTaxCode] ([MasterAccountExpenseTypeTaxCodeId], [MasterAccountExpenseTypeId], [MasterAccountTaxZoneId], [MasterAccountTaxCodeId]) VALUES (4, 12, 1, 2)
END


GO
-- Drop Foreign Key FK_AccountProjectTask_AccountPriority from AccountProjectTask
Print 'Drop Foreign Key FK_AccountProjectTask_AccountPriority from AccountProjectTask'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountPriority' AND TABLE_NAME='AccountProjectTask')
	ALTER TABLE [dbo].[AccountProjectTask] DROP CONSTRAINT [FK_AccountProjectTask_AccountPriority]
GO
-- Drop Foreign Key FK_AccountProjectTask_AccountProject from AccountProjectTask
Print 'Drop Foreign Key FK_AccountProjectTask_AccountProject from AccountProjectTask'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountProject' AND TABLE_NAME='AccountProjectTask')
	ALTER TABLE [dbo].[AccountProjectTask] DROP CONSTRAINT [FK_AccountProjectTask_AccountProject]
GO
-- Drop Foreign Key FK_AccountProjectTask_AccountProjectMilestone from AccountProjectTask
Print 'Drop Foreign Key FK_AccountProjectTask_AccountProjectMilestone from AccountProjectTask'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountProjectMilestone' AND TABLE_NAME='AccountProjectTask')
	ALTER TABLE [dbo].[AccountProjectTask] DROP CONSTRAINT [FK_AccountProjectTask_AccountProjectMilestone]
GO
-- Drop Foreign Key FK_AccountProjectTask_AccountStatus from AccountProjectTask
Print 'Drop Foreign Key FK_AccountProjectTask_AccountStatus from AccountProjectTask'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountStatus' AND TABLE_NAME='AccountProjectTask')
	ALTER TABLE [dbo].[AccountProjectTask] DROP CONSTRAINT [FK_AccountProjectTask_AccountStatus]
GO
-- Drop Foreign Key FK_AccountProjectTask_AccountTaskType from AccountProjectTask
Print 'Drop Foreign Key FK_AccountProjectTask_AccountTaskType from AccountProjectTask'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountTaskType' AND TABLE_NAME='AccountProjectTask')
	ALTER TABLE [dbo].[AccountProjectTask] DROP CONSTRAINT [FK_AccountProjectTask_AccountTaskType]
GO
-- Drop Index IX_AccountPaymentMethod from AccountPaymentMethod
Print 'Drop Index IX_AccountPaymentMethod from AccountPaymentMethod'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountPaymentMethod]') AND name = N'IX_AccountPaymentMethod'))
DROP INDEX [dbo].[AccountPaymentMethod].[IX_AccountPaymentMethod]
GO
-- Drop Index IX_EmployeeId_ProjectId_Unique from AccountProjectEmployee
Print 'Drop Index IX_EmployeeId_ProjectId_Unique from AccountProjectEmployee'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProjectEmployee]') AND name = N'IX_EmployeeId_ProjectId_Unique'))
DROP INDEX [dbo].[AccountProjectEmployee].[IX_EmployeeId_ProjectId_Unique]
GO
-- Drop Index IX_Audit from Audit
Print 'Drop Index IX_Audit from Audit'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[Audit]') AND name = N'IX_Audit'))
DROP INDEX [dbo].[Audit].[IX_Audit]
GO
-- Drop Index IX_TableName from Audit
Print 'Drop Index IX_TableName from Audit'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[Audit]') AND name = N'IX_TableName'))
DROP INDEX [dbo].[Audit].[IX_TableName]
GO
-- Drop Index IX_FieldName from Audit
Print 'Drop Index IX_FieldName from Audit'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[Audit]') AND name = N'IX_FieldName'))
DROP INDEX [dbo].[Audit].[IX_FieldName]
GO
-- Drop Index IX_TaxCode from AccountTaxCode
Print 'Drop Index IX_TaxCode from AccountTaxCode'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTaxCode]') AND name = N'IX_TaxCode'))
DROP INDEX [dbo].[AccountTaxCode].[IX_TaxCode]
GO
-- Drop Index IX_EMailAddress from AccountEmployee
Print 'Drop Index IX_EMailAddress from AccountEmployee'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployee]') AND name = N'IX_EMailAddress'))
DROP INDEX [dbo].[AccountEmployee].[IX_EMailAddress]
GO
-- Drop Index IX_Password from AccountEmployee
Print 'Drop Index IX_Password from AccountEmployee'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployee]') AND name = N'IX_Password'))
DROP INDEX [dbo].[AccountEmployee].[IX_Password]
GO
-- Drop Index IX_AccountName from Account
Print 'Drop Index IX_AccountName from Account'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[Account]') AND name = N'IX_AccountName'))
DROP INDEX [dbo].[Account].[IX_AccountName]
GO
-- Drop Index IX_AccountExpenseType from AccountExpenseType
Print 'Drop Index IX_AccountExpenseType from AccountExpenseType'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountExpenseType]') AND name = N'IX_AccountExpenseType'))
DROP INDEX [dbo].[AccountExpenseType].[IX_AccountExpenseType]
GO
-- Drop Index IX_AccountExpenseName from AccountExpense
Print 'Drop Index IX_AccountExpenseName from AccountExpense'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountExpense]') AND name = N'IX_AccountExpenseName'))
DROP INDEX [dbo].[AccountExpense].[IX_AccountExpenseName]
GO
-- Alter Column AccountExpenseName on AccountExpense
Print 'Alter Column AccountExpenseName on AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountExpenseName' AND TABLE_NAME='AccountExpense'))
ALTER TABLE [dbo].[AccountExpense]
	 ALTER COLUMN [AccountExpenseName] nvarchar(200) NOT NULL
GO
-- Create Index IX_AccountExpenseName on AccountExpense
Print 'Create Index IX_AccountExpenseName on AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'IX_AccountExpenseName'))
CREATE UNIQUE INDEX [IX_AccountExpenseName]
	ON [dbo].[AccountExpense] ([AccountId], [AccountExpenseTypeId], [AccountExpenseName])
GO
-- Alter Column Description on AccountExpenseEntry
Print 'Alter Column Description on AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Description' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	 ALTER COLUMN [Description] nvarchar(1000) NULL
GO
-- Alter Column Comments on AccountExpenseEntryApproval
Print 'Alter Column Comments on AccountExpenseEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Comments' AND TABLE_NAME='AccountExpenseEntryApproval'))
ALTER TABLE [dbo].[AccountExpenseEntryApproval]
	 ALTER COLUMN [Comments] nvarchar(400) NULL
GO
-- Alter Column Description on AccountEmployeeTimeEntry
Print 'Alter Column Description on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Description' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	 ALTER COLUMN [Description] nvarchar(1000) NULL
GO
-- Add Column AccountWorkTypeId to AccountEmployeeTimeEntry
Print 'Add Column AccountWorkTypeId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountWorkTypeId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [AccountWorkTypeId] int NULL

GO
-- Add Column EmployeeRate to AccountEmployeeTimeEntry
Print 'Add Column EmployeeRate to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeRate' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [EmployeeRate] money NULL

GO
-- Alter Column Comments on AccountEmployeeTimeEntryApproval
Print 'Alter Column Comments on AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Comments' AND TABLE_NAME='AccountEmployeeTimeEntryApproval'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryApproval]
	 ALTER COLUMN [Comments] nvarchar(400) NULL
GO
-- Alter Column ZipCode on AccountParty
Print 'Alter Column ZipCode on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ZipCode' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [ZipCode] nvarchar(100) NULL
GO
-- Alter Column PartyName on AccountParty
Print 'Alter Column PartyName on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PartyName' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [PartyName] nvarchar(400) NOT NULL
GO
-- Alter Column Address1 on AccountParty
Print 'Alter Column Address1 on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Address1' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [Address1] nvarchar(500) NULL
GO
-- Alter Column Website on AccountParty
Print 'Alter Column Website on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Website' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [Website] nvarchar(200) NULL
GO
-- Alter Column Telephone1 on AccountParty
Print 'Alter Column Telephone1 on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Telephone1' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [Telephone1] nvarchar(100) NULL
GO
-- Alter Column Notes on AccountParty
Print 'Alter Column Notes on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Notes' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [Notes] nvarchar(1000) NULL
GO
-- Alter Column State on AccountParty
Print 'Alter Column State on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='State' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [State] nvarchar(50) NULL
GO
-- Alter Column Fax on AccountParty
Print 'Alter Column Fax on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Fax' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [Fax] nvarchar(100) NULL
GO
-- Alter Column City on AccountParty
Print 'Alter Column City on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='City' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [City] nvarchar(100) NULL
GO
-- Alter Column Telephone2 on AccountParty
Print 'Alter Column Telephone2 on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Telephone2' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [Telephone2] nvarchar(100) NULL
GO
-- Alter Column Address2 on AccountParty
Print 'Alter Column Address2 on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Address2' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [Address2] nvarchar(500) NULL
GO
-- Alter Column PartyNick on AccountParty
Print 'Alter Column PartyNick on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PartyNick' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [PartyNick] nvarchar(100) NOT NULL
GO
-- Alter Column Address1 on AccountPartyContact
Print 'Alter Column Address1 on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Address1' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [Address1] nvarchar(300) NULL
GO
-- Alter Column State on AccountPartyContact
Print 'Alter Column State on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='State' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [State] nvarchar(40) NULL
GO
-- Alter Column City on AccountPartyContact
Print 'Alter Column City on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='City' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [City] nvarchar(100) NULL
GO
-- Alter Column Location on AccountPartyContact
Print 'Alter Column Location on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Location' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [Location] nvarchar(50) NULL
GO
-- Alter Column Zip on AccountPartyContact
Print 'Alter Column Zip on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Zip' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [Zip] nvarchar(20) NULL
GO
-- Alter Column Telephone2 on AccountPartyContact
Print 'Alter Column Telephone2 on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Telephone2' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [Telephone2] nvarchar(50) NULL
GO
-- Alter Column FirstName on AccountPartyContact
Print 'Alter Column FirstName on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='FirstName' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [FirstName] nvarchar(100) NOT NULL
GO
-- Alter Column Fax on AccountPartyContact
Print 'Alter Column Fax on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Fax' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [Fax] nvarchar(50) NULL
GO
-- Alter Column LastName on AccountPartyContact
Print 'Alter Column LastName on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LastName' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [LastName] nvarchar(100) NOT NULL
GO
-- Alter Column Address2 on AccountPartyContact
Print 'Alter Column Address2 on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Address2' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [Address2] nvarchar(300) NULL
GO
-- Alter Column EMailAddress on AccountPartyContact
Print 'Alter Column EMailAddress on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EMailAddress' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [EMailAddress] nvarchar(100) NULL
GO
-- Alter Column Telephone1 on AccountPartyContact
Print 'Alter Column Telephone1 on AccountPartyContact'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyContact' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Telephone1' AND TABLE_NAME='AccountPartyContact'))
ALTER TABLE [dbo].[AccountPartyContact]
	 ALTER COLUMN [Telephone1] nvarchar(50) NULL
GO
-- Alter Column QuantityFieldCaption on AccountExpenseType
Print 'Alter Column QuantityFieldCaption on AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='QuantityFieldCaption' AND TABLE_NAME='AccountExpenseType'))
ALTER TABLE [dbo].[AccountExpenseType]
	 ALTER COLUMN [QuantityFieldCaption] nvarchar(100) NULL
GO
-- Alter Column ExpenseType on AccountExpenseType
Print 'Alter Column ExpenseType on AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ExpenseType' AND TABLE_NAME='AccountExpenseType'))
ALTER TABLE [dbo].[AccountExpenseType]
	 ALTER COLUMN [ExpenseType] nvarchar(100) NOT NULL
GO
-- Create Index IX_AccountExpenseType on AccountExpenseType
Print 'Create Index IX_AccountExpenseType on AccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseType]') AND name = N'IX_AccountExpenseType'))
CREATE UNIQUE INDEX [IX_AccountExpenseType]
	ON [dbo].[AccountExpenseType] ([AccountId], [ExpenseType])
GO
-- Alter Column AccountLocation on AccountLocation
Print 'Alter Column AccountLocation on AccountLocation'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountLocation' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountLocation' AND TABLE_NAME='AccountLocation'))
ALTER TABLE [dbo].[AccountLocation]
	 ALTER COLUMN [AccountLocation] nvarchar(100) NOT NULL
GO
-- Alter Column InOut on AccountEmployeeAttendance
Print 'Alter Column InOut on AccountEmployeeAttendance'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeAttendance' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='InOut' AND TABLE_NAME='AccountEmployeeAttendance'))
ALTER TABLE [dbo].[AccountEmployeeAttendance]
	 ALTER COLUMN [InOut] nvarchar(6) NULL
GO
-- Alter Column ApprovalTypeName on AccountApprovalType
Print 'Alter Column ApprovalTypeName on AccountApprovalType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ApprovalTypeName' AND TABLE_NAME='AccountApprovalType'))
ALTER TABLE [dbo].[AccountApprovalType]
	 ALTER COLUMN [ApprovalTypeName] nvarchar(200) NOT NULL
GO
-- Alter Column AttachmentName on AccountAttachments
Print 'Alter Column AttachmentName on AccountAttachments'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAttachments' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AttachmentName' AND TABLE_NAME='AccountAttachments'))
ALTER TABLE [dbo].[AccountAttachments]
	 ALTER COLUMN [AttachmentName] nvarchar(1000) NOT NULL
GO
-- Alter Column AttachmentLocalPath on AccountAttachments
Print 'Alter Column AttachmentLocalPath on AccountAttachments'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAttachments' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AttachmentLocalPath' AND TABLE_NAME='AccountAttachments'))
ALTER TABLE [dbo].[AccountAttachments]
	 ALTER COLUMN [AttachmentLocalPath] nvarchar(1000) NOT NULL
GO
-- Add Column AccountWorkTypeId to AccountBillingRate
Print 'Add Column AccountWorkTypeId to AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountWorkTypeId' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	ADD [AccountWorkTypeId] int NULL

GO
-- Add Column EmployeeRate to AccountBillingRate
Print 'Add Column EmployeeRate to AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeRate' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	ADD [EmployeeRate] money NULL

GO
-- Alter Column AccountExpiryActivation on Account
Print 'Alter Column AccountExpiryActivation on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountExpiryActivation' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [AccountExpiryActivation] nvarchar(100) NULL
GO
-- Alter Column ZipCode on Account
Print 'Alter Column ZipCode on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ZipCode' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [ZipCode] nvarchar(100) NULL
GO
-- Alter Column Address1 on Account
Print 'Alter Column Address1 on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Address1' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [Address1] nvarchar(500) NULL
GO
-- Alter Column Telephone on Account
Print 'Alter Column Telephone on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Telephone' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [Telephone] nvarchar(100) NULL
GO
-- Alter Column LicenseKey on Account
Print 'Alter Column LicenseKey on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LicenseKey' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [LicenseKey] nvarchar(100) NULL
GO
-- Alter Column LicenseActivation on Account
Print 'Alter Column LicenseActivation on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LicenseActivation' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [LicenseActivation] nvarchar(200) NULL
GO
-- Alter Column LicenseId on Account
Print 'Alter Column LicenseId on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LicenseId' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [LicenseId] nvarchar(100) NULL
GO
-- Alter Column State on Account
Print 'Alter Column State on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='State' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [State] nvarchar(100) NULL
GO
-- Alter Column Fax on Account
Print 'Alter Column Fax on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Fax' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [Fax] nvarchar(100) NULL
GO
-- Alter Column City on Account
Print 'Alter Column City on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='City' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [City] nvarchar(100) NULL
GO
-- Alter Column AccountName on Account
Print 'Alter Column AccountName on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountName' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [AccountName] nvarchar(500) NOT NULL
GO
-- Alter Column Address2 on Account
Print 'Alter Column Address2 on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Address2' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [Address2] nvarchar(500) NULL
GO
-- Alter Column EMailAddress on Account
Print 'Alter Column EMailAddress on Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EMailAddress' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	 ALTER COLUMN [EMailAddress] nvarchar(100) NULL
GO
-- Alter Column AbsenceDescription on AccountAbsenceType
Print 'Alter Column AbsenceDescription on AccountAbsenceType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAbsenceType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AbsenceDescription' AND TABLE_NAME='AccountAbsenceType'))
ALTER TABLE [dbo].[AccountAbsenceType]
	 ALTER COLUMN [AbsenceDescription] nvarchar(100) NOT NULL
GO
-- Alter Column DepartmentCode on AccountDepartment
Print 'Alter Column DepartmentCode on AccountDepartment'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountDepartment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DepartmentCode' AND TABLE_NAME='AccountDepartment'))
ALTER TABLE [dbo].[AccountDepartment]
	 ALTER COLUMN [DepartmentCode] nvarchar(20) NOT NULL
GO
-- Alter Column DepartmentName on AccountDepartment
Print 'Alter Column DepartmentName on AccountDepartment'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountDepartment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DepartmentName' AND TABLE_NAME='AccountDepartment'))
ALTER TABLE [dbo].[AccountDepartment]
	 ALTER COLUMN [DepartmentName] nvarchar(400) NOT NULL
GO
-- Alter Column WorkPhoneNo on AccountEmployee
Print 'Alter Column WorkPhoneNo on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='WorkPhoneNo' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [WorkPhoneNo] nvarchar(100) NULL
GO
-- Alter Column State on AccountEmployee
Print 'Alter Column State on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='State' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [State] nvarchar(40) NULL
GO
-- Alter Column EmployeeCode on AccountEmployee
Print 'Alter Column EmployeeCode on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeCode' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [EmployeeCode] nvarchar(100) NULL
GO
-- Alter Column Password on AccountEmployee
Print 'Alter Column Password on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Password' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [Password] nvarchar(100) NOT NULL
GO
-- Alter Column HomePhoneNo on AccountEmployee
Print 'Alter Column HomePhoneNo on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='HomePhoneNo' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [HomePhoneNo] nvarchar(40) NULL
GO
-- Alter Column MobilePhoneNo on AccountEmployee
Print 'Alter Column MobilePhoneNo on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MobilePhoneNo' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [MobilePhoneNo] nvarchar(100) NULL
GO
-- Alter Column AddressLine2 on AccountEmployee
Print 'Alter Column AddressLine2 on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AddressLine2' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [AddressLine2] nvarchar(300) NULL
GO
-- Alter Column Notes on AccountEmployee
Print 'Alter Column Notes on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Notes' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [Notes] nvarchar(1000) NULL
GO
-- Alter Column MiddleName on AccountEmployee
Print 'Alter Column MiddleName on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MiddleName' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [MiddleName] nvarchar(40) NULL
GO
-- Alter Column City on AccountEmployee
Print 'Alter Column City on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='City' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [City] nvarchar(100) NULL
GO
-- Alter Column Zip on AccountEmployee
Print 'Alter Column Zip on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Zip' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [Zip] nvarchar(50) NULL
GO
-- Alter Column EMailAddress on AccountEmployee
Print 'Alter Column EMailAddress on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EMailAddress' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [EMailAddress] nvarchar(100) NOT NULL
GO
-- Alter Column AddressLine1 on AccountEmployee
Print 'Alter Column AddressLine1 on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AddressLine1' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [AddressLine1] nvarchar(300) NULL
GO
-- Alter Column Username on AccountEmployee
Print 'Alter Column Username on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Username' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [Username] nvarchar(100) NULL
GO
-- Alter Column LastName on AccountEmployee
Print 'Alter Column LastName on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LastName' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [LastName] nvarchar(150) NOT NULL
GO
-- Alter Column AllowedAccessFromIP on AccountEmployee
Print 'Alter Column AllowedAccessFromIP on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AllowedAccessFromIP' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [AllowedAccessFromIP] nvarchar(40) NULL
GO
-- Alter Column FirstName on AccountEmployee
Print 'Alter Column FirstName on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='FirstName' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [FirstName] nvarchar(150) NOT NULL
GO
-- Alter Column Prefix on AccountEmployee
Print 'Alter Column Prefix on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Prefix' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [Prefix] nvarchar(50) NULL
GO
-- Create Index IX_Password on AccountEmployee
Print 'Create Index IX_Password on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_Password'))
CREATE INDEX [IX_Password]
	ON [dbo].[AccountEmployee] ([Password])
GO
-- Create Index IX_EMailAddress on AccountEmployee
Print 'Create Index IX_EMailAddress on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_EMailAddress'))
CREATE UNIQUE INDEX [IX_EMailAddress]
	ON [dbo].[AccountEmployee] ([EMailAddress])
GO
-- Alter Column BillingType on AccountBillingType
Print 'Alter Column BillingType on AccountBillingType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='BillingType' AND TABLE_NAME='AccountBillingType'))
ALTER TABLE [dbo].[AccountBillingType]
	 ALTER COLUMN [BillingType] nvarchar(100) NOT NULL
GO
-- Alter Column TaxCode on AccountTaxCode
Print 'Alter Column TaxCode on AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaxCode' AND TABLE_NAME='AccountTaxCode'))
ALTER TABLE [dbo].[AccountTaxCode]
	 ALTER COLUMN [TaxCode] nvarchar(100) NOT NULL
GO
-- Alter Column Formula on AccountTaxCode
Print 'Alter Column Formula on AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Formula' AND TABLE_NAME='AccountTaxCode'))
ALTER TABLE [dbo].[AccountTaxCode]
	 ALTER COLUMN [Formula] nvarchar(200) NOT NULL
GO
-- Create Index IX_TaxCode on AccountTaxCode
Print 'Create Index IX_TaxCode on AccountTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaxCode]') AND name = N'IX_TaxCode'))
CREATE UNIQUE INDEX [IX_TaxCode]
	ON [dbo].[AccountTaxCode] ([AccountId], [TaxCode], [AccountTaxZoneId])
GO
-- Alter Column AccountTaxZone on AccountTaxZone
Print 'Alter Column AccountTaxZone on AccountTaxZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxZone' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTaxZone' AND TABLE_NAME='AccountTaxZone'))
ALTER TABLE [dbo].[AccountTaxZone]
	 ALTER COLUMN [AccountTaxZone] nvarchar(100) NOT NULL
GO
-- Alter Column AccountType on AccountType
Print 'Alter Column AccountType on AccountType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountType' AND TABLE_NAME='AccountType'))
ALTER TABLE [dbo].[AccountType]
	 ALTER COLUMN [AccountType] nvarchar(100) NOT NULL
GO
-- Alter Column LDAPRole on AccountRole
Print 'Alter Column LDAPRole on AccountRole'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LDAPRole' AND TABLE_NAME='AccountRole'))
ALTER TABLE [dbo].[AccountRole]
	 ALTER COLUMN [LDAPRole] nvarchar(200) NULL
GO
-- Alter Column Role on AccountRole
Print 'Alter Column Role on AccountRole'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Role' AND TABLE_NAME='AccountRole'))
ALTER TABLE [dbo].[AccountRole]
	 ALTER COLUMN [Role] nvarchar(50) NOT NULL
GO
-- Alter Column TaskType on AccountTaskType
Print 'Alter Column TaskType on AccountTaskType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaskType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaskType' AND TABLE_NAME='AccountTaskType'))
ALTER TABLE [dbo].[AccountTaskType]
	 ALTER COLUMN [TaskType] nvarchar(100) NOT NULL
GO
-- Alter Column Type on Audit
Print 'Alter Column Type on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Type' AND TABLE_NAME='Audit'))
ALTER TABLE [dbo].[Audit]
	 ALTER COLUMN [Type] nvarchar(2) NULL
GO
-- Alter Column OldValue on Audit
Print 'Alter Column OldValue on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='OldValue' AND TABLE_NAME='Audit'))
ALTER TABLE [dbo].[Audit]
	 ALTER COLUMN [OldValue] nvarchar(2000) NULL
GO
-- Alter Column NewValue on Audit
Print 'Alter Column NewValue on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='NewValue' AND TABLE_NAME='Audit'))
ALTER TABLE [dbo].[Audit]
	 ALTER COLUMN [NewValue] nvarchar(2000) NULL
GO
-- Alter Column FieldName on Audit
Print 'Alter Column FieldName on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='FieldName' AND TABLE_NAME='Audit'))
ALTER TABLE [dbo].[Audit]
	 ALTER COLUMN [FieldName] nvarchar(256) NULL
GO
-- Alter Column TableName on Audit
Print 'Alter Column TableName on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TableName' AND TABLE_NAME='Audit'))
ALTER TABLE [dbo].[Audit]
	 ALTER COLUMN [TableName] nvarchar(256) NULL
GO
-- Create Index IX_FieldName on Audit
Print 'Create Index IX_FieldName on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[Audit]') AND name = N'IX_FieldName'))
CREATE INDEX [IX_FieldName]
	ON [dbo].[Audit] ([FieldName])
GO
-- Create Index IX_TableName on Audit
Print 'Create Index IX_TableName on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[Audit]') AND name = N'IX_TableName'))
CREATE INDEX [IX_TableName]
	ON [dbo].[Audit] ([TableName])
GO
-- Create Index IX_Audit on Audit
Print 'Create Index IX_Audit on Audit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Audit' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[Audit]') AND name = N'IX_Audit'))
CREATE INDEX [IX_Audit]
	ON [dbo].[Audit] ([Type])
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectEmployee]') AND name = N'IX_EmployeeId_ProjectId_Unique'))
CREATE UNIQUE NONCLUSTERED INDEX [IX_EmployeeId_ProjectId_Unique] ON [dbo].[AccountProjectEmployee] ([AccountEmployeeId], [AccountProjectId])
GO
-- Alter Column Domain on Authentication
Print 'Alter Column Domain on Authentication'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Authentication' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Domain' AND TABLE_NAME='Authentication'))
ALTER TABLE [dbo].[Authentication]
	 ALTER COLUMN [Domain] nvarchar(100) NOT NULL
GO
-- Alter Column DirectoryName on Authentication
Print 'Alter Column DirectoryName on Authentication'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Authentication' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DirectoryName' AND TABLE_NAME='Authentication'))
ALTER TABLE [dbo].[Authentication]
	 ALTER COLUMN [DirectoryName] nvarchar(100) NOT NULL
GO
-- Alter Column State on CountryState
Print 'Alter Column State on CountryState'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'CountryState' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='State' AND TABLE_NAME='CountryState'))
ALTER TABLE [dbo].[CountryState]
	 ALTER COLUMN [State] nvarchar(50) NOT NULL
GO
-- Alter Column StateAbbreviation on CountryState
Print 'Alter Column StateAbbreviation on CountryState'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'CountryState' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='StateAbbreviation' AND TABLE_NAME='CountryState'))
ALTER TABLE [dbo].[CountryState]
	 ALTER COLUMN [StateAbbreviation] nvarchar(10) NOT NULL
GO
-- Create Table AccountWorkType
Print 'Create Table AccountWorkType'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountWorkType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountWorkType] (
		[AccountWorkTypeId]        int NOT NULL IDENTITY(1, 1),
		[AccountWorkTypeCode]      nvarchar(6) NOT NULL,
		[AccountWorkType]          nvarchar(100) NOT NULL,
		[SystemWorkTypeId]         int NULL,
		[AccountId]                int NOT NULL,
		[CreatedOn]                datetime NOT NULL,
		[CreatedByEmployeeId]      int NOT NULL,
		[ModifiedOn]               datetime NOT NULL,
		[ModifiedByEmployeeId]     int NOT NULL,
		[IsDisabled]               bit NOT NULL
)
GO
-- Add Primary Key PK_AccountWorkType to AccountWorkType
Print 'Add Primary Key PK_AccountWorkType to AccountWorkType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountWorkType' AND TABLE_NAME='AccountWorkType'))
ALTER TABLE [dbo].[AccountWorkType]
	ADD
	CONSTRAINT [PK_AccountWorkType]
	PRIMARY KEY
	([AccountWorkTypeId])
GO
-- Create Table AccountWorkTypeBillingRate
Print 'Create Table AccountWorkTypeBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountWorkTypeBillingRate' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountWorkTypeBillingRate] (
		[AccountWorkTypeBillingRateId]     int NOT NULL IDENTITY(1, 1),
		[AccountId]                        int NOT NULL,
		[SystemBillingRateTypeId]          int NOT NULL,
		[AccountEmployeeId]                int NULL,
		[AccountProjectEmployeeId]         int NULL,
		[AccountProjectRoleId]             int NULL,
		[AccountProjectTaskId]             int NULL,
		[AccountBillingRateId]             int NULL,
		[AccountWorkTypeId]                int NULL
)
GO
-- Add Primary Key PK_AccountWorkTypeBillingRate to AccountWorkTypeBillingRate
Print 'Add Primary Key PK_AccountWorkTypeBillingRate to AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountWorkTypeBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate'))
ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
	ADD
	CONSTRAINT [PK_AccountWorkTypeBillingRate]
	PRIMARY KEY
	([AccountWorkTypeBillingRateId])
GO
-- Alter Column ProjectType on AccountProjectType
Print 'Alter Column ProjectType on AccountProjectType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ProjectType' AND TABLE_NAME='AccountProjectType'))
ALTER TABLE [dbo].[AccountProjectType]
	 ALTER COLUMN [ProjectType] nvarchar(200) NOT NULL
GO
-- Alter Column Priority on AccountPriority
Print 'Alter Column Priority on AccountPriority'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPriority' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Priority' AND TABLE_NAME='AccountPriority'))
ALTER TABLE [dbo].[AccountPriority]
	 ALTER COLUMN [Priority] nvarchar(100) NOT NULL
GO
-- Alter Column PartyDepartmentCode on AccountPartyDepartment
Print 'Alter Column PartyDepartmentCode on AccountPartyDepartment'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyDepartment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PartyDepartmentCode' AND TABLE_NAME='AccountPartyDepartment'))
ALTER TABLE [dbo].[AccountPartyDepartment]
	 ALTER COLUMN [PartyDepartmentCode] nvarchar(100) NOT NULL
GO
-- Alter Column PartyDepartmentName on AccountPartyDepartment
Print 'Alter Column PartyDepartmentName on AccountPartyDepartment'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyDepartment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PartyDepartmentName' AND TABLE_NAME='AccountPartyDepartment'))
ALTER TABLE [dbo].[AccountPartyDepartment]
	 ALTER COLUMN [PartyDepartmentName] nvarchar(200) NOT NULL
GO
-- Alter Column PartyDepartmentLocation on AccountPartyDepartment
Print 'Alter Column PartyDepartmentLocation on AccountPartyDepartment'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyDepartment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PartyDepartmentLocation' AND TABLE_NAME='AccountPartyDepartment'))
ALTER TABLE [dbo].[AccountPartyDepartment]
	 ALTER COLUMN [PartyDepartmentLocation] nvarchar(400) NULL
GO
-- Alter Column PaymentMethod on AccountPaymentMethod
Print 'Alter Column PaymentMethod on AccountPaymentMethod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPartyDepartment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PaymentMethod' AND TABLE_NAME='AccountPaymentMethod'))
ALTER TABLE [dbo].[AccountPaymentMethod]
	 ALTER COLUMN [PaymentMethod] nvarchar(100) NOT NULL
GO
-- Create Index IX_AccountPaymentMethod on AccountPaymentMethod
Print 'Create Index IX_AccountPaymentMethod on AccountPaymentMethod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPaymentMethod]') AND name = N'IX_AccountPaymentMethod'))
CREATE UNIQUE INDEX [IX_AccountPaymentMethod]
	ON [dbo].[AccountPaymentMethod] ([AccountId], [PaymentMethod])
GO
-- Alter Column FromEmailAddressDisplayName on AccountPreferences
Print 'Alter Column FromEmailAddressDisplayName on AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='FromEmailAddressDisplayName' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	 ALTER COLUMN [FromEmailAddressDisplayName] nvarchar(100) NULL
GO
-- Alter Column FromEmailAddress on AccountPreferences
Print 'Alter Column FromEmailAddress on AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='FromEmailAddress' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	 ALTER COLUMN [FromEmailAddress] nvarchar(50) NULL
GO
-- Alter Column Version on AccountPreferences
Print 'Alter Column Version on AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Version' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	 ALTER COLUMN [Version] nvarchar(100) NULL
GO
-- Alter Column TimeEntryFormat on AccountPreferences
Print 'Alter Column TimeEntryFormat on AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TimeEntryFormat' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	 ALTER COLUMN [TimeEntryFormat] nvarchar(50) NULL
GO
-- Alter Column CultureInfoName on AccountPreferences
Print 'Alter Column CultureInfoName on AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='CultureInfoName' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	 ALTER COLUMN [CultureInfoName] nvarchar(40) NULL
GO
-- Alter Column CurrencySymbol on AccountPreferences
Print 'Alter Column CurrencySymbol on AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='CurrencySymbol' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	 ALTER COLUMN [CurrencySymbol] nvarchar(20) NULL
GO
-- Alter Column AttachmentLocalPath on AccountProjectTaskAttachment
Print 'Alter Column AttachmentLocalPath on AccountProjectTaskAttachment'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTaskAttachment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AttachmentLocalPath' AND TABLE_NAME='AccountProjectTaskAttachment'))
ALTER TABLE [dbo].[AccountProjectTaskAttachment]
	 ALTER COLUMN [AttachmentLocalPath] nvarchar(1000) NOT NULL
GO
-- Alter Column AttachmentName on AccountProjectTaskAttachment
Print 'Alter Column AttachmentName on AccountProjectTaskAttachment'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTaskAttachment' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AttachmentName' AND TABLE_NAME='AccountProjectTaskAttachment'))
ALTER TABLE [dbo].[AccountProjectTaskAttachment]
	 ALTER COLUMN [AttachmentName] nvarchar(1000) NOT NULL
GO
-- Alter Column Comments on AccountProjectTaskComments
Print 'Alter Column Comments on AccountProjectTaskComments'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTaskComments' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Comments' AND TABLE_NAME='AccountProjectTaskComments'))
ALTER TABLE [dbo].[AccountProjectTaskComments]
	 ALTER COLUMN [Comments] nvarchar(4000) NOT NULL
GO
-- Alter Column CommentsTitle on AccountProjectTaskComments
Print 'Alter Column CommentsTitle on AccountProjectTaskComments'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTaskComments' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='CommentsTitle' AND TABLE_NAME='AccountProjectTaskComments'))
ALTER TABLE [dbo].[AccountProjectTaskComments]
	 ALTER COLUMN [CommentsTitle] nvarchar(1000) NOT NULL
GO
-- Alter Column MilestoneDescription on AccountProjectMilestone
Print 'Alter Column MilestoneDescription on AccountProjectMilestone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MilestoneDescription' AND TABLE_NAME='AccountProjectMilestone'))
ALTER TABLE [dbo].[AccountProjectMilestone]
	 ALTER COLUMN [MilestoneDescription] nvarchar(100) NOT NULL
GO
-- Alter Column TaskCode on AccountProjectTask
Print 'Alter Column TaskCode on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaskCode' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	 ALTER COLUMN [TaskCode] nvarchar(30) NULL
GO
-- Alter Column DurationUnit on AccountProjectTask
Print 'Alter Column DurationUnit on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DurationUnit' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	 ALTER COLUMN [DurationUnit] nvarchar(20) NULL
GO
-- Alter Column TaskName on AccountProjectTask
Print 'Alter Column TaskName on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaskName' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	 ALTER COLUMN [TaskName] nvarchar(200) NOT NULL
GO
-- Alter Column TaskDescription on AccountProjectTask
Print 'Alter Column TaskDescription on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaskDescription' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	 ALTER COLUMN [TaskDescription] nvarchar(4000) NOT NULL
GO
-- Alter Column EstimatedTimeSpentUnit on AccountProjectTask
Print 'Alter Column EstimatedTimeSpentUnit on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EstimatedTimeSpentUnit' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	 ALTER COLUMN [EstimatedTimeSpentUnit] nvarchar(20) NULL
GO
-- Alter Column ProjectDescription on AccountProject
Print 'Alter Column ProjectDescription on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ProjectDescription' AND TABLE_NAME='AccountProject'))
ALTER TABLE [dbo].[AccountProject]
	 ALTER COLUMN [ProjectDescription] nvarchar(4000) NOT NULL
GO
-- Alter Column EstimatedDurationUnit on AccountProject
Print 'Alter Column EstimatedDurationUnit on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EstimatedDurationUnit' AND TABLE_NAME='AccountProject'))
ALTER TABLE [dbo].[AccountProject]
	 ALTER COLUMN [EstimatedDurationUnit] nvarchar(20) NULL
GO
-- Alter Column ProjectName on AccountProject
Print 'Alter Column ProjectName on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ProjectName' AND TABLE_NAME='AccountProject'))
ALTER TABLE [dbo].[AccountProject]
	 ALTER COLUMN [ProjectName] nvarchar(100) NOT NULL
GO
-- Drop Primary Key PK_SystemNamePrefix from SystemNamePrefix
Print 'Drop Primary Key PK_SystemNamePrefix from SystemNamePrefix'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemNamePrefix' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemNamePrefix' AND TABLE_NAME='SystemNamePrefix'))
ALTER TABLE [dbo].[SystemNamePrefix] DROP CONSTRAINT [PK_SystemNamePrefix]
GO
-- Drop Primary Key PK_SystemDurationUnit from SystemDurationUnit
Print 'Drop Primary Key PK_SystemDurationUnit from SystemDurationUnit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemDurationUnit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemDurationUnit' AND TABLE_NAME='SystemDurationUnit'))
ALTER TABLE [dbo].[SystemDurationUnit] DROP CONSTRAINT [PK_SystemDurationUnit]
GO
-- Drop Index IX_SystemSecurityCategoryPage_SequenceNumber from SystemSecurityCategoryPage
Print 'Drop Index IX_SystemSecurityCategoryPage_SequenceNumber from SystemSecurityCategoryPage'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemSecurityCategoryPage' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[SystemSecurityCategoryPage]') AND name = N'IX_SystemSecurityCategoryPage_SequenceNumber'))
DROP INDEX [dbo].[SystemSecurityCategoryPage].[IX_SystemSecurityCategoryPage_SequenceNumber]
GO
-- Alter Column TaskType on MasterAccountTaskType
Print 'Alter Column TaskType on MasterAccountTaskType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountTaskType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaskType' AND TABLE_NAME='MasterAccountTaskType'))
ALTER TABLE [dbo].[MasterAccountTaskType]
	 ALTER COLUMN [TaskType] nvarchar(100) NOT NULL
GO
-- Alter Column PaymentMethod on MasterPaymentMethod
Print 'Alter Column PaymentMethod on MasterPaymentMethod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PaymentMethod' AND TABLE_NAME='MasterPaymentMethod'))
ALTER TABLE [dbo].[MasterPaymentMethod]
	 ALTER COLUMN [PaymentMethod] nvarchar(50) NOT NULL
GO
-- Alter Column ProjectType on MasterAccountProjectType
Print 'Alter Column ProjectType on MasterAccountProjectType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountProjectType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ProjectType' AND TABLE_NAME='MasterAccountProjectType'))
ALTER TABLE [dbo].[MasterAccountProjectType]
	 ALTER COLUMN [ProjectType] nvarchar(100) NOT NULL
GO
-- Alter Column LDAPGroup on MasterAccountRole
Print 'Alter Column LDAPGroup on MasterAccountRole'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountRole' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='LDAPGroup' AND TABLE_NAME='MasterAccountRole'))
ALTER TABLE [dbo].[MasterAccountRole]
	 ALTER COLUMN [LDAPGroup] nvarchar(100) NULL
GO
-- Alter Column Role on MasterAccountRole
Print 'Alter Column Role on MasterAccountRole'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountRole' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Role' AND TABLE_NAME='MasterAccountRole'))
ALTER TABLE [dbo].[MasterAccountRole]
	 ALTER COLUMN [Role] nvarchar(100) NOT NULL
GO
-- Alter Column Status on MasterAccountStatus
Print 'Alter Column Status on MasterAccountStatus'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountStatus' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Status' AND TABLE_NAME='MasterAccountStatus'))
ALTER TABLE [dbo].[MasterAccountStatus]
	 ALTER COLUMN [Status] nvarchar(100) NOT NULL
GO
-- Alter Column SystemApproverType on SystemApproverType
Print 'Alter Column SystemApproverType on SystemApproverType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemApproverType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemApproverType' AND TABLE_NAME='SystemApproverType'))
ALTER TABLE [dbo].[SystemApproverType]
	 ALTER COLUMN [SystemApproverType] nvarchar(60) NOT NULL
GO
-- Alter Column SystemAttachmentType on SystemAttachmentType
Print 'Alter Column SystemAttachmentType on SystemAttachmentType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemAttachmentType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemAttachmentType' AND TABLE_NAME='SystemAttachmentType'))
ALTER TABLE [dbo].[SystemAttachmentType]
	 ALTER COLUMN [SystemAttachmentType] nvarchar(100) NOT NULL
GO
-- Alter Column SystemBillingCategory on SystemBillingCategory
Print 'Alter Column SystemBillingCategory on SystemBillingCategory'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemBillingCategory' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemBillingCategory' AND TABLE_NAME='SystemBillingCategory'))
ALTER TABLE [dbo].[SystemBillingCategory]
	 ALTER COLUMN [SystemBillingCategory] nvarchar(40) NOT NULL
GO
-- Alter Column TaxCode on MasterTaxCode
Print 'Alter Column TaxCode on MasterTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterTaxCode' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaxCode' AND TABLE_NAME='MasterTaxCode'))
ALTER TABLE [dbo].[MasterTaxCode]
	 ALTER COLUMN [TaxCode] nvarchar(100) NOT NULL
GO
-- Alter Column Formula on MasterTaxCode
Print 'Alter Column Formula on MasterTaxCode'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterTaxCode' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Formula' AND TABLE_NAME='MasterTaxCode'))
ALTER TABLE [dbo].[MasterTaxCode]
	 ALTER COLUMN [Formula] nvarchar(200) NOT NULL
GO
-- Alter Column MasterTaxZone on MasterTaxZone
Print 'Alter Column MasterTaxZone on MasterTaxZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterTaxZone' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MasterTaxZone' AND TABLE_NAME='MasterTaxZone'))
ALTER TABLE [dbo].[MasterTaxZone]
	 ALTER COLUMN [MasterTaxZone] nvarchar(100) NOT NULL
GO
-- Alter Column SystemApplicationType on SystemApplicationType
Print 'Alter Column SystemApplicationType on SystemApplicationType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemApplicationType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemApplicationType' AND TABLE_NAME='SystemApplicationType'))
ALTER TABLE [dbo].[SystemApplicationType]
	 ALTER COLUMN [SystemApplicationType] nvarchar(60) NOT NULL
GO
-- Alter Column Priority on MasterAccountPriority
Print 'Alter Column Priority on MasterAccountPriority'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountPriority' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Priority' AND TABLE_NAME='MasterAccountPriority'))
ALTER TABLE [dbo].[MasterAccountPriority]
	 ALTER COLUMN [Priority] nvarchar(100) NOT NULL
GO
-- Alter Column ApprovalTypeName on MasterAccountApprovalType
Print 'Alter Column ApprovalTypeName on MasterAccountApprovalType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountApprovalType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ApprovalTypeName' AND TABLE_NAME='MasterAccountApprovalType'))
ALTER TABLE [dbo].[MasterAccountApprovalType]
	 ALTER COLUMN [ApprovalTypeName] nvarchar(100) NOT NULL
GO
-- Alter Column BillingType on MasterAccountBillingType
Print 'Alter Column BillingType on MasterAccountBillingType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='BillingType' AND TABLE_NAME='MasterAccountBillingType'))
ALTER TABLE [dbo].[MasterAccountBillingType]
	 ALTER COLUMN [BillingType] nvarchar(100) NOT NULL
GO
-- Alter Column AbsenceDescription on MasterAccountAbsenceType
Print 'Alter Column AbsenceDescription on MasterAccountAbsenceType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountAbsenceType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AbsenceDescription' AND TABLE_NAME='MasterAccountAbsenceType'))
ALTER TABLE [dbo].[MasterAccountAbsenceType]
	 ALTER COLUMN [AbsenceDescription] nvarchar(100) NOT NULL
GO
-- Alter Column TaxFieldCaption on MasterAccountExpenseType
Print 'Alter Column TaxFieldCaption on MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaxFieldCaption' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	 ALTER COLUMN [TaxFieldCaption] nvarchar(100) NULL
GO
-- Alter Column QuantityFieldCaption on MasterAccountExpenseType
Print 'Alter Column QuantityFieldCaption on MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='QuantityFieldCaption' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	 ALTER COLUMN [QuantityFieldCaption] nvarchar(100) NULL
GO
-- Alter Column ExpenseType on MasterAccountExpenseType
Print 'Alter Column ExpenseType on MasterAccountExpenseType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ExpenseType' AND TABLE_NAME='MasterAccountExpenseType'))
ALTER TABLE [dbo].[MasterAccountExpenseType]
	 ALTER COLUMN [ExpenseType] nvarchar(100) NOT NULL
GO
-- Alter Column CultureInfoName on MasterAccountPreferences
Print 'Alter Column CultureInfoName on MasterAccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='CultureInfoName' AND TABLE_NAME='MasterAccountPreferences'))
ALTER TABLE [dbo].[MasterAccountPreferences]
	 ALTER COLUMN [CultureInfoName] nvarchar(40) NULL
GO
-- Alter Column Expense on MasterAccountExpense
Print 'Alter Column Expense on MasterAccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Expense' AND TABLE_NAME='MasterAccountExpense'))
ALTER TABLE [dbo].[MasterAccountExpense]
	 ALTER COLUMN [Expense] nvarchar(100) NOT NULL
GO
-- Alter Column SequenceNumber on SystemSecurityCategoryPage
Print 'Alter Column SequenceNumber on SystemSecurityCategoryPage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemSecurityCategoryPage' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SequenceNumber' AND TABLE_NAME='SystemSecurityCategoryPage'))
ALTER TABLE [dbo].[SystemSecurityCategoryPage]
	 ALTER COLUMN [SequenceNumber] nvarchar(20) NULL
GO
-- Alter Column Folder on SystemSecurityCategoryPage
Print 'Alter Column Folder on SystemSecurityCategoryPage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemSecurityCategoryPage' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Folder' AND TABLE_NAME='SystemSecurityCategoryPage'))
ALTER TABLE [dbo].[SystemSecurityCategoryPage]
	 ALTER COLUMN [Folder] nvarchar(100) NOT NULL
GO
-- Create Index IX_SystemSecurityCategoryPage_SequenceNumber on SystemSecurityCategoryPage
Print 'Create Index IX_SystemSecurityCategoryPage_SequenceNumber on SystemSecurityCategoryPage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemSecurityCategoryPage' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[SystemSecurityCategoryPage]') AND name = N'IX_SystemSecurityCategoryPage_SequenceNumber'))
CREATE INDEX [IX_SystemSecurityCategoryPage_SequenceNumber]
	ON [dbo].[SystemSecurityCategoryPage] ([SequenceNumber])
GO
-- Alter Column SystemPermission on SystemPermission
Print 'Alter Column SystemPermission on SystemPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPermission' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemPermission' AND TABLE_NAME='SystemPermission'))
ALTER TABLE [dbo].[SystemPermission]
	 ALTER COLUMN [SystemPermission] nvarchar(100) NOT NULL
GO
-- Alter Column SystemProjectBillingRateType on SystemProjectBillingRateType
Print 'Alter Column SystemProjectBillingRateType on SystemProjectBillingRateType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemProjectBillingRateType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemProjectBillingRateType' AND TABLE_NAME='SystemProjectBillingRateType'))
ALTER TABLE [dbo].[SystemProjectBillingRateType]
	 ALTER COLUMN [SystemProjectBillingRateType] nvarchar(100) NOT NULL
GO
-- Alter Column SystemSecurityCategory on SystemSecurityCategory
Print 'Alter Column SystemSecurityCategory on SystemSecurityCategory'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemSecurityCategory' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemSecurityCategory' AND TABLE_NAME='SystemSecurityCategory'))
ALTER TABLE [dbo].[SystemSecurityCategory]
	 ALTER COLUMN [SystemSecurityCategory] nvarchar(100) NOT NULL
GO
-- Alter Column WorkingDay on SystemWorkingDay
Print 'Alter Column WorkingDay on SystemWorkingDay'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='WorkingDay' AND TABLE_NAME='SystemWorkingDay'))
ALTER TABLE [dbo].[SystemWorkingDay]
	 ALTER COLUMN [WorkingDay] nvarchar(100) NOT NULL
GO
-- Create Table SystemWorkType
Print 'Create Table SystemWorkType'
GO
if not exists (select * from information_schema.tables where table_name = 'SystemWorkType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemWorkType] (
		[SystemWorkTypeId]       int NOT NULL,
		[SystemWorkTypeCode]     nvarchar(6) NOT NULL,
		[SystemWorkType]         nvarchar(100) NULL
)
GO
-- Add Primary Key PK_SystemWorkType to SystemWorkType
Print 'Add Primary Key PK_SystemWorkType to SystemWorkType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemWorkType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemWorkType' AND TABLE_NAME='SystemWorkType'))
ALTER TABLE [dbo].[SystemWorkType]
	ADD
	CONSTRAINT [PK_SystemWorkType]
	PRIMARY KEY
	([SystemWorkTypeId])
GO
-- Alter Column SystemSolutionType on SystemSolutionType
Print 'Alter Column SystemSolutionType on SystemSolutionType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemSolutionType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemSolutionType' AND TABLE_NAME='SystemSolutionType'))
ALTER TABLE [dbo].[SystemSolutionType]
	 ALTER COLUMN [SystemSolutionType] nvarchar(60) NOT NULL
GO
-- Alter Column SystemStatusType on SystemStatusType
Print 'Alter Column SystemStatusType on SystemStatusType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemStatusType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemStatusType' AND TABLE_NAME='SystemStatusType'))
ALTER TABLE [dbo].[SystemStatusType]
	 ALTER COLUMN [SystemStatusType] nvarchar(40) NOT NULL
GO
-- Alter Column TimeSheetApprovalPath on SystemTimeSheetApprovalPath
Print 'Alter Column TimeSheetApprovalPath on SystemTimeSheetApprovalPath'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemTimeSheetApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TimeSheetApprovalPath' AND TABLE_NAME='SystemTimeSheetApprovalPath'))
ALTER TABLE [dbo].[SystemTimeSheetApprovalPath]
	 ALTER COLUMN [TimeSheetApprovalPath] nvarchar(100) NOT NULL
GO
-- Alter Column SystemPath on SystemPath
Print 'Alter Column SystemPath on SystemPath'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPath' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemPath' AND TABLE_NAME='SystemPath'))
ALTER TABLE [dbo].[SystemPath]
	 ALTER COLUMN [SystemPath] nvarchar(200) NOT NULL
GO
-- Alter Column SystemPathDescription on SystemPath
Print 'Alter Column SystemPathDescription on SystemPath'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPath' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemPathDescription' AND TABLE_NAME='SystemPath'))
ALTER TABLE [dbo].[SystemPath]
	 ALTER COLUMN [SystemPathDescription] nvarchar(200) NOT NULL
GO
-- Alter Column CustomerRequestType on SystemCustomerRequestType
Print 'Alter Column CustomerRequestType on SystemCustomerRequestType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCustomerRequestType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='CustomerRequestType' AND TABLE_NAME='SystemCustomerRequestType'))
ALTER TABLE [dbo].[SystemCustomerRequestType]
	 ALTER COLUMN [CustomerRequestType] nvarchar(100) NOT NULL
GO
-- Alter Column SystemDurationUnit on SystemDurationUnit
Print 'Alter Column SystemDurationUnit on SystemDurationUnit'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemDurationUnit' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemDurationUnit' AND TABLE_NAME='SystemDurationUnit'))
ALTER TABLE [dbo].[SystemDurationUnit]
	 ALTER COLUMN [SystemDurationUnit] nvarchar(20) NOT NULL
GO
-- Add Primary Key PK_SystemDurationUnit to SystemDurationUnit
Print 'Add Primary Key PK_SystemDurationUnit to SystemDurationUnit'
GO
ALTER TABLE [dbo].[SystemDurationUnit]
	ADD
	CONSTRAINT [PK_SystemDurationUnit]
	PRIMARY KEY
	([SystemDurationUnit])
GO
-- Alter Column SystemEMailNotification on SystemEMailNotification
Print 'Alter Column SystemEMailNotification on SystemEMailNotification'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemEMailNotification' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemEMailNotification' AND TABLE_NAME='SystemEMailNotification'))
ALTER TABLE [dbo].[SystemEMailNotification]
	 ALTER COLUMN [SystemEMailNotification] nvarchar(100) NOT NULL
GO
-- Alter Column SystemBillingRateType on SystemBillingRateType
Print 'Alter Column SystemBillingRateType on SystemBillingRateType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemBillingRateType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemBillingRateType' AND TABLE_NAME='SystemBillingRateType'))
ALTER TABLE [dbo].[SystemBillingRateType]
	 ALTER COLUMN [SystemBillingRateType] nvarchar(100) NOT NULL
GO
-- Alter Column Abbreviation on SystemCountry
Print 'Alter Column Abbreviation on SystemCountry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCountry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Abbreviation' AND TABLE_NAME='SystemCountry'))
ALTER TABLE [dbo].[SystemCountry]
	 ALTER COLUMN [Abbreviation] nvarchar(4) NOT NULL
GO
-- Alter Column Country on SystemCountry
Print 'Alter Column Country on SystemCountry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCountry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Country' AND TABLE_NAME='SystemCountry'))
ALTER TABLE [dbo].[SystemCountry]
	 ALTER COLUMN [Country] nvarchar(100) NOT NULL
GO
-- Alter Column Currency on SystemCurrency
Print 'Alter Column Currency on SystemCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCurrency' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Currency' AND TABLE_NAME='SystemCurrency'))
ALTER TABLE [dbo].[SystemCurrency]
	 ALTER COLUMN [Currency] nvarchar(100) NOT NULL
GO
-- Alter Column CurrencyCode on SystemCurrency
Print 'Alter Column CurrencyCode on SystemCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCurrency' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='CurrencyCode' AND TABLE_NAME='SystemCurrency'))
ALTER TABLE [dbo].[SystemCurrency]
	 ALTER COLUMN [CurrencyCode] nvarchar(10) NOT NULL
GO
-- Alter Column SystemNamePrefix on SystemNamePrefix
Print 'Alter Column SystemNamePrefix on SystemNamePrefix'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemNamePrefix' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemNamePrefix' AND TABLE_NAME='SystemNamePrefix'))
ALTER TABLE [dbo].[SystemNamePrefix]
	 ALTER COLUMN [SystemNamePrefix] nvarchar(10) NOT NULL
GO
-- Add Primary Key PK_SystemNamePrefix to SystemNamePrefix
Print 'Add Primary Key PK_SystemNamePrefix to SystemNamePrefix'
GO
ALTER TABLE [dbo].[SystemNamePrefix]
	ADD
	CONSTRAINT [PK_SystemNamePrefix]
	PRIMARY KEY
	([SystemNamePrefix])
GO
-- Alter Column SKUReference on SystemPackageType
Print 'Alter Column SKUReference on SystemPackageType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPackageType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SKUReference' AND TABLE_NAME='SystemPackageType'))
ALTER TABLE [dbo].[SystemPackageType]
	 ALTER COLUMN [SKUReference] nvarchar(100) NULL
GO
-- Alter Column StoreCode on SystemPackageType
Print 'Alter Column StoreCode on SystemPackageType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPackageType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='StoreCode' AND TABLE_NAME='SystemPackageType'))
ALTER TABLE [dbo].[SystemPackageType]
	 ALTER COLUMN [StoreCode] nvarchar(100) NULL
GO
-- Alter Column SKUId on SystemPackageType
Print 'Alter Column SKUId on SystemPackageType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPackageType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SKUId' AND TABLE_NAME='SystemPackageType'))
ALTER TABLE [dbo].[SystemPackageType]
	 ALTER COLUMN [SKUId] nvarchar(100) NULL
GO
-- Alter Column SystemPackageType on SystemPackageType
Print 'Alter Column SystemPackageType on SystemPackageType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPackageType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemPackageType' AND TABLE_NAME='SystemPackageType'))
ALTER TABLE [dbo].[SystemPackageType]
	 ALTER COLUMN [SystemPackageType] nvarchar(100) NOT NULL
GO
-- Alter Column SystemPartyType on SystemPartyType
Print 'Alter Column SystemPartyType on SystemPartyType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemPartyType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemPartyType' AND TABLE_NAME='SystemPartyType'))
ALTER TABLE [dbo].[SystemPartyType]
	 ALTER COLUMN [SystemPartyType] nvarchar(100) NOT NULL
GO
-- Alter Column SystemEMailNotificationType on SystemEMailNotificationType
Print 'Alter Column SystemEMailNotificationType on SystemEMailNotificationType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemEMailNotificationType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemEMailNotificationType' AND TABLE_NAME='SystemEMailNotificationType'))
ALTER TABLE [dbo].[SystemEMailNotificationType]
	 ALTER COLUMN [SystemEMailNotificationType] nvarchar(200) NOT NULL
GO
-- Alter Column EmployeeType on SystemEmployeeType
Print 'Alter Column EmployeeType on SystemEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeType' AND TABLE_NAME='SystemEmployeeType'))
ALTER TABLE [dbo].[SystemEmployeeType]
	 ALTER COLUMN [EmployeeType] nvarchar(100) NULL
GO
-- Alter Column TemplateContent on SystemMasterEMailTemplate
Print 'Alter Column TemplateContent on SystemMasterEMailTemplate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemMasterEMailTemplate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TemplateContent' AND TABLE_NAME='SystemMasterEMailTemplate'))
ALTER TABLE [dbo].[SystemMasterEMailTemplate]
	 ALTER COLUMN [TemplateContent] nvarchar(4000) NOT NULL
GO
-- Alter Column TemplateDescription on SystemMasterEMailTemplate
Print 'Alter Column TemplateDescription on SystemMasterEMailTemplate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemMasterEMailTemplate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TemplateDescription' AND TABLE_NAME='SystemMasterEMailTemplate'))
ALTER TABLE [dbo].[SystemMasterEMailTemplate]
	 ALTER COLUMN [TemplateDescription] nvarchar(1000) NOT NULL
GO
-- Alter Column TemplateName on SystemMasterEMailTemplate
Print 'Alter Column TemplateName on SystemMasterEMailTemplate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemMasterEMailTemplate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TemplateName' AND TABLE_NAME='SystemMasterEMailTemplate'))
ALTER TABLE [dbo].[SystemMasterEMailTemplate]
	 ALTER COLUMN [TemplateName] nvarchar(400) NOT NULL
GO
-- Create Index IX_AccountTaxZone on AccountTaxZone
Print 'Create Index IX_AccountTaxZone on AccountTaxZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxZone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaxZone]') AND name = N'IX_AccountTaxZone'))
CREATE UNIQUE INDEX [IX_AccountTaxZone]
	ON [dbo].[AccountTaxZone] ([AccountId], [AccountTaxZone])
GO
-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference]
GO
-- Drop View vueAccountProjectTaskWithBillingRate
Print 'Drop View vueAccountProjectTaskWithBillingRate'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskWithBillingRate' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountProjectTaskWithBillingRate]
GO
-- Drop View vueAccountProjectEmployee
Print 'Drop View vueAccountProjectEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountProjectEmployee]
GO
-- Drop View vueAccountProjectRole
Print 'Drop View vueAccountProjectRole'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectRole' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountProjectRole]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingEMail
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingEMail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEMail' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingEMail]
GO
-- Drop View vueAccountEmployeeWithBillingRate
Print 'Drop View vueAccountEmployeeWithBillingRate'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeWithBillingRate' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeWithBillingRate]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingApprover
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingApprover'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingApprover' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingApprover]
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPendingApprover
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingApprover'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingApprover' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover
AS
SELECT     AccountProjectId, LeaderEmployeeId, ProjectManagerEmployeeId, ApprovalTypeName, AccountApprovalPathId, AccountApprovalTypeId, 
                      SystemApproverTypeId, AccountExternalUserId, AccountEmployeeId, ApprovalPathSequence, AccountEmployeeTimeEntryId, TimeSheetApprovalId, 
                      TimeSheetApprovalPathId, ProjectName, ProjectDescription, ProjectCode, TaskName, AccountProjectTaskId, TaskDescription, EmployeeName, 
                      Approved, TimeSheetApprovalTypeId, TotalTime, TimeEntryDate, Comments, IsReject, IsApproved, MaxApprovalPathSequence, 
                      TimeEntryAccountEmployeeId, AccountId, EMailAddress, 
                      CASE WHEN systemapprovertypeid = 1 THEN LeaderEmployeeId WHEN systemapprovertypeid = 2 THEN ProjectManagerEmployeeId WHEN systemapprovertypeid
                       = 3 THEN AccountEmployeeId WHEN systemapprovertypeid = 4 THEN AccountExternalUserId END AS ApproverEmployeeId, Description
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPending'
GO
-- Create View vueAccountEmployeeWithBillingRate
Print 'Create View vueAccountEmployeeWithBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeWithBillingRate' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeWithBillingRate
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, dbo.AccountEmployee.MiddleName, dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, 
                      dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.Notes, dbo.AccountEmployee.AddressLine1, dbo.AccountEmployee.AddressLine2, dbo.AccountEmployee.State, 
                      dbo.AccountEmployee.City, dbo.AccountEmployee.Zip, dbo.AccountEmployee.CountryId, dbo.AccountEmployee.HomePhoneNo, 
                      dbo.AccountEmployee.WorkPhoneNo, dbo.AccountEmployee.MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, 
                      dbo.AccountEmployee.StartDate, dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, 
                      dbo.AccountEmployee.IsDisabled, dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, 
                      dbo.AccountEmployee.CreatedOn, dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, 
                      dbo.AccountEmployee.ModifiedByEmployeeId, dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.Username, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountWorkTypeBillingRate.SystemBillingRateTypeId, dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.EmployeeRate, 
                      dbo.AccountBillingRate.AccountBillingRateId, dbo.AccountWorkType.AccountWorkTypeId, dbo.AccountBillingRate.StartDate AS BillingRateStartDate, 
                      dbo.AccountBillingRate.EndDate AS BillingRateEndDate
FROM         dbo.AccountBillingRate RIGHT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON 
                      dbo.AccountBillingRate.AccountBillingRateId = dbo.AccountWorkTypeBillingRate.AccountBillingRateId RIGHT OUTER JOIN
                      dbo.AccountEmployee LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployee.AccountId = dbo.AccountWorkType.AccountId ON 
                      dbo.AccountWorkTypeBillingRate.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId AND 
                      dbo.AccountWorkTypeBillingRate.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId'
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPendingEMail
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingEMail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEMail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectCode, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Comments, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.IsApproved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountId, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApproverEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Description
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApproverEmployeeId = dbo.AccountEMailNotificationPreference.AccountEmployeeId LEFT
                       OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectId = AccountEMailNotificationPreference_2.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountId = AccountEMailNotificationPreference_1.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 11) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 12) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 13) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountProjectRole
Print 'Create View vueAccountProjectRole'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectRole' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectRole
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.DefaultBillingRate AS RoleBillingRate, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountRole.AccountId, dbo.AccountRole.Role, dbo.AccountRole.MasterAccountRoleId, 
                      dbo.AccountProjectRole.AccountProjectRoleId, dbo.AccountProjectRole.NumberOfResources, dbo.AccountProjectRole.BillingTypeId, 
                      dbo.AccountBillingRate.SystemBillingRateTypeId, dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, 
                      dbo.AccountBillingRate.EndDate, dbo.AccountBillingRate.EmployeeRate, dbo.AccountWorkType.AccountWorkTypeId, 
                      dbo.AccountBillingRate.AccountBillingRateId
FROM         dbo.AccountBillingRate RIGHT OUTER JOIN
                      dbo.AccountRole INNER JOIN
                      dbo.AccountProject ON dbo.AccountRole.AccountId = dbo.AccountProject.AccountId INNER JOIN
                      dbo.AccountWorkType ON dbo.AccountProject.AccountId = dbo.AccountWorkType.AccountId LEFT OUTER JOIN
                      dbo.AccountProjectRole ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectRole.AccountRoleId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectRole.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON dbo.AccountWorkType.AccountWorkTypeId = dbo.AccountWorkTypeBillingRate.AccountWorkTypeId AND 
                      dbo.AccountProjectRole.AccountProjectRoleId = dbo.AccountWorkTypeBillingRate.AccountProjectRoleId ON 
                      dbo.AccountBillingRate.AccountBillingRateId = dbo.AccountWorkTypeBillingRate.AccountBillingRateId'
GO
-- Create View vueAccountProjectEmployee
Print 'Create View vueAccountProjectEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectEmployee
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProjectEmployee.AccountProjectEmployeeId, dbo.AccountProjectEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS FullName, dbo.AccountEmployee.AccountId, 
                      dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, dbo.AccountBillingRate.EmployeeRate, 
                      dbo.AccountBillingRate.AccountBillingRateId, dbo.vueAccountEmployeeWithBillingRate.BillingRate AS EmployeeBillingRate, 
                      dbo.vueAccountEmployeeWithBillingRate.EmployeeRate AS EmployeeEmployeeRate, dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId, 
                      dbo.AccountBillingRate.SystemBillingRateTypeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName
FROM         dbo.AccountWorkType INNER JOIN
                      dbo.vueAccountEmployeeWithBillingRate ON 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployee.AccountId = dbo.AccountProject.AccountId ON 
                      dbo.vueAccountEmployeeWithBillingRate.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectEmployee.AccountEmployeeId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectEmployee.AccountProjectId AND 
                      dbo.AccountWorkType.AccountId = dbo.AccountProjectEmployee.AccountId LEFT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON 
                      dbo.AccountProjectEmployee.AccountProjectEmployeeId = dbo.AccountWorkTypeBillingRate.AccountProjectEmployeeId AND 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.AccountWorkTypeBillingRate.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountBillingRate ON dbo.AccountWorkTypeBillingRate.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId'
GO
-- Create View vueAccountProjectTaskWithBillingRate
Print 'Create View vueAccountProjectTaskWithBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskWithBillingRate' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskWithBillingRate
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountProjectTask.IsReOpen, dbo.AccountProjectTask.CreatedOn, 
                      dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, dbo.AccountProjectTask.ModifiedByEmployeeId, 
                      dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, dbo.AccountProjectTask.EstimatedTimeSpentUnit, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountProjectTask.IsDisabled, dbo.AccountProjectTask.IsForAllProjectTask, 
                      dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, 
                      dbo.AccountWorkTypeBillingRate.SystemBillingRateTypeId, dbo.AccountBillingRate.EmployeeRate, dbo.AccountWorkType.AccountWorkTypeId, 
                      dbo.AccountBillingRate.AccountBillingRateId
FROM         dbo.AccountWorkTypeBillingRate RIGHT OUTER JOIN
                      dbo.AccountBillingRate ON dbo.AccountWorkTypeBillingRate.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId RIGHT OUTER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountProject.AccountId = dbo.AccountWorkType.AccountId ON 
                      dbo.AccountWorkTypeBillingRate.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId AND 
                      dbo.AccountWorkTypeBillingRate.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId'
GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EmployeeName, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TotalTime, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Comments, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsApproved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.EMailAddress AS ApproverEMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Description
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail LEFT OUTER JOIN
                      dbo.AccountEmployee ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId = dbo.AccountPreferences.AccountId'
GO
-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId, dbo.AccountEmployeeTimeEntry.Submitted, 
                      dbo.AccountEmployeeTimeEntry.AccountWorkTypeId
FROM         dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'
GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemWorkType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemWorkType]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemWorkType] WHERE [SystemWorkTypeId]= 1 AND [SystemWorkTypeCode]='ST' AND [SystemWorkType] = 'Standard')
BEGIN
INSERT INTO [dbo].[SystemWorkType] ([SystemWorkTypeId], [SystemWorkTypeCode], [SystemWorkType]) VALUES (1, 'ST', 'Standard')
INSERT INTO [dbo].[SystemWorkType] ([SystemWorkTypeId], [SystemWorkTypeCode], [SystemWorkType]) VALUES (2, 'OT', 'Overtime')
INSERT INTO [dbo].[SystemWorkType] ([SystemWorkTypeId], [SystemWorkTypeCode], [SystemWorkType]) VALUES (3, 'TR', 'Travel')
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] =118 AND [SystemSecurityCategoryId] = 1 AND [SequenceNumber] = '2130021031' AND [Folder] = 'AccountAdmin' AND [SystemCategoryPage] = 'AccountWorkType.aspx' AND [SystemCategoryPageDescription] = 'Work Type' AND [ParentSystemSecurityCateogoryPageId] = 15 AND [IsSiteMapPage] = 1 AND [IsCustomizeable] = 1 AND [IsAllowAdd] = 1 AND [IsAllowEdit]=1 AND [IsAllowDelete]=1 AND [IsAllowList]=1 AND [IsShowDataOptions] is NULL AND [IsShowTillOptions] Is Null AND [IsSystemPage] is NULL AND [ControlLevelPermission] is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (118, 1, '2130021031', 'AccountAdmin', 'AccountWorkType.aspx', 'Work Type', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (119, 1, '2130021032', 'AccountAdmin', 'AccountImportExport.aspx', 'Import Export', 15, 1, 1, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (120, 6, '21300217', 'Reports', 'ProjectSummaryReport.aspx', 'Project Activity Summary Report', 75, 1, 1, NULL, NULL, NULL, 1, 1, NULL, NULL, NULL)
END
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- Create View vueAccountProjectForProjectSummary
Print 'Create View vueAccountProjectForProjectSummary'
GO

if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectForProjectSummary' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE  VIEW [dbo].[vueAccountProjectForProjectSummary]
AS
SELECT     dbo.AccountProject.*, dbo.AccountParty.PartyName
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON 

dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueProjectSummary
Print 'Create View vueProjectSummary'
GO
if not exists (select * from information_schema.tables where table_name = 'vueProjectSummary' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE  VIEW [dbo].[vueProjectSummary]
AS
SELECT     ProjectName, EmployeeName, TaskName, 

TotalTime, AccountEmployeeId, AccountProjectId, TimeEntryDate, 

AccountId, AccountPartyId, 
                      PartyName, AccountProjectTaskId, TotalMinutes / 

60 AS TotalMinutes, Approved
FROM         dbo.vueAccountEmployeeTimeEntry'
GO
-- Create View vueAccountExpenseEntryForProjectSummary
Print 'Create View vueAccountExpenseEntryForProjectSummary'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForProjectSummary' and table_type = 'VIEW') 
EXEC sp_executesql N'create view [dbo].[vueAccountExpenseEntryForProjectSummary]
as select * from vueAccountExpenseEntry'
GO
-- Drop View vueAccountProjects
Print 'Drop View vueAccountProjects'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjects' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountProjects]
GO
-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Drop View vueAccountProjectTask
Print 'Drop View vueAccountProjectTask'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountProjectTask]
GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) 
                      AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountExpenseEntry.TimeSheetApprovalPathId, dbo.AccountEmployee.EMailAddress, dbo.AccountDepartment.DepartmentName, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountTaxZone.AccountTaxZone, dbo.AccountExpenseEntry.Quantity, dbo.AccountExpenseEntry.Rate, 
                      dbo.AccountPaymentMethod.PaymentMethod
FROM         dbo.AccountCurrency RIGHT OUTER JOIN
                      dbo.AccountPaymentMethod RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId ON 
                      dbo.AccountPaymentMethod.AccountPaymentMethodId = dbo.AccountExpenseEntry.AccountPaymentMethodId LEFT OUTER JOIN
                      dbo.AccountTaxZone ON dbo.AccountExpenseEntry.AccountTaxZoneId = dbo.AccountTaxZone.AccountTaxZoneId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountExpenseEntry.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId LEFT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountLocation RIGHT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountLocation.AccountLocationId = dbo.AccountEmployee.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId ON 
                      dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountProjectTask
Print 'Create View vueAccountProjectTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW')
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTask
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.CreatedOn, dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, 
                      dbo.AccountProjectTask.ModifiedByEmployeeId, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountEmployee.FirstName AS CreatedByFirstName, 
                      dbo.AccountEmployee.LastName AS CreatedByLastName, dbo.AccountPriority.Priority, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectCode, dbo.AccountTaskType.TaskType, dbo.AccountProject.AccountId, dbo.AccountProjectTask.AccountProjectMilestoneId, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountProjectTask.IsReOpen, AccountEmployee_1.FirstName AS ModifiedByFirstName, 
                      AccountEmployee_1.LastName AS ModifiedByLastName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountProjectTask.EstimatedTimeSpentUnit, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectTask.IsDisabled, 
                      dbo.AccountProjectTask.TaskCode, dbo.AccountProject.IsTemplate, dbo.AccountProjectTask.IsForAllProjectTask, 
                      dbo.AccountProjectTask.IsBillable
FROM         dbo.AccountStatus RIGHT OUTER JOIN
                      dbo.AccountTaskType RIGHT OUTER JOIN
                      dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProjectTask.ModifiedByEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectTask.CreatedByEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.AccountProjectTask.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountTaskType.AccountTaskTypeId = dbo.AccountProjectTask.AccountTaskTypeId ON 
                      dbo.AccountStatus.AccountStatusId = dbo.AccountProjectTask.TaskStatusId LEFT OUTER JOIN
                      dbo.AccountPriority ON dbo.AccountProjectTask.AccountPriorityId = dbo.AccountPriority.AccountPriorityId'
GO
-- Create View vueAccountProjects
Print 'Create View vueAccountProjects'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjects' and table_type = 'VIEW')
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjects
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.StartDate, dbo.AccountProject.ProjectCode, 
                      dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, AccountEmployee_1.FirstName + '' '' + dbo.AccountEmployee.LastName AS LeaderName, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS ProjectManagerName, dbo.AccountProject.AccountId, 
                      dbo.AccountProject.IsActive, dbo.AccountProject.Deadline, dbo.AccountProject.EstimatedDuration, dbo.AccountProject.EstimatedDurationUnit, 
                      dbo.AccountProject.ProjectStatusId, dbo.AccountStatus.Status, dbo.AccountProject.IsDisabled, dbo.AccountProject.ProjectDescription, 
                      dbo.AccountProject.IsTemplate, dbo.AccountProject.IsProject, dbo.AccountProject.AccountProjectTemplateId, 
                      dbo.SystemProjectBillingRateType.SystemProjectBillingRateType
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId LEFT OUTER JOIN
                      dbo.SystemProjectBillingRateType ON 
                      dbo.AccountProject.ProjectBillingRateTypeId = dbo.SystemProjectBillingRateType.SystemProjectBillingRateTypeId LEFT OUTER JOIN
                      dbo.AccountStatus ON dbo.AccountProject.ProjectStatusId = dbo.AccountStatus.AccountStatusId FULL OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountProject.ProjectManagerEmployeeId = dbo.AccountEmployee.AccountEmployeeId AND 
                      dbo.AccountProject.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId'

GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Add Column ShowWorkTypeInTimeSheet to AccountPreferences
Print 'Add Column ShowWorkTypeInTimeSheet to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ShowWorkTypeInTimeSheet' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [ShowWorkTypeInTimeSheet] bit NULL

GO
-- Add Column NumberOfBlankRowsInTimeEntry to AccountPreferences
Print 'Add Column NumberOfBlankRowsInTimeEntry to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='NumberOfBlankRowsInTimeEntry' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [NumberOfBlankRowsInTimeEntry] smallint NULL

GO
-- Add Default Constraint DF_AccountPreferences_ShowWorkTypeInTimeSheet to AccountPreferences
Print 'Add Default Constraint DF_AccountPreferences_ShowWorkTypeInTimeSheet to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountPreferences_ShowWorkTypeInTimeSheet'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD
	CONSTRAINT [DF_AccountPreferences_ShowWorkTypeInTimeSheet]
	DEFAULT ((0)) FOR [ShowWorkTypeInTimeSheet]
GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Create Foreign Key FK_AccountEmployeeTimeEntry_AccountWorkType on AccountEmployeeTimeEntry
Print 'Create Foreign Key FK_AccountEmployeeTimeEntry_AccountWorkType on AccountEmployeeTimeEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntry_AccountWorkType' AND TABLE_NAME='AccountEmployeeTimeEntry')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntry_AccountWorkType]
			FOREIGN KEY ([AccountWorkTypeId]) REFERENCES [dbo].[AccountWorkType] ([AccountWorkTypeId])
END
GO
-- Create Foreign Key FK_AccountBillingRate_AccountWorkType on AccountBillingRate
Print 'Create Foreign Key FK_AccountBillingRate_AccountWorkType on AccountBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountWorkType' AND TABLE_NAME='AccountBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountBillingRate]
			ADD CONSTRAINT [FK_AccountBillingRate_AccountWorkType]
			FOREIGN KEY ([AccountWorkTypeId]) REFERENCES [dbo].[AccountWorkType] ([AccountWorkTypeId])
END
GO
-- Update EmployeeRate in AccountBillingRate

Update AccountBillingRate Set EmployeeRate = 0
Where EmployeeRate is null

GO
-- Drop View vueAccountExpenseEntryRejectedEmail
Print 'Drop View vueAccountExpenseEntryRejectedEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryRejectedEmail' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryRejectedEmail]
GO
-- Create View vueAccountExpenseEntryRejectedEmail
Print 'Create View vueAccountExpenseEntryRejectedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryRejectedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryRejectedEmail
AS
SELECT     dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntry.EmployeeName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, 
                      dbo.vueAccountExpenseEntry.QuantityFieldCaption, dbo.vueAccountExpenseEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntry.TimeSheetApprovalTypeId, dbo.vueAccountExpenseEntry.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntry.TimeSheetApprovalPathId, dbo.vueAccountExpenseEntry.ExchangeRate
FROM         dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.vueAccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId ON 
                      AccountEMailNotificationPreference_1.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 25) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 23) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 24) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'

GO

-- Drop View vueAccountEmployeeTimeEntryApprovalPending
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPending]
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPending
Print 'Create View vueAccountEmployeeTimeEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPending
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskName, dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Approved, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountApproverType.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, dbo.vueAccountEmployeeTimeEntryApproval.Description, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Submitted
FROM         dbo.vueAccountEmployeeTimeEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueTimesheetApprovalSequence
                            WHERE      (TimeSheetApprovalId IS NULL) AND 
                                                   (AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId))) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Approved = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.IsReject IS NULL OR
                      dbo.vueAccountEmployeeTimeEntryApproval.IsReject = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.Submitted = 1)'
GO
-- Delete Records From AccountProjectEmployee Where AccountEmployeeId = 0
Print 'Delete Records From AccountProjectEmployee Where AccountEmployeeId = 0'
Delete From AccountProjectEmployee Where AccountEmployeeId = 0

GO
-- Drop View vueAccountExpenseEntryApprovalPending
Print 'Drop View vueAccountExpenseEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPending]
GO
-- Drop View vueAccountExpenseEntryApproval
Print 'Drop View vueAccountExpenseEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryApproval]
GO
-- Create View vueAccountExpenseEntryApproval
Print 'Create View vueAccountExpenseEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, dbo.AccountExpenseEntryApproval.Comments, 
                      dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpense.IsBillable, 
                      dbo.AccountExpenseEntry.AccountEmployeeId AS ExpenseEntryAccountEmployeeId, dbo.AccountExpenseEntry.Description, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntry.Submitted, 
                      dbo.SystemCurrency.CurrencyCode
FROM         dbo.AccountCurrency INNER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountExpenseEntry.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId'
GO
-- Create View vueAccountExpenseEntryApprovalPending
Print 'Create View vueAccountExpenseEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPending
AS
SELECT     dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApproval.ProjectName, 
                      dbo.vueAccountExpenseEntryApproval.ProjectDescription, dbo.vueAccountExpenseEntryApproval.ProjectCode, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeName, dbo.vueAccountExpenseEntryApproval.Approved, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntryApproval.IsRejected, 
                      dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, 
                      dbo.vueAccountExpenseEntryApproval.EMailAddress, dbo.vueAccountExpenseEntryApproval.Submitted, 
                      dbo.vueAccountExpenseEntryApproval.CurrencyCode
FROM         dbo.vueAccountExpenseEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueExpenseApprovalSequence AS vueExpenseApprovalSequence_1
                            WHERE      (ExpenseApprovalId IS NULL) AND (AccountExpenseEntryId = dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId)))'

-- End 2.91.0001

--Start 2.93.0001

GO
-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO
-- Drop View vueAccountExpenseEntryRejectedEmail
Print 'Drop View vueAccountExpenseEntryRejectedEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryRejectedEmail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryRejectedEmail]
GO
-- Drop View vueAccountExpenseEntryApprovalPendingEmailWithPreference
Print 'Drop View vueAccountExpenseEntryApprovalPendingEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPendingEmailWithPreference]
GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference]
GO
-- Drop View vueAccountProjectEmployee
Print 'Drop View vueAccountProjectEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectEmployee]
GO
-- Drop View vueAccountProjectRole
Print 'Drop View vueAccountProjectRole'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectRole' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectRole]
GO
-- Drop View vueAccountExpenseEntryApprovalPendingEmail
Print 'Drop View vueAccountExpenseEntryApprovalPendingEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPendingEmail]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingEMail
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingEMail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEMail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingEMail]
GO
-- Drop View vueAccountEmployeeWithBillingRate
Print 'Drop View vueAccountEmployeeWithBillingRate'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeWithBillingRate' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeWithBillingRate]
GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Drop View vueAccountExpenseEntryApprovalPendingApprover
Print 'Drop View vueAccountExpenseEntryApprovalPendingApprover'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingApprover' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPendingApprover]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingApprover
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingApprover'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingApprover' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingApprover]
GO
-- Drop View vueAccountExpenseEntryApprovalPending
Print 'Drop View vueAccountExpenseEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPending]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPending
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPending]
GO
-- Drop View vueAccountExpenseEntryApproval
Print 'Drop View vueAccountExpenseEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApproval]
GO
-- Drop View vueAccountEmployeeTimeEntryApproval
Print 'Drop View vueAccountEmployeeTimeEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApproval]
GO
-- Drop Column BillingRateCurrencyId from AccountEmployee
Print 'Drop Column BillingRateCurrencyId from AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='BillingRateCurrencyId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee] DROP COLUMN [BillingRateCurrencyId]
GO
-- Add Column EmployeeManagerId to AccountEmployee
Print 'Add Column EmployeeManagerId to AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeManagerId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	ADD [EmployeeManagerId] int NULL
GO
-- Create Table AccountCostCenter
Print 'Create Table AccountCostCenter'
GO
if not exists (select * from information_schema.tables where table_name = 'AccountCostCenter' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountCostCenter] (
		[AccountCostCenterId]       int NOT NULL IDENTITY(1, 1),
		[AccountCostCenterCode]     nvarchar(14) NOT NULL,
		[AccountCostCenter]         nvarchar(100) NOT NULL,
		[AccountId]                 int NOT NULL,
		[CreatedOn]                 datetime NOT NULL,
		[CreatedByEmployeeId]       int NOT NULL,
		[ModifiedOn]                datetime NOT NULL,
		[ModifiedByEmployeeId]      int NOT NULL,
		[IsDisabled]                bit NOT NULL,
		[MasterCostCenterId]        smallint NULL
)
GO
-- Add Primary Key PK_AccountCostCenter to AccountCostCenter
Print 'Add Primary Key PK_AccountCostCenter to AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountCostCenter' AND TABLE_NAME='AccountCostCenter'))
ALTER TABLE [dbo].[AccountCostCenter]
	ADD
	CONSTRAINT [PK_AccountCostCenter]
	PRIMARY KEY
	([AccountCostCenterId])
GO
-- Add Default Constraint DF_AccountCostCenter_CreatedOn to AccountCostCenter
Print 'Add Default Constraint DF_AccountCostCenter_CreatedOn to AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountCostCenter_CreatedOn'))
ALTER TABLE [dbo].[AccountCostCenter]
	ADD
	CONSTRAINT [DF_AccountCostCenter_CreatedOn]
	DEFAULT (getdate()) FOR [CreatedOn]
GO
-- Add Default Constraint DF_AccountCostCenter_IsDisabled to AccountCostCenter
Print 'Add Default Constraint DF_AccountCostCenter_IsDisabled to AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountCostCenter_IsDisabled'))
ALTER TABLE [dbo].[AccountCostCenter]
	ADD
	CONSTRAINT [DF_AccountCostCenter_IsDisabled]
	DEFAULT ((0)) FOR [IsDisabled]
GO
-- Add Default Constraint DF_AccountCostCenter_ModifiedOn to AccountCostCenter
Print 'Add Default Constraint DF_AccountCostCenter_ModifiedOn to AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountCostCenter_ModifiedOn'))
ALTER TABLE [dbo].[AccountCostCenter]
	ADD
	CONSTRAINT [DF_AccountCostCenter_ModifiedOn]
	DEFAULT (getdate()) FOR [ModifiedOn]
GO
-- Add Column BillingRateCurrencyId to AccountBillingRate
Print 'Add Column BillingRateCurrencyId to AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='BillingRateCurrencyId' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	ADD [BillingRateCurrencyId] int NULL

GO
-- Add Column EmployeeRateCurrencyId to AccountBillingRate
Print 'Add Column EmployeeRateCurrencyId to AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeRateCurrencyId' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	ADD [EmployeeRateCurrencyId] int NULL
GO

-- Add Column ShowCostCenterInTimeSheet to AccountPreferences
Print 'Add Column ShowCostCenterInTimeSheet to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ShowCostCenterInTimeSheet' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [ShowCostCenterInTimeSheet] bit NULL

GO
-- Add Column WeekStartDay to AccountPreferences
Print 'Add Column WeekStartDay to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='WeekStartDay' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [WeekStartDay] tinyint NULL

GO
-- Add Default Constraint DF_AccountPreferences_ShowCostCenterInTimeSheet_1 to AccountPreferences
Print 'Add Default Constraint DF_AccountPreferences_ShowCostCenterInTimeSheet_1 to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountPreferences_ShowCostCenterInTimeSheet_1'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD
	CONSTRAINT [DF_AccountPreferences_ShowCostCenterInTimeSheet_1]
	DEFAULT ((0)) FOR [ShowCostCenterInTimeSheet]

GO
-- Create Table MasterCostCenter
Print 'Create Table MasterCostCenter'
GO
if not exists (select * from information_schema.tables where table_name = 'MasterCostCenter' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterCostCenter] (
		[MasterCostCenterId]       smallint NOT NULL,
		[MasterCostCenterCode]     nvarchar(14) NOT NULL,
		[MasterCostCenter]         nvarchar(100) NOT NULL
)
GO
-- Add Primary Key PK_MasterCostCenter to MasterCostCenter
Print 'Add Primary Key PK_MasterCostCenter to MasterCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_MasterCostCenter' AND TABLE_NAME='MasterCostCenter'))
ALTER TABLE [dbo].[MasterCostCenter]
	ADD
	CONSTRAINT [PK_MasterCostCenter]
	PRIMARY KEY
	([MasterCostCenterId])

GO
-- Add Column AccountCostCenterId to AccountEmployeeTimeEntry
Print 'Add Column AccountCostCenterId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountCostCenterId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [AccountCostCenterId] int NULL

GO
-- Add Column BillingRateCurrencyId to AccountEmployeeTimeEntry
Print 'Add Column BillingRateCurrencyId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='BillingRateCurrencyId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [BillingRateCurrencyId] int NULL

GO
-- Add Column EmployeeRateCurrencyId to AccountEmployeeTimeEntry
Print 'Add Column EmployeeRateCurrencyId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeRateCurrencyId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [EmployeeRateCurrencyId] int NULL

GO
-- Add Column BillingRateExchangeRate to AccountEmployeeTimeEntry
Print 'Add Column BillingRateExchangeRate to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='BillingRateExchangeRate' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [BillingRateExchangeRate] float NULL

GO
-- Add Column EmployeeRateExchangeRate to AccountEmployeeTimeEntry
Print 'Add Column EmployeeRateExchangeRate to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeeRateExchangeRate' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [EmployeeRateExchangeRate] float NULL

GO
-- Add Column AccountBaseCurrencyId to AccountEmployeeTimeEntry
Print 'Add Column AccountBaseCurrencyId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountBaseCurrencyId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [AccountBaseCurrencyId] int NULL

GO

-- Create Foreign Key FK_AccountEmployeeTimeEntry_AccountCostCenter on AccountEmployeeTimeEntry
Print 'Create Foreign Key FK_AccountEmployeeTimeEntry_AccountCostCenter on AccountEmployeeTimeEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntry_AccountCostCenter' AND TABLE_NAME='AccountEmployeeTimeEntry')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntry_AccountCostCenter]
			FOREIGN KEY ([AccountCostCenterId]) REFERENCES [dbo].[AccountCostCenter] ([AccountCostCenterId])
END

GO

-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'

GO
-- Create View vueAccountEmployeeWithBillingRate
Print 'Create View vueAccountEmployeeWithBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeWithBillingRate' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeWithBillingRate
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, dbo.AccountEmployee.MiddleName, dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, 
                      dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.Notes, dbo.AccountEmployee.AddressLine1, dbo.AccountEmployee.AddressLine2, dbo.AccountEmployee.State, 
                      dbo.AccountEmployee.City, dbo.AccountEmployee.Zip, dbo.AccountEmployee.CountryId, dbo.AccountEmployee.HomePhoneNo, 
                      dbo.AccountEmployee.WorkPhoneNo, dbo.AccountEmployee.MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, dbo.AccountEmployee.StartDate, 
                      dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, dbo.AccountEmployee.CreatedOn, 
                      dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, dbo.AccountEmployee.ModifiedByEmployeeId, 
                      dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, dbo.AccountEmployee.EmployeeTypeId, 
                      dbo.AccountEmployee.Username, dbo.AccountEmployee.EmployeeCode, dbo.AccountWorkTypeBillingRate.SystemBillingRateTypeId, 
                      dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.EmployeeRate, dbo.AccountBillingRate.AccountBillingRateId, 
                      dbo.AccountWorkType.AccountWorkTypeId, dbo.AccountBillingRate.StartDate AS BillingRateStartDate, 
                      dbo.AccountBillingRate.EndDate AS BillingRateEndDate, dbo.AccountBillingRate.BillingRateCurrencyId, 
                      dbo.AccountBillingRate.EmployeeRateCurrencyId
FROM         dbo.AccountBillingRate RIGHT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON 
                      dbo.AccountBillingRate.AccountBillingRateId = dbo.AccountWorkTypeBillingRate.AccountBillingRateId RIGHT OUTER JOIN
                      dbo.AccountEmployee LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployee.AccountId = dbo.AccountWorkType.AccountId ON 
                      dbo.AccountWorkTypeBillingRate.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId AND 
                      dbo.AccountWorkTypeBillingRate.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId'
GO

-- Create View vueAccountProjectRole
Print 'Create View vueAccountProjectRole'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectRole' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjectRole
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.DefaultBillingRate AS RoleBillingRate, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountRole.AccountId, dbo.AccountRole.Role, dbo.AccountRole.MasterAccountRoleId, 
                      dbo.AccountProjectRole.AccountProjectRoleId, dbo.AccountProjectRole.NumberOfResources, dbo.AccountProjectRole.BillingTypeId, 
                      dbo.AccountBillingRate.SystemBillingRateTypeId, dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, 
                      dbo.AccountBillingRate.EndDate, dbo.AccountBillingRate.EmployeeRate, dbo.AccountWorkType.AccountWorkTypeId, 
                      dbo.AccountBillingRate.AccountBillingRateId, dbo.AccountBillingRate.BillingRateCurrencyId, dbo.AccountBillingRate.EmployeeRateCurrencyId
FROM         dbo.AccountBillingRate RIGHT OUTER JOIN
                      dbo.AccountRole INNER JOIN
                      dbo.AccountProject ON dbo.AccountRole.AccountId = dbo.AccountProject.AccountId INNER JOIN
                      dbo.AccountWorkType ON dbo.AccountProject.AccountId = dbo.AccountWorkType.AccountId LEFT OUTER JOIN
                      dbo.AccountProjectRole ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectRole.AccountRoleId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectRole.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON dbo.AccountWorkType.AccountWorkTypeId = dbo.AccountWorkTypeBillingRate.AccountWorkTypeId AND 
                      dbo.AccountProjectRole.AccountProjectRoleId = dbo.AccountWorkTypeBillingRate.AccountProjectRoleId ON 
                      dbo.AccountBillingRate.AccountBillingRateId = dbo.AccountWorkTypeBillingRate.AccountBillingRateId'
GO

-- Create View vueAccountProjectEmployee
Print 'Create View vueAccountProjectEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountProjectEmployee
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProjectEmployee.AccountProjectEmployeeId, dbo.AccountProjectEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS FullName, dbo.AccountEmployee.AccountId, 
                      dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, dbo.AccountBillingRate.EmployeeRate, 
                      dbo.AccountBillingRate.AccountBillingRateId, dbo.vueAccountEmployeeWithBillingRate.BillingRate AS EmployeeBillingRate, 
                      dbo.vueAccountEmployeeWithBillingRate.EmployeeRate AS EmployeeEmployeeRate, dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId, 
                      dbo.AccountBillingRate.SystemBillingRateTypeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, 
                      dbo.AccountBillingRate.BillingRateCurrencyId, dbo.AccountBillingRate.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeWithBillingRate.BillingRateCurrencyId AS EmployeeBillingRateCurrencyId, 
                      dbo.vueAccountEmployeeWithBillingRate.EmployeeRateCurrencyId AS EmployeeEmployeeRateCurrencyId
FROM         dbo.AccountWorkType INNER JOIN
                      dbo.vueAccountEmployeeWithBillingRate ON 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployee.AccountId = dbo.AccountProject.AccountId ON 
                      dbo.vueAccountEmployeeWithBillingRate.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectEmployee.AccountEmployeeId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectEmployee.AccountProjectId AND 
                      dbo.AccountWorkType.AccountId = dbo.AccountProjectEmployee.AccountId LEFT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON 
                      dbo.AccountProjectEmployee.AccountProjectEmployeeId = dbo.AccountWorkTypeBillingRate.AccountProjectEmployeeId AND 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.AccountWorkTypeBillingRate.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountBillingRate ON dbo.AccountWorkTypeBillingRate.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId'
GO

-- Create View vueAccountBillingRate
Print 'Create View vueAccountBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountBillingRate' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountBillingRate
AS
SELECT     dbo.AccountBillingRate.AccountBillingRateId, dbo.AccountBillingRate.AccountId, dbo.AccountBillingRate.SystemBillingRateTypeId, 
                      dbo.AccountBillingRate.AccountProjectEmployeeId, dbo.AccountBillingRate.AccountProjectRoleId, dbo.AccountBillingRate.BillingRate, 
                      dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, dbo.AccountBillingRate.AccountEmployeeId, 
                      dbo.AccountBillingRate.AccountProjectTaskId, dbo.AccountBillingRate.AccountWorkTypeId, dbo.AccountBillingRate.EmployeeRate, 
                      dbo.AccountBillingRate.BillingRateCurrencyId, dbo.AccountBillingRate.EmployeeRateCurrencyId, 
                      dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, vueAccountCurrency_1.CurrencyCode AS EmployeeRateCurrencyCode
FROM         dbo.AccountBillingRate LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.AccountBillingRate.EmployeeRateCurrencyId = vueAccountCurrency_1.AccountCurrencyId AND 
                      dbo.AccountBillingRate.AccountId = vueAccountCurrency_1.AccountId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.AccountBillingRate.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId AND 
                      dbo.AccountBillingRate.AccountId = dbo.vueAccountCurrency.AccountId'

GO

-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode,AccountLocation.AccountLocationId
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'

GO

-- Create View vueAccountEmployeeTimeEntryApproval
Print 'Create View vueAccountEmployeeTimeEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntry.AccountEmployeeId AS TimeEntryAccountEmployeeId, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployee.EmployeeManagerId
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntry.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId'

GO

-- Create View vueAccountEmployeeTimeEntryApprovalPending
Print 'Create View vueAccountEmployeeTimeEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPending
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskName, dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Approved, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountApproverType.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, dbo.vueAccountEmployeeTimeEntryApproval.Description, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Submitted, dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId
FROM         dbo.vueAccountEmployeeTimeEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueTimesheetApprovalSequence
                            WHERE      (TimeSheetApprovalId IS NULL) AND 
                                                   (AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId))) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Approved = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.IsReject IS NULL OR
                      dbo.vueAccountEmployeeTimeEntryApproval.IsReject = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.Submitted = 1)'

GO

-- Create View vueAccountEmployeeTimeEntryApprovalPendingApprover
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingApprover'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingApprover' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover
AS
SELECT     AccountProjectId, LeaderEmployeeId, ProjectManagerEmployeeId, ApprovalTypeName, AccountApprovalPathId, AccountApprovalTypeId, 
                      SystemApproverTypeId, AccountExternalUserId, AccountEmployeeId, ApprovalPathSequence, AccountEmployeeTimeEntryId, TimeSheetApprovalId, 
                      TimeSheetApprovalPathId, ProjectName, ProjectDescription, ProjectCode, TaskName, AccountProjectTaskId, TaskDescription, EmployeeName, 
                      Approved, TimeSheetApprovalTypeId, TotalTime, TimeEntryDate, Comments, IsReject, IsApproved, MaxApprovalPathSequence, 
                      TimeEntryAccountEmployeeId, AccountId, EMailAddress, EmployeeManagerId, 
                      CASE WHEN systemapprovertypeid = 1 THEN LeaderEmployeeId WHEN systemapprovertypeid = 2 THEN ProjectManagerEmployeeId WHEN systemapprovertypeid
                       = 3 THEN AccountEmployeeId WHEN systemapprovertypeid = 4 THEN AccountExternalUserId WHEN systemapprovertypeid = 5 THEN EmployeeManagerId
                       END AS ApproverEmployeeId, Description
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPending'

GO

-- Create View vueAccountEmployeeTimeEntryApprovalPendingEMail
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingEMail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEMail' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectCode, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Comments, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.IsApproved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountId, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApproverEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Description, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EmployeeManagerId
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApproverEmployeeId = dbo.AccountEMailNotificationPreference.AccountEmployeeId LEFT
                       OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectId = AccountEMailNotificationPreference_2.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountId = AccountEMailNotificationPreference_1.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 11) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 12) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 13) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'

GO

-- Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EmployeeName, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TotalTime, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Comments, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsApproved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.EMailAddress AS ApproverEMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Description, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EmployeeManagerId
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail LEFT OUTER JOIN
                      dbo.AccountEmployee ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId = dbo.AccountPreferences.AccountId'

GO

-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId, dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployeeTimeEntry.AccountWorkTypeId, 
                      dbo.AccountEmployeeTimeEntry.AccountCostCenterId
FROM         dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'

GO

-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) 
                      AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountExpenseEntry.TimeSheetApprovalPathId, dbo.AccountEmployee.EMailAddress, dbo.AccountDepartment.DepartmentName, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountTaxZone.AccountTaxZone, dbo.AccountExpenseEntry.Quantity, dbo.AccountExpenseEntry.Rate, 
                      dbo.AccountPaymentMethod.PaymentMethod, dbo.AccountLocation.AccountLocationId
FROM         dbo.AccountCurrency RIGHT OUTER JOIN
                      dbo.AccountPaymentMethod RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId ON 
                      dbo.AccountPaymentMethod.AccountPaymentMethodId = dbo.AccountExpenseEntry.AccountPaymentMethodId LEFT OUTER JOIN
                      dbo.AccountTaxZone ON dbo.AccountExpenseEntry.AccountTaxZoneId = dbo.AccountTaxZone.AccountTaxZoneId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountExpenseEntry.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId LEFT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountLocation RIGHT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountLocation.AccountLocationId = dbo.AccountEmployee.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId ON 
                      dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'

GO

-- Create View vueAccountExpenseEntryApproval
Print 'Create View vueAccountExpenseEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, dbo.AccountExpenseEntryApproval.Comments, 
                      dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpense.IsBillable, 
                      dbo.AccountExpenseEntry.AccountEmployeeId AS ExpenseEntryAccountEmployeeId, dbo.AccountExpenseEntry.Description, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.SystemCurrency.CurrencyCode
FROM         dbo.AccountCurrency INNER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountExpenseEntry.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId'

GO

-- Create View vueAccountExpenseEntryApprovalPending
Print 'Create View vueAccountExpenseEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryApprovalPending
AS
SELECT     dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApproval.ProjectName, 
                      dbo.vueAccountExpenseEntryApproval.ProjectDescription, dbo.vueAccountExpenseEntryApproval.ProjectCode, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeName, dbo.vueAccountExpenseEntryApproval.Approved, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntryApproval.IsRejected, 
                      dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, 
                      dbo.vueAccountExpenseEntryApproval.EMailAddress, dbo.vueAccountExpenseEntryApproval.Submitted, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeManagerId, dbo.vueAccountExpenseEntryApproval.CurrencyCode
FROM         dbo.vueAccountExpenseEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueExpenseApprovalSequence AS vueExpenseApprovalSequence_1
                            WHERE      (ExpenseApprovalId IS NULL) AND (AccountExpenseEntryId = dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId)))'

GO

-- Create View vueAccountExpenseEntryApprovalPendingApprover
Print 'Create View vueAccountExpenseEntryApprovalPendingApprover'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingApprover' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingApprover
AS
SELECT     AccountProjectId, LeaderEmployeeId, ProjectManagerEmployeeId, ApprovalTypeName, AccountApprovalPathId, AccountApprovalTypeId, 
                      SystemApproverTypeId, AccountExternalUserId, AccountEmployeeId, ApprovalPathSequence, AccountExpenseEntryId, ExpenseApprovalId, 
                      ExpenseApprovalPathId, ProjectName, ProjectCode, ProjectDescription, EmployeeName, Approved, ExpenseApprovalTypeId, 
                      AccountExpenseEntryDate, Comments, IsRejected, IsApproved, Amount, AccountExpenseName, IsBillable, ExpenseEntryAccountEmployeeId, 
                      Description, AccountId, MaxApprovalPathSequence, 
                      CASE WHEN systemapprovertypeid = 1 THEN LeaderEmployeeId WHEN systemapprovertypeid = 2 THEN ProjectManagerEmployeeId WHEN systemapprovertypeid
                       = 3 THEN AccountEmployeeId WHEN systemapprovertypeid = 4 THEN AccountExternalUserId WHEN systemapprovertypeid = 5 THEN EmployeeManagerId
                       END AS ApproverEmployeeId, EMailAddress, EmployeeManagerId
FROM         dbo.vueAccountExpenseEntryApprovalPending'

GO

-- Create View vueAccountExpenseEntryApprovalPendingEmail
Print 'Create View vueAccountExpenseEntryApprovalPendingEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingEmail
AS
SELECT     dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountProjectId, dbo.vueAccountExpenseEntryApprovalPendingApprover.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountApprovalPathId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.SystemApproverTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseEntryId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectName, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectCode, dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.EmployeeName, dbo.vueAccountExpenseEntryApprovalPendingApprover.Approved, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.Comments, dbo.vueAccountExpenseEntryApprovalPendingApprover.IsRejected, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.IsApproved, dbo.vueAccountExpenseEntryApprovalPendingApprover.Amount, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseName, dbo.vueAccountExpenseEntryApprovalPendingApprover.IsBillable, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.Description, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.MaxApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApproverEmployeeId, dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.EMailAddress, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.EmployeeManagerId
FROM         dbo.vueAccountExpenseEntryApprovalPendingApprover LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountProjectId = AccountEMailNotificationPreference_2.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountId = AccountEMailNotificationPreference_1.AccountId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApproverEmployeeId = dbo.AccountEMailNotificationPreference.AccountEmployeeId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 26) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 27) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 28) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'

GO

-- Create View vueAccountExpenseEntryRejectedEmail
Print 'Create View vueAccountExpenseEntryRejectedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryRejectedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryRejectedEmail
AS
SELECT     dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntry.EmployeeName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, dbo.vueAccountExpenseEntry.QuantityFieldCaption, 
                      dbo.vueAccountExpenseEntry.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountExpenseEntry.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntry.TimeSheetApprovalPathId, 
                      dbo.vueAccountExpenseEntry.ExchangeRate
FROM         dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.vueAccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId ON 
                      AccountEMailNotificationPreference_1.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 25) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 23) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 24) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'

GO
-- Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountProjectId, dbo.vueAccountExpenseEntryApprovalPendingEmail.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApprovalTypeName, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountApprovalPathId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.SystemApproverTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExternalUserId, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectName, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectCode, dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.EmployeeName, dbo.vueAccountExpenseEntryApprovalPendingEmail.Approved, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseEntryDate, dbo.vueAccountExpenseEntryApprovalPendingEmail.Comments, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.IsRejected, dbo.vueAccountExpenseEntryApprovalPendingEmail.IsApproved, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.Amount, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseName, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.IsBillable, dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.Description, dbo.vueAccountExpenseEntryApprovalPendingEmail.MaxApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApproverEmployeeId, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountId, 
                      dbo.AccountEmployee.EMailAddress AS ApproverEmailAddress, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.vueAccountExpenseEntryApprovalPendingEmail.EMailAddress, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.EmployeeManagerId
FROM         dbo.vueAccountExpenseEntryApprovalPendingEmail LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountExpenseEntryApprovalPendingEmail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId'

GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountApprovalPath]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountApprovalPath]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterAccountApprovalPath] WHERE [MasterAccountApprovalPathId] = 5 AND [MasterAccountApprovalTypeId] = 4 AND [SystemApproverTypeId] = 5 AND [ApprovalPathSequence] = 1)
BEGIN
INSERT INTO [dbo].[MasterAccountApprovalPath] ([MasterAccountApprovalPathId], [MasterAccountApprovalTypeId], [SystemApproverTypeId], [ApprovalPathSequence]) VALUES (5, 4, 5, 1)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountApprovalType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountApprovalType]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterAccountApprovalType] WHERE [MasterAccountApprovalTypeId] = 4 AND [ApprovalTypeName] = N'Employee Manager')
BEGIN
INSERT INTO [dbo].[MasterAccountApprovalType] ([MasterAccountApprovalTypeId], [ApprovalTypeName]) VALUES (4, N'Employee Manager')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterCostCenter]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterCostCenter]'
IF NOT EXISTS (SELECT * FROM [dbo].[MasterCostCenter] WHERE [MasterCostCenterId] = 1 AND [MasterCostCenterCode] = N'Default' AND [MasterCostCenter] = N'Default Cost Center')
BEGIN
INSERT INTO [dbo].[MasterCostCenter] ([MasterCostCenterId], [MasterCostCenterCode], [MasterCostCenter]) VALUES (1, N'Default', N'Default Cost Center')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemApproverType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemApproverType]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemApproverType] WHERE [SystemApproverTypeId] = 5 AND [SystemApproverType] = N'Employee Manager')
BEGIN
INSERT INTO [dbo].[SystemApproverType] ([SystemApproverTypeId], [SystemApproverType]) VALUES (5, N'Employee Manager')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategory]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategory]'

SET IDENTITY_INSERT [dbo].[SystemSecurityCategory] ON
UPDATE [dbo].[SystemSecurityCategory] SET [SystemSecurityCategory]=N'Project Manager Reports' WHERE [SystemSecurityCategoryId]='5'
SET IDENTITY_INSERT [dbo].[SystemSecurityCategory] OFF

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] = 121 AND [SystemSecurityCategoryId] = 1 AND [SequenceNumber] = N'21300218' AND [Folder] = N'AccountAdmin' AND [SystemCategoryPage] = N'AccountDisable.aspx' AND [SystemCategoryPageDescription] = N'Account Disable' AND [ParentSystemSecurityCateogoryPageId] = 15 AND [IsSiteMapPage] = 1 AND [IsCustomizeable] = 1 AND [IsAllowAdd] is NULL AND [IsAllowEdit] is NULL AND [IsAllowDelete] is NULL AND [IsAllowList] = 1 AND [IsShowDataOptions] is NULL AND [IsShowTillOptions] Is Null AND [IsSystemPage] is NULL AND [ControlLevelPermission] is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (121, 1, N'21300218', N'AccountAdmin', N'AccountDisable.aspx', N'Account Disable', 15, 1, 1, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (122, 1, N'21300219', N'AccountAdmin', N'AccountCostCenter.aspx', N'Cost Center', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
END

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO
-- Convert StartDate And EndDate Of BillingRate To Only Date
Update AccountBillingRate Set StartDate = convert(datetime,CONVERT(VARCHAR(10), StartDate, 120),120)
GO
Update AccountBillingRate Set EndDate = convert(datetime,CONVERT(VARCHAR(10), EndDate, 120),120)

GO

-- Deleting And Updating Wrong AccountBillingRate Records
Delete From AccountWorkTypeBillingRate Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
GO
Update AccountProjectEmployee Set AccountBillingRateId = NULL Where AccountBillingRateId = 0
GO
Update AccountProjectRole Set AccountBillingRateId = NULL Where AccountBillingRateId = 0
GO
IF EXISTS (SELECT * FROM [dbo].[AccountProjectTask] Where AccountBillingRateId = 0)
BEGIN
Update AccountProjectTask Set AccountBillingRateId = NULL Where AccountBillingRateId = 0
END
GO
Update AccountEmployee Set AccountBillingRateId = NULL Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
GO
Update AccountProjectEmployee Set AccountBillingRateId = NULL Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
GO
Update AccountProjectRole Set AccountBillingRateId = NULL Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
GO
IF EXISTS (SELECT * FROM [dbo].[AccountProjectTask] Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate))
BEGIN
Update AccountProjectTask Set AccountBillingRateId = NULL Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
END
GO

-- Create Foreign Key FK_AccountProjectRole_AccountBillingRate on AccountProjectRole
Print 'Create Foreign Key FK_AccountProjectRole_AccountBillingRate on AccountProjectRole'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectRole_AccountBillingRate' AND TABLE_NAME='AccountProjectRole')
BEGIN
		ALTER TABLE [dbo].[AccountProjectRole]
			ADD CONSTRAINT [FK_AccountProjectRole_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
END

GO

-- Create Foreign Key FK_AccountEmployee_AccountBillingRate on AccountEmployee
Print 'Create Foreign Key FK_AccountEmployee_AccountBillingRate on AccountEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployee_AccountBillingRate' AND TABLE_NAME='AccountEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountEmployee]
			ADD CONSTRAINT [FK_AccountEmployee_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
END

GO

-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
END

GO

-- Create Foreign Key FK_AccountProjectEmployee_AccountBillingRate on AccountProjectEmployee
Print 'Create Foreign Key FK_AccountProjectEmployee_AccountBillingRate on AccountProjectEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectEmployee_AccountBillingRate' AND TABLE_NAME='AccountProjectEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountProjectEmployee]
			ADD CONSTRAINT [FK_AccountProjectEmployee_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
END

GO

-- Create Foreign Key FK_AccountProjectTask_AccountBillingRate on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountBillingRate on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountBillingRate' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			ADD CONSTRAINT [FK_AccountProjectTask_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
END
GO

--End 2.93.1

--Start 2.94.1

-- Create Foreign Key FK_AccountBillingRate_AccountCurrency on AccountBillingRate
Print 'Create Foreign Key FK_AccountBillingRate_AccountCurrency on AccountBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountCurrency' AND TABLE_NAME='AccountBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountBillingRate]
			ADD CONSTRAINT [FK_AccountBillingRate_AccountCurrency]
			FOREIGN KEY ([BillingRateCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END

GO

-- Create Foreign Key FK_AccountBillingRate_AccountCurrency1 on AccountBillingRate
Print 'Create Foreign Key FK_AccountBillingRate_AccountCurrency1 on AccountBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountCurrency1' AND TABLE_NAME='AccountBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountBillingRate]
			ADD CONSTRAINT [FK_AccountBillingRate_AccountCurrency1]
			FOREIGN KEY ([EmployeeRateCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END

GO

-- Add Column UserInterfaceLanguage to AccountPreferences
Print 'Add Column UserInterfaceLanguage to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='UserInterfaceLanguage' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [UserInterfaceLanguage] nvarchar(40) NULL
GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Drop View vueAccountProjectEmployeFullJoin
Print 'Drop View vueAccountProjectEmployeFullJoin'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployeFullJoin' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectEmployeFullJoin]
GO
-- Drop View vueAccountProjectRoleBillingRate
Print 'Drop View vueAccountProjectRoleBillingRate'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectRoleBillingRate' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectRoleBillingRate]
GO
-- Drop View vueAccountProjectTaskEmployee
Print 'Drop View vueAccountProjectTaskEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskEmployee]
GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueAccountProjectTaskEmployee
Print 'Create View vueAccountProjectTaskEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskEmployee
AS
SELECT     dbo.AccountProjectTaskEmployee.AccountProjectTaskEmployeeId, dbo.AccountProjectTask.AccountProjectId, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskName, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountId, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.Completed, dbo.AccountEmployee.EMailAddress, dbo.AccountProject.ProjectName
FROM         dbo.AccountProject RIGHT OUTER JOIN
                      dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountProjectTaskEmployee INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountProjectTaskEmployee.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectTaskEmployee.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectTask.AccountProjectId'
GO
-- Create View vueAccountProjectRoleBillingRate
Print 'Create View vueAccountProjectRoleBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectRoleBillingRate' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectRoleBillingRate
AS
SELECT     dbo.AccountProjectRole.AccountProjectRoleId, dbo.AccountProjectRole.AccountProjectId, dbo.AccountProjectRole.AccountRoleId, 
                      dbo.AccountProjectRole.NumberOfResources, dbo.AccountProjectRole.BillingRate, dbo.AccountProjectRole.BillingTypeId, 
                      dbo.AccountProjectRole.AccountBillingRateId, dbo.AccountProjectEmployee.AccountProjectEmployeeId, 
                      dbo.AccountProjectEmployee.AccountEmployeeId, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS FullName, dbo.AccountRole.Role, dbo.AccountProject.ProjectName, 
                      dbo.AccountBillingType.BillingType, dbo.AccountProjectEmployee.AccountId
FROM         dbo.AccountProjectEmployee INNER JOIN
                      dbo.AccountProjectRole ON dbo.AccountProjectEmployee.AccountProjectId = dbo.AccountProjectRole.AccountProjectId AND 
                      dbo.AccountProjectEmployee.AccountRoleId = dbo.AccountProjectRole.AccountRoleId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountProjectEmployee.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountBillingType ON dbo.AccountProjectRole.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountProjectRole.AccountRoleId = dbo.AccountRole.AccountRoleId INNER JOIN
                      dbo.AccountProject ON dbo.AccountProjectRole.AccountProjectId = dbo.AccountProject.AccountProjectId'
GO
-- Create View vueAccountProjectEmployeFullJoin
Print 'Create View vueAccountProjectEmployeFullJoin'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployeFullJoin' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectEmployeFullJoin
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountEmployee.Password, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectEmployee.AccountProjectEmployeeId, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS FullName, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountEmployee.EMailAddress
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountProject.AccountId = dbo.AccountEmployee.AccountId INNER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountProject.AccountProjectId = dbo.AccountProjectEmployee.AccountProjectId AND 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectEmployee.AccountEmployeeId'

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [IsShowDataOptions]=1 WHERE [SystemSecurityCategoryPageId]=21
UPDATE [dbo].[SystemSecurityCategoryPage] SET [IsShowDataOptions]=1 WHERE [SystemSecurityCategoryPageId]=28

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]'

ALTER TABLE [dbo].[SystemSecurityCategoryMasterAccountRole] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryMasterAccountRole_MasterAccountRole]
ALTER TABLE [dbo].[SystemSecurityCategoryMasterAccountRole] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryMasterAccountRole_SystemSecurityCategoryMasterAccountRole]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryMasterAccountRole] WHERE [SystemSecurityCategoryMasterAccountRoleId] = 23 AND [SystemSecurityCategoryId] = 7 AND [MasterRoleId] = 103 AND [ShowAllData] Is NULL AND [ShowMyData] = 1 AND [ShowMyProjectsData] Is NULL AND [ShowMyTeamsData] Is NULL AND [ShowClientData] Is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryMasterAccountRole] ([SystemSecurityCategoryMasterAccountRoleId], [SystemSecurityCategoryId], [MasterRoleId], [ShowAllData], [ShowMyData], [ShowMyProjectsData], [ShowMyTeamsData], [ShowClientData]) VALUES (23, 7, 103, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryMasterAccountRole] ([SystemSecurityCategoryMasterAccountRoleId], [SystemSecurityCategoryId], [MasterRoleId], [ShowAllData], [ShowMyData], [ShowMyProjectsData], [ShowMyTeamsData], [ShowClientData]) VALUES (24, 8, 104, NULL, 1, NULL, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]'

UPDATE [dbo].[SystemSecurityCategoryMasterAccountRole] SET [ShowAllData]=1, [ShowMyData]=NULL WHERE [SystemSecurityCategoryMasterAccountRoleId]=2

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryMasterAccountRole]'

ALTER TABLE [dbo].[SystemSecurityCategoryMasterAccountRole] CHECK CONSTRAINT [FK_SystemSecurityCategoryMasterAccountRole_MasterAccountRole]
ALTER TABLE [dbo].[SystemSecurityCategoryMasterAccountRole] CHECK CONSTRAINT [FK_SystemSecurityCategoryMasterAccountRole_SystemSecurityCategoryMasterAccountRole]

GO

Print 'Deleted record from AccountProjectTask were project not exists'
If Exists(Select * from AccountProjectTask Where AccountProjectId not in (Select AccountProjectId From AccountProject))
Begin
Delete AccountProjectTask where AccountProjectId not In (Select AccountProjectId from AccountProject)
End

GO

Print 'Update AccountId From AccontProjectMilestone'
update AccountProjectMilestone Set AccountId = 
(Select AccountId from AccountProject where AccountProjectId = AccountProjectMilestone.AccountProjectId)
where Accountid is null

GO

Print 'Insert Record AccountProjectMilestone'
If Exists(select  AccountProjectId from accountproject where accountprojectid not in (select accountprojectid from accountprojectmilestone where accountprojectid = accountproject.accountprojectid))
Insert into AccountProjectMilestone (AccountId, AccountProjectId, MilestoneDescription, MilestoneDate) 
select AccountId, AccountProjectId,'Default Milestone', getdate() from accountproject where accountprojectid not in
(select accountprojectid from accountprojectmilestone where accountprojectid = accountproject.accountprojectid)

GO

Print 'Update AccountTaskTypeId From AccountProjectTask'
If Exists(Select * from AccountProjectTask where AccountTaskTypeId not in (Select AccountTaskTypeId from AccountTaskType))
Begin
Update AccountProjectTask Set AccountTaskTypeId = 
(select max(AccountTaskTypeId) from AccountTaskType 
where AccountId in 
(select AccountId from AccountProject where AccountProjectId  = AccountProjectTask.AccountProjectId)) 
where AccountProjectTaskId in (
select AccountProjectTaskId from accountprojecttask,accountproject where 
AccountProjectTask.AccountProjectId = AccountProject.AccountProjectId and 
AccountTaskTypeId not in (select AccountTaskTypeId from AccountTaskType 
where AccountTaskType.AccountId = accountproject.AccountId)
and AccountId = AccountProject.AccountId)
End

GO

Print 'Update AccountProjectMilestoneId From AccountProjectTask'
If Exists(Select * from AccountProjectTask where AccountProjectMilestoneId not in (Select AccountProjectMilestoneId from AccountProjectMilestone where AccountProjectId = AccountProjectTask.AccountProjectId))
Begin
Update AccountProjectTask Set AccountProjectMilestoneId = 
(select max(AccountProjectMilestoneId) from AccountProjectMilestone 
where AccountProjectId in 
(select AccountProjectId from AccountProject where AccountProjectId  = AccountProjectTask.AccountProjectId)) 
where AccountProjectTaskId in (
select AccountProjectTask.AccountProjectTaskId
from accountprojecttask,accountproject where 
AccountProjectTask.AccountProjectId = AccountProject.AccountProjectId and 
AccountProjectTask.AccountProjectMilestoneId not in (select AccountProjectMilestoneId from AccountProjectMilestone 
where AccountProjectMilestone.AccountProjectId = accountproject.AccountProjectId)
)
End

GO

Print 'Update TaskStatusId From AccountProjectTask'
If Exists(Select * from AccountProjectTask where TaskStatusId not in (Select AccountStatusId from AccountStatus where StatusTypeId = 4))
Begin
Update AccountProjectTask Set TaskStatusId = 
(select max(AccountStatusId) from AccountStatus
where StatusTypeId = 4 AND AccountId in 
(select AccountId from AccountProject where AccountProjectId  = AccountProjectTask.AccountProjectId)) 
where AccountProjectTaskId in (
select AccountProjectTaskId from accountprojecttask,accountproject where 
AccountProjectTask.AccountProjectId = AccountProject.AccountProjectId and 
TaskStatusId not in (select AccountStatusId from AccountStatus
where StatusTypeId = 4 AND AccountStatus.AccountId = accountproject.AccountId)
and AccountId = AccountProject.AccountId)
End

GO

Print 'Update AccountPriorityId From AccountProjectTask'
If Exists(Select * From AccountProjectTask Where AccountPriorityId not in (Select AccountPriorityId from AccountPriority))
Begin
Update AccountProjectTask Set AccountPriorityId = 
(select max(AccountPriorityId) from AccountPriority 
where AccountId in 
(select AccountId from AccountProject where AccountProjectId  = AccountProjectTask.AccountProjectId)) 
where AccountProjectTaskId in (
select AccountProjectTaskId from accountprojecttask,accountproject where 
AccountProjectTask.AccountProjectId = AccountProject.AccountProjectId and
AccountProjectTask.AccountPriorityId not in (Select AccountPriorityId from AccountPriority 
where AccountPriority.AccountId = accountproject.AccountId)
and AccountId = AccountProject.AccountId)
End

GO

-- Create Foreign Key FK_AccountProjectTask_AccountPriority on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountPriority on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountPriority' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			WITH NOCHECK
			ADD CONSTRAINT [FK_AccountProjectTask_AccountPriority]
			FOREIGN KEY ([AccountPriorityId]) REFERENCES [dbo].[AccountPriority] ([AccountPriorityId])
		ALTER TABLE [dbo].[AccountProjectTask]
			CHECK CONSTRAINT [FK_AccountProjectTask_AccountPriority]

END
GO

-- Create Foreign Key FK_AccountProjectTask_AccountProjectMilestone on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountProjectMilestone on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountProjectMilestone' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			WITH NOCHECK
			ADD CONSTRAINT [FK_AccountProjectTask_AccountProjectMilestone]
			FOREIGN KEY ([AccountProjectMilestoneId]) REFERENCES [dbo].[AccountProjectMilestone] ([AccountProjectMilestoneId])
		ALTER TABLE [dbo].[AccountProjectTask]
			CHECK CONSTRAINT [FK_AccountProjectTask_AccountProjectMilestone]

END
GO

-- Create Foreign Key FK_AccountProjectTask_AccountStatus on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountStatus on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountStatus' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			WITH NOCHECK
			ADD CONSTRAINT [FK_AccountProjectTask_AccountStatus]
			FOREIGN KEY ([TaskStatusId]) REFERENCES [dbo].[AccountStatus] ([AccountStatusId])
		ALTER TABLE [dbo].[AccountProjectTask]
			CHECK CONSTRAINT [FK_AccountProjectTask_AccountStatus]

END
GO

-- Create Foreign Key FK_AccountProjectTask_AccountTaskType on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountTaskType on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountTaskType' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			WITH NOCHECK
			ADD CONSTRAINT [FK_AccountProjectTask_AccountTaskType]
			FOREIGN KEY ([AccountTaskTypeId]) REFERENCES [dbo].[AccountTaskType] ([AccountTaskTypeId])
		ALTER TABLE [dbo].[AccountProjectTask]
			CHECK CONSTRAINT [FK_AccountProjectTask_AccountTaskType]

END
GO
-- Create Foreign Key FK_AccountProjectTask_AccountProject on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountProject on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountProject' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			WITH NOCHECK
			ADD CONSTRAINT [FK_AccountProjectTask_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
		ALTER TABLE [dbo].[AccountProjectTask]
			CHECK CONSTRAINT [FK_AccountProjectTask_AccountProject]

END

GO
-- Drop Foreign Key FK_AccountProjectMilestone_Account1 from AccountProjectMilestone
Print 'Drop Foreign Key FK_AccountProjectMilestone_Account1 from AccountProjectMilestone'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectMilestone_Account1' AND TABLE_NAME='AccountProjectMilestone')
BEGIN
	ALTER TABLE [dbo].[AccountProjectMilestone] DROP CONSTRAINT [FK_AccountProjectMilestone_Account1]
END
GO
-- Drop Index IX_AccountId from AccountProjectMilestone
Print 'Drop Index IX_AccountId from AccountProjectMilestone'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProjectMilestone]') AND name = N'IX_AccountId'))
DROP INDEX [dbo].[AccountProjectMilestone].[IX_AccountId]
GO
-- Alter Column AccountId on AccountProjectMilestone
Print 'Alter Column AccountId on AccountProjectMilestone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountId' AND TABLE_NAME='AccountProjectMilestone'))
ALTER TABLE [dbo].[AccountProjectMilestone]
	 ALTER COLUMN [AccountId] int NOT NULL
GO
-- Create Index IX_AccountId on AccountProjectMilestone
Print 'Create Index IX_AccountId on AccountProjectMilestone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectMilestone]') AND name = N'IX_AccountId'))
CREATE INDEX [IX_AccountId]
	ON [dbo].[AccountProjectMilestone] ([AccountId])
GO
-- Create Foreign Key FK_AccountProjectMilestone_Account1 on AccountProjectMilestone
Print 'Create Foreign Key FK_AccountProjectMilestone_Account1 on AccountProjectMilestone'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectMilestone_Account1' AND TABLE_NAME='AccountProjectMilestone')
BEGIN
		ALTER TABLE [dbo].[AccountProjectMilestone]
			ADD CONSTRAINT [FK_AccountProjectMilestone_Account1]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
			ON DELETE CASCADE
		ALTER TABLE [dbo].[AccountProjectMilestone]
			CHECK CONSTRAINT [FK_AccountProjectMilestone_Account1]
END
GO
-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPending
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPending]
GO
-- Drop View vueAccountEmployeeTimeEntryApproval
Print 'Drop View vueAccountEmployeeTimeEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApproval]
GO
-- Create View vueAccountEmployeeTimeEntryApproval
Print 'Create View vueAccountEmployeeTimeEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntry.AccountEmployeeId AS TimeEntryAccountEmployeeId, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployee.EmployeeManagerId, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, dbo.AccountProjectTask.IsBillable, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 1 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS BillableTotalMinutes, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 0 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) WHEN dbo.AccountProjectTask.IsBillable IS NULL THEN DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      ELSE 0 END AS NonBillableTotalMinutes
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntry.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId'
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPending
Print 'Create View vueAccountEmployeeTimeEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPending
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskName, dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Approved, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountApproverType.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, dbo.vueAccountEmployeeTimeEntryApproval.Description, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Submitted, dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryApproval.BillableTotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.NonBillableTotalMinutes
FROM         dbo.vueAccountEmployeeTimeEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueTimesheetApprovalSequence
                            WHERE      (TimeSheetApprovalId IS NULL) AND 
                                                   (AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId))) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Approved = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.IsReject IS NULL OR
                      dbo.vueAccountEmployeeTimeEntryApproval.IsReject = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.Submitted = 1)'
GO
-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId, dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployeeTimeEntry.AccountWorkTypeId, 
                      dbo.AccountEmployeeTimeEntry.AccountCostCenterId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedByEmployeeId
FROM         dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'
GO
-- Alter Column SystemStatusType on SystemStatusType
Print 'Alter Column SystemStatusType on SystemStatusType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemStatusType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemStatusType' AND TABLE_NAME='SystemStatusType'))
ALTER TABLE [dbo].[SystemStatusType]
	 ALTER COLUMN [SystemStatusType] nvarchar(90) NOT NULL
GO
-- Alter Column Status on AccountStatus
Print 'Alter Column Status on AccountStatus'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Status' AND TABLE_NAME='AccountStatus'))
ALTER TABLE [dbo].[AccountStatus]
	 ALTER COLUMN [Status] nvarchar(90) NOT NULL
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountProjectType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountProjectType]'

UPDATE [dbo].[MasterAccountProjectType] SET [ProjectType]=N'Technology' WHERE [MasterAccountProjectTypeId]=1

GO
-- Drop View vueAccountProjects
Print 'Drop View vueAccountProjects'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjects' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjects]
GO
-- Create View vueAccountProjects
Print 'Create View vueAccountProjects'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjects' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjects
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.StartDate, dbo.AccountProject.ProjectCode, 
                      dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS LeaderName, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS ProjectManagerName, dbo.AccountProject.AccountId, 
                      dbo.AccountProject.IsActive, dbo.AccountProject.Deadline, dbo.AccountProject.EstimatedDuration, dbo.AccountProject.EstimatedDurationUnit, 
                      dbo.AccountProject.ProjectStatusId, dbo.AccountStatus.Status, dbo.AccountProject.IsDisabled, dbo.AccountProject.ProjectDescription, 
                      dbo.AccountProject.IsTemplate, dbo.AccountProject.IsProject, dbo.AccountProject.AccountProjectTemplateId, 
                      dbo.SystemProjectBillingRateType.SystemProjectBillingRateType
FROM         dbo.AccountEmployee AS AccountEmployee_1 RIGHT OUTER JOIN
                      dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId LEFT OUTER JOIN
                      dbo.SystemProjectBillingRateType ON 
                      dbo.AccountProject.ProjectBillingRateTypeId = dbo.SystemProjectBillingRateType.SystemProjectBillingRateTypeId LEFT OUTER JOIN
                      dbo.AccountStatus ON dbo.AccountProject.ProjectStatusId = dbo.AccountStatus.AccountStatusId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProject.ProjectManagerEmployeeId ON 
                      AccountEmployee_1.AccountEmployeeId = dbo.AccountProject.LeaderEmployeeId'

GO
--END 2.94.1
--START 2.94.2
-- Create Table AccountTerminology
Print 'Create Table AccountTerminology'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountTerminology' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountTerminology] (
		[AccountTerminologyId]     int NOT NULL IDENTITY(1, 1),
		[SystemTerminologyId]      int NOT NULL,
		[UserDefinedName]          nvarchar(100) NOT NULL,
		[AccountId]                int NOT NULL,
		[CreatedByEmployeeId]      int NULL,
		[ModifiedByEmployeeId]     int NULL,
		[CreatedOn]                datetime NULL,
		[ModifiedOn]               datetime NULL
)
GO
-- Add Primary Key PK_AccountTerminology to AccountTerminology
Print 'Add Primary Key PK_AccountTerminology to AccountTerminology'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTerminology' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountTerminology' AND TABLE_NAME='AccountTerminology'))
ALTER TABLE [dbo].[AccountTerminology]
	ADD
	CONSTRAINT [PK_AccountTerminology]
	PRIMARY KEY
	([AccountTerminologyId])
GO
-- Create Table SystemTerminology
Print 'Create Table SystemTerminology'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemTerminology' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemTerminology] (
		[SystemTerminologyId]     int NOT NULL,
		[ModuleName]              nvarchar(100) NOT NULL,
		[TerminologyName]         nvarchar(100) NOT NULL
)
GO
-- Add Primary Key PK_SystemTerminology to SystemTerminology
Print 'Add Primary Key PK_SystemTerminology to SystemTerminology'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemTerminology' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemTerminology' AND TABLE_NAME='SystemTerminology'))
ALTER TABLE [dbo].[SystemTerminology]
	ADD
	CONSTRAINT [PK_SystemTerminology]
	PRIMARY KEY
	([SystemTerminologyId])
GO
-- Create View vueAccountTerminology
Print 'Create View vueAccountTerminology'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTerminology' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTerminology
AS
SELECT     dbo.SystemTerminology.SystemTerminologyId, dbo.SystemTerminology.ModuleName, dbo.SystemTerminology.TerminologyName, 
                      dbo.AccountTerminology.AccountTerminologyId, dbo.AccountTerminology.UserDefinedName, dbo.AccountTerminology.AccountId, 
                      dbo.AccountTerminology.CreatedByEmployeeId, dbo.AccountTerminology.ModifiedByEmployeeId, dbo.AccountTerminology.CreatedOn, 
                      dbo.AccountTerminology.ModifiedOn
FROM         dbo.SystemTerminology LEFT OUTER JOIN
                      dbo.AccountTerminology ON dbo.SystemTerminology.SystemTerminologyId = dbo.AccountTerminology.SystemTerminologyId'
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] = 123 AND [SystemSecurityCategoryId] = 1 AND [SequenceNumber] = N'21300220' AND [Folder] = N'AccountAdmin' AND [SystemCategoryPage] = N'AccountTerminology.aspx' AND [SystemCategoryPageDescription] = N'Manage Terminology' AND [ParentSystemSecurityCateogoryPageId] = 15 AND [IsSiteMapPage] = 1 AND [IsCustomizeable] = 1 AND [IsAllowAdd] is NULL AND [IsAllowEdit] = 1 AND [IsAllowDelete] is NULL AND [IsAllowList] = 1 AND [IsShowDataOptions] is NULL AND [IsShowTillOptions] Is Null AND [IsSystemPage] is NULL AND [ControlLevelPermission] is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission]) VALUES (123, 1, N'21300220', N'AccountAdmin', N'AccountTerminology.aspx', N'Manage Terminology', 15, 1, 1, NULL, 1, NULL, 1, NULL, NULL, NULL, NULL)
END
GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemTerminology]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemTerminology]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemTerminology] WHERE [SystemTerminologyId] = 1)
BEGIN
INSERT INTO [dbo].[SystemTerminology] ([SystemTerminologyId], [ModuleName], [TerminologyName]) VALUES (1, N'CostCenter', N'Cost Center')
INSERT INTO [dbo].[SystemTerminology] ([SystemTerminologyId], [ModuleName], [TerminologyName]) VALUES (2, N'Location', N'Location')
END

GO

-- Alter Column TimeZoneId on AccountEmployee
Print 'Alter Column TimeZoneId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TimeZoneId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [TimeZoneId] tinyint NULL
GO
-- Alter Column AccountLocationId on AccountEmployee
Print 'Alter Column AccountLocationId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountLocationId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [AccountLocationId] int NULL
GO
-- Alter Column AccountDepartmentId on AccountEmployee
Print 'Alter Column AccountDepartmentId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountDepartmentId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [AccountDepartmentId] int NULL
GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [SystemCategoryPageDescription]=N'Application Preferences', [ParentSystemSecurityCateogoryPageId]=15 WHERE [SystemSecurityCategoryPageId]=91
UPDATE [dbo].[SystemSecurityCategoryPage] SET [ParentSystemSecurityCateogoryPageId]=4 WHERE [SystemSecurityCategoryPageId]=95
UPDATE [dbo].[SystemSecurityCategoryPage] SET [ParentSystemSecurityCateogoryPageId]=4 WHERE [SystemSecurityCategoryPageId]=100
UPDATE [dbo].[SystemSecurityCategoryPage] SET [ParentSystemSecurityCateogoryPageId]=15, [IsSiteMapPage]=0 WHERE [SystemSecurityCategoryPageId]=112
UPDATE [dbo].[SystemSecurityCategoryPage] SET [IsSiteMapPage]=0 WHERE [SystemSecurityCategoryPageId]=109

GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemTerminology]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemTerminology]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemTerminology] WHERE [SystemTerminologyId] = 3)
BEGIN
INSERT INTO [dbo].[SystemTerminology] ([SystemTerminologyId], [ModuleName], [TerminologyName]) VALUES (3, N'Locations', N'Location')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemTerminology]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemTerminology]'

UPDATE [dbo].[SystemTerminology] SET [ModuleName]=N'Cost Center' WHERE [SystemTerminologyId]=1
UPDATE [dbo].[SystemTerminology] SET [ModuleName]=N'Locations', [TerminologyName]=N'Locations' WHERE [SystemTerminologyId]=2

GO

-- Drop Index IX_UserDefinedName from AccountTerminology
Print 'Drop Index IX_UserDefinedName from AccountTerminology'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTerminology' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTerminology]') AND name = N'IX_UserDefinedName'))
DROP INDEX [dbo].[AccountTerminology].[IX_UserDefinedName]

GO

-- Update AccountApprovalPath

Update AccountApprovalPath Set AccountExternalUserId = NULL Where AccountExternalUserId = 0
GO
Update AccountApprovalPath Set AccountEmployeeId = NULL Where AccountEmployeeId = 0
GO
Delete From AccountApprovalPath Where AccountExternalUserId Not In (Select AccountEmployeeId From AccountEmployee)
GO
Delete From AccountApprovalPath Where AccountEmployeeId Not In (Select AccountEmployeeId From AccountEmployee)

GO

-- Create Foreign Key FK_AccountApprovalPath_AccountEmployee on AccountApprovalPath
Print 'Create Foreign Key FK_AccountApprovalPath_AccountEmployee on AccountApprovalPath'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountApprovalPath_AccountEmployee' AND TABLE_NAME='AccountApprovalPath')
BEGIN
		ALTER TABLE [dbo].[AccountApprovalPath]
			ADD CONSTRAINT [FK_AccountApprovalPath_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END

GO

-- Create Foreign Key FK_AccountApprovalPath_AccountEmployee1 on AccountApprovalPath
Print 'Create Foreign Key FK_AccountApprovalPath_AccountEmployee1 on AccountApprovalPath'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountApprovalPath_AccountEmployee1' AND TABLE_NAME='AccountApprovalPath')
BEGIN
		ALTER TABLE [dbo].[AccountApprovalPath]
			ADD CONSTRAINT [FK_AccountApprovalPath_AccountEmployee1]
			FOREIGN KEY ([AccountExternalUserId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
--END 2.94.2
--START 2.95.1

GO
-- Add Column EstimatedCurrencyId to AccountProjectTask
Print 'Add Column EstimatedCurrencyId to AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EstimatedCurrencyId' AND TABLE_NAME='AccountProjectTask'))
ALTER TABLE [dbo].[AccountProjectTask]
	ADD [EstimatedCurrencyId] int NULL

GO
-- Create Table AccountReport
Print 'Create Table AccountReport'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountReport' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountReport] (
		[AccountReportId]             uniqueidentifier NOT NULL,
		[AccountReportCategoryId]     uniqueidentifier NOT NULL,
		[ReportName]                  nvarchar(200) NOT NULL,
		[ReportDescription]           nvarchar(4000) NOT NULL,
		[ReportIconPath]              varchar(100) NULL,
		[AccountId]                   int NULL,
		[SystemReportTypeId]          uniqueidentifier NULL,
		[SystemReportId]              uniqueidentifier NULL,
		[IsConsolidated]              bit NULL,
		[ReportPageName]              nvarchar(200) NULL
)
GO
-- Add Primary Key PK_AccountReport to AccountReport
Print 'Add Primary Key PK_AccountReport to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReport' AND TABLE_NAME='AccountReport'))
ALTER TABLE [dbo].[AccountReport]
	ADD
	CONSTRAINT [PK_AccountReport]
	PRIMARY KEY
	([AccountReportId])
GO
-- Add Default Constraint DF_AccountReport_AccountReportCategoryId to AccountReport
Print 'Add Default Constraint DF_AccountReport_AccountReportCategoryId to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReport_AccountReportCategoryId'))
ALTER TABLE [dbo].[AccountReport]
	ADD
	CONSTRAINT [DF_AccountReport_AccountReportCategoryId]
	DEFAULT (newid()) FOR [AccountReportCategoryId]
GO
-- Add Default Constraint DF_AccountReport_AccountReportId to AccountReport
Print 'Add Default Constraint DF_AccountReport_AccountReportId to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReport_AccountReportId'))
ALTER TABLE [dbo].[AccountReport]
	ADD
	CONSTRAINT [DF_AccountReport_AccountReportId]
	DEFAULT (newid()) FOR [AccountReportId]
GO
-- Create Table AccountObjectPermission
Print 'Create Table AccountObjectPermission'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountObjectPermission' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountObjectPermission] (
		[AccountObjectPermissionId]     uniqueidentifier NOT NULL,
		[AccountReportId]               uniqueidentifier NOT NULL,
		[AccountRoleId]                 int NOT NULL,
		[AccountId]                     int NOT NULL,
		[ShowReport]                    bit NOT NULL,
		[AllowCustomization]            bit NOT NULL,
		[AllowAllUser]                  bit NOT NULL,
		[AllowOwnReport]                bit NOT NULL,
		[AllowOwnTeam]                  bit NOT NULL,
		[AllowOwnProject]               bit NOT NULL,
		[AllowOwnSubOrdinates]          bit NOT NULL
)
GO
-- Add Primary Key PK_AccountReportPermission to AccountObjectPermission
Print 'Add Primary Key PK_AccountReportPermission to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportPermission' AND TABLE_NAME='AccountObjectPermission'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [PK_AccountReportPermission]
	PRIMARY KEY
	([AccountObjectPermissionId])
GO
-- Add Default Constraint DF_AccountReportPermission_AccountReportPermissionId to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_AccountReportPermissionId to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_AccountReportPermissionId'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_AccountReportPermissionId]
	DEFAULT (newid()) FOR [AccountObjectPermissionId]
GO
-- Add Default Constraint DF_AccountReportPermission_AllowAllUser to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_AllowAllUser to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_AllowAllUser'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_AllowAllUser]
	DEFAULT ((0)) FOR [AllowAllUser]
GO
-- Add Default Constraint DF_AccountReportPermission_AllowCustomization to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_AllowCustomization to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_AllowCustomization'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_AllowCustomization]
	DEFAULT ((0)) FOR [AllowCustomization]
GO
-- Add Default Constraint DF_AccountReportPermission_AllowOwnProject to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_AllowOwnProject to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_AllowOwnProject'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_AllowOwnProject]
	DEFAULT ((0)) FOR [AllowOwnProject]
GO
-- Add Default Constraint DF_AccountReportPermission_AllowOwnReport to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_AllowOwnReport to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_AllowOwnReport'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_AllowOwnReport]
	DEFAULT ((0)) FOR [AllowOwnReport]
GO
-- Add Default Constraint DF_AccountReportPermission_AllowOwnSubOrdinates to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_AllowOwnSubOrdinates to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_AllowOwnSubOrdinates'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_AllowOwnSubOrdinates]
	DEFAULT ((0)) FOR [AllowOwnSubOrdinates]
GO
-- Add Default Constraint DF_AccountReportPermission_AllowOwnTeam to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_AllowOwnTeam to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_AllowOwnTeam'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_AllowOwnTeam]
	DEFAULT ((0)) FOR [AllowOwnTeam]
GO
-- Add Default Constraint DF_AccountReportPermission_ShowReport to AccountObjectPermission
Print 'Add Default Constraint DF_AccountReportPermission_ShowReport to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportPermission_ShowReport'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountReportPermission_ShowReport]
	DEFAULT ((0)) FOR [ShowReport]
GO
-- Add Column NotShowInPermission to SystemSecurityCategoryPage
Print 'Add Column NotShowInPermission to SystemSecurityCategoryPage'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemSecurityCategoryPage' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='NotShowInPermission' AND TABLE_NAME='SystemSecurityCategoryPage'))
ALTER TABLE [dbo].[SystemSecurityCategoryPage]
	ADD [NotShowInPermission] bit NULL

GO
-- Create Table SystemReportFieldType
Print 'Create Table SystemReportFieldType'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportFieldType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemReportFieldType] (
		[SystemReportFieldTypeId]       uniqueidentifier NOT NULL,
		[SystemReportFieldType]         nvarchar(100) NOT NULL,
		[IsAllowSummaryCalculation]     bit NOT NULL
)
GO
-- Add Primary Key PK_SystemReportFieldType to SystemReportFieldType
Print 'Add Primary Key PK_SystemReportFieldType to SystemReportFieldType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFieldType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemReportFieldType' AND TABLE_NAME='SystemReportFieldType'))
ALTER TABLE [dbo].[SystemReportFieldType]
	ADD
	CONSTRAINT [PK_SystemReportFieldType]
	PRIMARY KEY
	([SystemReportFieldTypeId])
GO
-- Add Default Constraint DF_SystemReportFieldType_IsAllowSummaryCalculation to SystemReportFieldType
Print 'Add Default Constraint DF_SystemReportFieldType_IsAllowSummaryCalculation to SystemReportFieldType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFieldType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportFieldType_IsAllowSummaryCalculation'))
ALTER TABLE [dbo].[SystemReportFieldType]
	ADD
	CONSTRAINT [DF_SystemReportFieldType_IsAllowSummaryCalculation]
	DEFAULT ((0)) FOR [IsAllowSummaryCalculation]
GO
-- Add Default Constraint DF_SystemReportFieldType_SystemReportFieldTypeId to SystemReportFieldType
Print 'Add Default Constraint DF_SystemReportFieldType_SystemReportFieldTypeId to SystemReportFieldType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFieldType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportFieldType_SystemReportFieldTypeId'))
ALTER TABLE [dbo].[SystemReportFieldType]
	ADD
	CONSTRAINT [DF_SystemReportFieldType_SystemReportFieldTypeId]
	DEFAULT (newid()) FOR [SystemReportFieldTypeId]
GO
-- Create Table SystemReportDataSource
Print 'Create Table SystemReportDataSource'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportDataSource' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemReportDataSource] (
		[SystemReportDataSourceId]     uniqueidentifier NOT NULL,
		[ReportDataSourceName]         nvarchar(100) NOT NULL,
		[ReportDatasource]             nvarchar(100) NOT NULL,
		[ReportDataSourceType]         nvarchar(100) NOT NULL,
		[DefaultIconPath]              nvarchar(200) NULL
)
GO
-- Add Primary Key PK_AccountReportDataSource to SystemReportDataSource
Print 'Add Primary Key PK_AccountReportDataSource to SystemReportDataSource'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSource' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportDataSource' AND TABLE_NAME='SystemReportDataSource'))
ALTER TABLE [dbo].[SystemReportDataSource]
	ADD
	CONSTRAINT [PK_AccountReportDataSource]
	PRIMARY KEY
	([SystemReportDataSourceId])
GO
-- Add Default Constraint DF_AccountReportDataSource_SystemReportDataSourceId to SystemReportDataSource
Print 'Add Default Constraint DF_AccountReportDataSource_SystemReportDataSourceId to SystemReportDataSource'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSource' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportDataSource_SystemReportDataSourceId'))
ALTER TABLE [dbo].[SystemReportDataSource]
	ADD
	CONSTRAINT [DF_AccountReportDataSource_SystemReportDataSourceId]
	DEFAULT (newid()) FOR [SystemReportDataSourceId]
GO
-- Create Table AccountReportColumn
Print 'Create Table AccountReportColumn'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountReportColumn' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountReportColumn] (
		[AccountReportColumnId]             uniqueidentifier NOT NULL,
		[AccountReportId]                   uniqueidentifier NOT NULL,
		[Caption]                           nvarchar(100) NOT NULL,
		[SystemReportDataSourceFieldId]     uniqueidentifier NULL,
		[ColumnOrder]                       int NOT NULL,
		[SystemReportCalculationTypeId]     uniqueidentifier NULL,
		[ColumnFormula]                     nvarchar(200) NULL
)
GO
-- Add Primary Key PK_AccountReportColumn to AccountReportColumn
Print 'Add Primary Key PK_AccountReportColumn to AccountReportColumn'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportColumn' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportColumn' AND TABLE_NAME='AccountReportColumn'))
ALTER TABLE [dbo].[AccountReportColumn]
	ADD
	CONSTRAINT [PK_AccountReportColumn]
	PRIMARY KEY
	([AccountReportColumnId])
GO
-- Add Default Constraint DF_AccountReportColumn_AccountReportColumnId to AccountReportColumn
Print 'Add Default Constraint DF_AccountReportColumn_AccountReportColumnId to AccountReportColumn'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportColumn' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportColumn_AccountReportColumnId'))
ALTER TABLE [dbo].[AccountReportColumn]
	ADD
	CONSTRAINT [DF_AccountReportColumn_AccountReportColumnId]
	DEFAULT (newid()) FOR [AccountReportColumnId]
GO
-- Create Table SystemReportDataSourceField
Print 'Create Table SystemReportDataSourceField'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportDataSourceField' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemReportDataSourceField] (
		[SystemReportDataSourceFieldId]              uniqueidentifier NOT NULL,
		[SystemReportDataSourceId]                   uniqueidentifier NOT NULL,
		[SystemReportDataSourceField]                nvarchar(100) NOT NULL,
		[SystemReportDataSourceFieldWidth]           int NOT NULL,
		[DefaultAvailable]                           bit NOT NULL,
		[CurrencyField]                              nvarchar(100) NULL,
		[Formula]                                    nvarchar(200) NULL,
		[SystemReportDataSourceFieldColumnOrder]     int NOT NULL,
		[SystemReportFieldTypeId]                    uniqueidentifier NOT NULL,
		[SystemReportDataSourceFieldCaption]         nvarchar(100) NOT NULL,
		[ShowCurrencyCodeInSummary]                  bit NOT NULL,
		[IsFormulaField]                             bit NOT NULL
)
GO
-- Add Primary Key PK_SystemReportDataSourceField to SystemReportDataSourceField
Print 'Add Primary Key PK_SystemReportDataSourceField to SystemReportDataSourceField'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSourceField' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemReportDataSourceField' AND TABLE_NAME='SystemReportDataSourceField'))
ALTER TABLE [dbo].[SystemReportDataSourceField]
	ADD
	CONSTRAINT [PK_SystemReportDataSourceField]
	PRIMARY KEY
	([SystemReportDataSourceFieldId])
GO
-- Add Default Constraint DF_SystemReportDataSourceField_DefaultAvailable to SystemReportDataSourceField
Print 'Add Default Constraint DF_SystemReportDataSourceField_DefaultAvailable to SystemReportDataSourceField'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSourceField' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportDataSourceField_DefaultAvailable'))
ALTER TABLE [dbo].[SystemReportDataSourceField]
	ADD
	CONSTRAINT [DF_SystemReportDataSourceField_DefaultAvailable]
	DEFAULT ((0)) FOR [DefaultAvailable]
GO
-- Add Default Constraint DF_SystemReportDataSourceField_IsFormulaField to SystemReportDataSourceField
Print 'Add Default Constraint DF_SystemReportDataSourceField_IsFormulaField to SystemReportDataSourceField'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSourceField' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportDataSourceField_IsFormulaField'))
ALTER TABLE [dbo].[SystemReportDataSourceField]
	ADD
	CONSTRAINT [DF_SystemReportDataSourceField_IsFormulaField]
	DEFAULT ((0)) FOR [IsFormulaField]
GO
-- Add Default Constraint DF_SystemReportDataSourceField_ShowCurrencyCodeInSummary to SystemReportDataSourceField
Print 'Add Default Constraint DF_SystemReportDataSourceField_ShowCurrencyCodeInSummary to SystemReportDataSourceField'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSourceField' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportDataSourceField_ShowCurrencyCodeInSummary'))
ALTER TABLE [dbo].[SystemReportDataSourceField]
	ADD
	CONSTRAINT [DF_SystemReportDataSourceField_ShowCurrencyCodeInSummary]
	DEFAULT ((0)) FOR [ShowCurrencyCodeInSummary]
GO
-- Add Default Constraint DF_SystemReportDataSourceField_SystemReportDataSourceFieldId to SystemReportDataSourceField
Print 'Add Default Constraint DF_SystemReportDataSourceField_SystemReportDataSourceFieldId to SystemReportDataSourceField'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSourceField' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportDataSourceField_SystemReportDataSourceFieldId'))
ALTER TABLE [dbo].[SystemReportDataSourceField]
	ADD
	CONSTRAINT [DF_SystemReportDataSourceField_SystemReportDataSourceFieldId]
	DEFAULT (newid()) FOR [SystemReportDataSourceFieldId]
GO
-- Create Table AccountReportCategory
Print 'Create Table AccountReportCategory'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountReportCategory' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[AccountReportCategory] (
		[AccountReportCategoryId]     uniqueidentifier NOT NULL,
		[AccountReportCategory]       nvarchar(100) NOT NULL,
		[AccountId]                   int NULL
)
GO
-- Add Primary Key PK_AccountReportCategory to AccountReportCategory
Print 'Add Primary Key PK_AccountReportCategory to AccountReportCategory'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportCategory' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportCategory' AND TABLE_NAME='AccountReportCategory'))
ALTER TABLE [dbo].[AccountReportCategory]
	ADD
	CONSTRAINT [PK_AccountReportCategory]
	PRIMARY KEY
	([AccountReportCategoryId])
GO
-- Add Default Constraint DF_AccountReportCategory_ReportCategoryId to AccountReportCategory
Print 'Add Default Constraint DF_AccountReportCategory_ReportCategoryId to AccountReportCategory'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportCategory' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportCategory_ReportCategoryId'))
ALTER TABLE [dbo].[AccountReportCategory]
	ADD
	CONSTRAINT [DF_AccountReportCategory_ReportCategoryId]
	DEFAULT (newid()) FOR [AccountReportCategoryId]
GO
-- Create Table AccountReportGroup
Print 'Create Table AccountReportGroup'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountReportGroup' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[AccountReportGroup] (
		[AccountReportGroupId]              uniqueidentifier NOT NULL,
		[AccountReportId]                   uniqueidentifier NOT NULL,
		[ReportGroup]                       nvarchar(100) NOT NULL,
		[ReportGroupFieldLabel]             nvarchar(100) NOT NULL,
		[ReportGroupFieldOrder]             int NOT NULL,
		[SystemReportDataSourceFieldId]     uniqueidentifier NOT NULL
)
GO
-- Add Primary Key PK_AccountReportGroup to AccountReportGroup
Print 'Add Primary Key PK_AccountReportGroup to AccountReportGroup'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportGroup' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportGroup' AND TABLE_NAME='AccountReportGroup'))
ALTER TABLE [dbo].[AccountReportGroup]
	ADD
	CONSTRAINT [PK_AccountReportGroup]
	PRIMARY KEY
	([AccountReportGroupId])
GO
-- Add Default Constraint DF_AccountReportGroup_AccountReportGroupId to AccountReportGroup
Print 'Add Default Constraint DF_AccountReportGroup_AccountReportGroupId to AccountReportGroup'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportGroup' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportGroup_AccountReportGroupId'))
ALTER TABLE [dbo].[AccountReportGroup]
	ADD
	CONSTRAINT [DF_AccountReportGroup_AccountReportGroupId]
	DEFAULT (newid()) FOR [AccountReportGroupId]
GO
-- Create Table AccountReportDataSourceMapping
Print 'Create Table AccountReportDataSourceMapping'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountReportDataSourceMapping' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[AccountReportDataSourceMapping] (
		[AccountReportDataSourceMappingId]     uniqueidentifier NOT NULL,
		[AccountReportId]                      uniqueidentifier NOT NULL,
		[SystemReportDataSourceId]             uniqueidentifier NOT NULL
)
GO
-- Add Primary Key PK_AccountReportDataSourceMapping to AccountReportDataSourceMapping
Print 'Add Primary Key PK_AccountReportDataSourceMapping to AccountReportDataSourceMapping'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportDataSourceMapping' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportDataSourceMapping' AND TABLE_NAME='AccountReportDataSourceMapping'))
ALTER TABLE [dbo].[AccountReportDataSourceMapping]
	ADD
	CONSTRAINT [PK_AccountReportDataSourceMapping]
	PRIMARY KEY
	([AccountReportDataSourceMappingId])
GO
-- Add Default Constraint DF_AccountReportDataSourceMapping_AccountReportDataSourceMappingId to AccountReportDataSourceMapping
Print 'Add Default Constraint DF_AccountReportDataSourceMapping_AccountReportDataSourceMappingId to AccountReportDataSourceMapping'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportDataSourceMapping' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportDataSourceMapping_AccountReportDataSourceMappingId'))
ALTER TABLE [dbo].[AccountReportDataSourceMapping]
	ADD
	CONSTRAINT [DF_AccountReportDataSourceMapping_AccountReportDataSourceMappingId]
	DEFAULT (newid()) FOR [AccountReportDataSourceMappingId]
GO
-- Create Table SystemReportFilterSource
Print 'Create Table SystemReportFilterSource'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportFilterSource' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[SystemReportFilterSource] (
		[SystemReportFilterSourceId]     uniqueidentifier NOT NULL,
		[SystemReportFilterSource]       nvarchar(200) NOT NULL,
		[ClassName]                      varchar(50) NULL,
		[ClassFunction]                  varchar(50) NULL,
		[ParameterName1]                 varchar(50) NULL,
		[Caption]                        nvarchar(100) NULL,
		[FilterSourceType]               nvarchar(100) NULL,
		[FilterSource]                   nvarchar(100) NULL,
		[FilterOperator]                 nvarchar(50) NULL,
		[IsOptional]                     bit NULL,
		[FilterField]                    nvarchar(100) NULL,
		[ParentFilterSource]             nvarchar(50) NULL
)
GO
-- Add Primary Key PK_SystemReportFilterSource to SystemReportFilterSource
Print 'Add Primary Key PK_SystemReportFilterSource to SystemReportFilterSource'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFilterSource' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemReportFilterSource' AND TABLE_NAME='SystemReportFilterSource'))
ALTER TABLE [dbo].[SystemReportFilterSource]
	ADD
	CONSTRAINT [PK_SystemReportFilterSource]
	PRIMARY KEY
	([SystemReportFilterSourceId])
GO
-- Add Default Constraint DF_SystemReportFilterSource_SystemReportFilterSourceId to SystemReportFilterSource
Print 'Add Default Constraint DF_SystemReportFilterSource_SystemReportFilterSourceId to SystemReportFilterSource'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFilterSource' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportFilterSource_SystemReportFilterSourceId'))
ALTER TABLE [dbo].[SystemReportFilterSource]
	ADD
	CONSTRAINT [DF_SystemReportFilterSource_SystemReportFilterSourceId]
	DEFAULT (newid()) FOR [SystemReportFilterSourceId]
GO
-- Create Table SystemReportFilterSourceMapping
Print 'Create Table SystemReportFilterSourceMapping'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportFilterSourceMapping' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[SystemReportFilterSourceMapping] (
		[SystemReportFilterMappingId]     uniqueidentifier NOT NULL,
		[SystemReportFilterSourceId]      uniqueidentifier NOT NULL,
		[SystemReportDataSourceId]        uniqueidentifier NOT NULL,
		[IsRequired]                      bit NOT NULL,
		[IsAllowAll]                      bit NOT NULL,
		[FilterSequence]                  int NULL
)
GO
-- Add Primary Key PK_SystemReportFilterSourceMapping to SystemReportFilterSourceMapping
Print 'Add Primary Key PK_SystemReportFilterSourceMapping to SystemReportFilterSourceMapping'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFilterSourceMapping' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemReportFilterSourceMapping' AND TABLE_NAME='SystemReportFilterSourceMapping'))
ALTER TABLE [dbo].[SystemReportFilterSourceMapping]
	ADD
	CONSTRAINT [PK_SystemReportFilterSourceMapping]
	PRIMARY KEY
	([SystemReportFilterMappingId])
GO
-- Add Default Constraint DF_SystemReportFilterSourceMapping_IsAllowAll to SystemReportFilterSourceMapping
Print 'Add Default Constraint DF_SystemReportFilterSourceMapping_IsAllowAll to SystemReportFilterSourceMapping'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFilterSourceMapping' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportFilterSourceMapping_IsAllowAll'))
ALTER TABLE [dbo].[SystemReportFilterSourceMapping]
	ADD
	CONSTRAINT [DF_SystemReportFilterSourceMapping_IsAllowAll]
	DEFAULT ((0)) FOR [IsAllowAll]
GO
-- Add Default Constraint DF_SystemReportFilterSourceMapping_IsRequired to SystemReportFilterSourceMapping
Print 'Add Default Constraint DF_SystemReportFilterSourceMapping_IsRequired to SystemReportFilterSourceMapping'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFilterSourceMapping' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportFilterSourceMapping_IsRequired'))
ALTER TABLE [dbo].[SystemReportFilterSourceMapping]
	ADD
	CONSTRAINT [DF_SystemReportFilterSourceMapping_IsRequired]
	DEFAULT ((0)) FOR [IsRequired]
GO
-- Add Default Constraint DF_SystemReportFilterSourceMapping_SystemReportFilterMappingId to SystemReportFilterSourceMapping
Print 'Add Default Constraint DF_SystemReportFilterSourceMapping_SystemReportFilterMappingId to SystemReportFilterSourceMapping'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportFilterSourceMapping' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportFilterSourceMapping_SystemReportFilterMappingId'))
ALTER TABLE [dbo].[SystemReportFilterSourceMapping]
	ADD
	CONSTRAINT [DF_SystemReportFilterSourceMapping_SystemReportFilterMappingId]
	DEFAULT (newid()) FOR [SystemReportFilterMappingId]
GO
-- Create Table SystemReportCalculationType
Print 'Create Table SystemReportCalculationType'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportCalculationType' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[SystemReportCalculationType] (
		[SystemReportCalculationTypeId]     uniqueidentifier NOT NULL,
		[CalculationType]                   nvarchar(50) NULL,
		[ExcludeForCalculationSummary]      bit NOT NULL
)
GO
-- Add Primary Key PK_SystemReportSummaryCalculationType to SystemReportCalculationType
Print 'Add Primary Key PK_SystemReportSummaryCalculationType to SystemReportCalculationType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportCalculationType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemReportSummaryCalculationType' AND TABLE_NAME='SystemReportCalculationType'))
ALTER TABLE [dbo].[SystemReportCalculationType]
	ADD
	CONSTRAINT [PK_SystemReportSummaryCalculationType]
	PRIMARY KEY
	([SystemReportCalculationTypeId])
GO
-- Add Default Constraint DF_SystemReportCalculationType_ExcludeForCalculationSummary to SystemReportCalculationType
Print 'Add Default Constraint DF_SystemReportCalculationType_ExcludeForCalculationSummary to SystemReportCalculationType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportCalculationType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportCalculationType_ExcludeForCalculationSummary'))
ALTER TABLE [dbo].[SystemReportCalculationType]
	ADD
	CONSTRAINT [DF_SystemReportCalculationType_ExcludeForCalculationSummary]
	DEFAULT ((0)) FOR [ExcludeForCalculationSummary]
GO
-- Add Default Constraint DF_SystemReportSummaryCalculationType_SystemReportCalculationTypeId_1 to SystemReportCalculationType
Print 'Add Default Constraint DF_SystemReportSummaryCalculationType_SystemReportCalculationTypeId_1 to SystemReportCalculationType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportCalculationType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportSummaryCalculationType_SystemReportCalculationTypeId_1'))
ALTER TABLE [dbo].[SystemReportCalculationType]
	ADD
	CONSTRAINT [DF_SystemReportSummaryCalculationType_SystemReportCalculationTypeId_1]
	DEFAULT (newid()) FOR [SystemReportCalculationTypeId]
GO
-- Create Table AccountReportSummary
Print 'Create Table AccountReportSummary'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountReportSummary' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[AccountReportSummary] (
		[AccountReportSummaryId]            uniqueidentifier NOT NULL,
		[AccountReportGroupId]              uniqueidentifier NULL,
		[AccountReportId]                   uniqueidentifier NOT NULL,
		[SystemReportCalculationTypeId]     uniqueidentifier NOT NULL,
		[AccountReportColumnId]             uniqueidentifier NOT NULL,
		[SummaryCaption]                    nvarchar(100) NOT NULL,
		[IsShowGroupTotal]                  bit NOT NULL,
		[IsShowGrandTotal]                  bit NOT NULL
)
GO
-- Add Primary Key PK_AccountReportGroupSummary to AccountReportSummary
Print 'Add Primary Key PK_AccountReportGroupSummary to AccountReportSummary'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportSummary' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportGroupSummary' AND TABLE_NAME='AccountReportSummary'))
ALTER TABLE [dbo].[AccountReportSummary]
	ADD
	CONSTRAINT [PK_AccountReportGroupSummary]
	PRIMARY KEY
	([AccountReportSummaryId])
GO
-- Add Default Constraint DF_AccountReportGroupSummary_AccountReportGroupSummaryId to AccountReportSummary
Print 'Add Default Constraint DF_AccountReportGroupSummary_AccountReportGroupSummaryId to AccountReportSummary'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportSummary' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportGroupSummary_AccountReportGroupSummaryId'))
ALTER TABLE [dbo].[AccountReportSummary]
	ADD
	CONSTRAINT [DF_AccountReportGroupSummary_AccountReportGroupSummaryId]
	DEFAULT (newid()) FOR [AccountReportSummaryId]
GO
-- Add Default Constraint DF_SystemReportGroupSummary_IsShowGrandTotal to AccountReportSummary
Print 'Add Default Constraint DF_SystemReportGroupSummary_IsShowGrandTotal to AccountReportSummary'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportSummary' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportGroupSummary_IsShowGrandTotal'))
ALTER TABLE [dbo].[AccountReportSummary]
	ADD
	CONSTRAINT [DF_SystemReportGroupSummary_IsShowGrandTotal]
	DEFAULT ((0)) FOR [IsShowGrandTotal]
GO
-- Add Default Constraint DF_SystemReportGroupSummary_IsShowGroupTotal to AccountReportSummary
Print 'Add Default Constraint DF_SystemReportGroupSummary_IsShowGroupTotal to AccountReportSummary'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportSummary' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportGroupSummary_IsShowGroupTotal'))
ALTER TABLE [dbo].[AccountReportSummary]
	ADD
	CONSTRAINT [DF_SystemReportGroupSummary_IsShowGroupTotal]
	DEFAULT ((0)) FOR [IsShowGroupTotal]
GO
-- Create Table SystemReportType
Print 'Create Table SystemReportType'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportType' and table_type = 'BASE TABLE')
CREATE TABLE [dbo].[SystemReportType] (
		[SystemReportTypeId]     uniqueidentifier NOT NULL,
		[SystemReportType]       nvarchar(100) NOT NULL
)
GO
-- Add Primary Key PK_AccountReportType to SystemReportType
Print 'Add Primary Key PK_AccountReportType to SystemReportType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountReportType' AND TABLE_NAME='SystemReportType'))
ALTER TABLE [dbo].[SystemReportType]
	ADD
	CONSTRAINT [PK_AccountReportType]
	PRIMARY KEY
	([SystemReportTypeId])
GO
-- Add Default Constraint DF_AccountReportType_AccountReportTypeId to SystemReportType
Print 'Add Default Constraint DF_AccountReportType_AccountReportTypeId to SystemReportType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountReportType_AccountReportTypeId'))
ALTER TABLE [dbo].[SystemReportType]
	ADD
	CONSTRAINT [DF_AccountReportType_AccountReportTypeId]
	DEFAULT (newid()) FOR [SystemReportTypeId]
GO
-- Create Foreign Key FK_AccountReportGroup_AccountReport on AccountReportGroup
Print 'Create Foreign Key FK_AccountReportGroup_AccountReport on AccountReportGroup'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountReportGroup_AccountReport' AND TABLE_NAME='AccountReportGroup')
BEGIN
		ALTER TABLE [dbo].[AccountReportGroup]
			ADD CONSTRAINT [FK_AccountReportGroup_AccountReport]
			FOREIGN KEY ([AccountReportId]) REFERENCES [dbo].[AccountReport] ([AccountReportId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountReportColumn_AccountReport on AccountReportColumn
Print 'Create Foreign Key FK_AccountReportColumn_AccountReport on AccountReportColumn'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountReportColumn_AccountReport' AND TABLE_NAME='AccountReportColumn')
BEGIN
		ALTER TABLE [dbo].[AccountReportColumn]
			ADD CONSTRAINT [FK_AccountReportColumn_AccountReport]
			FOREIGN KEY ([AccountReportId]) REFERENCES [dbo].[AccountReport] ([AccountReportId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountProjectTask_AccountCurrency on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountCurrency on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountCurrency' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			ADD CONSTRAINT [FK_AccountProjectTask_AccountCurrency]
			FOREIGN KEY ([EstimatedCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END
GO
-- Create Foreign Key FK_AccountReportDataSourceMapping_AccountReport on AccountReportDataSourceMapping
Print 'Create Foreign Key FK_AccountReportDataSourceMapping_AccountReport on AccountReportDataSourceMapping'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountReportDataSourceMapping_AccountReport' AND TABLE_NAME='AccountReportDataSourceMapping')
BEGIN
		ALTER TABLE [dbo].[AccountReportDataSourceMapping]
			ADD CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]
			FOREIGN KEY ([AccountReportId]) REFERENCES [dbo].[AccountReport] ([AccountReportId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountReportSummary_AccountReport on AccountReportSummary
Print 'Create Foreign Key FK_AccountReportSummary_AccountReport on AccountReportSummary'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountReportSummary_AccountReport' AND TABLE_NAME='AccountReportSummary')
BEGIN
		ALTER TABLE [dbo].[AccountReportSummary]
			ADD CONSTRAINT [FK_AccountReportSummary_AccountReport]
			FOREIGN KEY ([AccountReportId]) REFERENCES [dbo].[AccountReport] ([AccountReportId])
			ON DELETE CASCADE
END

GO

-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Drop View vueSystemSecurityCategoryPage
Print 'Drop View vueSystemSecurityCategoryPage'
GO
if exists (select * from information_schema.tables where table_name = 'vueSystemSecurityCategoryPage' and table_type = 'VIEW')
DROP VIEW [dbo].[vueSystemSecurityCategoryPage]
GO
-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) 
                      AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountExpenseEntry.TimeSheetApprovalPathId, dbo.AccountEmployee.EMailAddress, dbo.AccountDepartment.DepartmentName, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountTaxZone.AccountTaxZone, dbo.AccountExpenseEntry.Quantity, dbo.AccountExpenseEntry.Rate, 
                      dbo.AccountPaymentMethod.PaymentMethod, dbo.AccountLocation.AccountLocationId, dbo.AccountParty.PartyNick, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountDepartment.DepartmentCode, 
                      dbo.vueAccountExpenseEntryApprovalLastAction.Comments, dbo.vueAccountExpenseEntryApprovalLastAction.ApprovedOn
FROM         dbo.AccountTaxZone RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntryApprovalLastAction RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId ON 
                      dbo.vueAccountExpenseEntryApprovalLastAction.AccountExpenseEntryId = dbo.AccountExpenseEntry.AccountExpenseEntryId LEFT OUTER JOIN
                      dbo.AccountPaymentMethod ON dbo.AccountExpenseEntry.AccountPaymentMethodId = dbo.AccountPaymentMethod.AccountPaymentMethodId ON 
                      dbo.AccountTaxZone.AccountTaxZoneId = dbo.AccountExpenseEntry.AccountTaxZoneId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId LEFT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountLocation RIGHT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountLocation.AccountLocationId = dbo.AccountEmployee.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId ON 
                      dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountEmployeeAttendanceDetail
Print 'Create View vueAccountEmployeeAttendanceDetail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAttendanceDetail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeAttendanceDetail
AS
SELECT     AbsenceDescription, AttendanceDate, MIN(InOut) AS [In], MIN(AttendanceTime) AS TimeIn, MAX(InOut) AS Out, MAX(AttendanceTime) AS TimeOut, 
                      EmployeeName, EmployeeCode, AccountEmployeeId, AccountId
FROM         dbo.vueAccountAttendance
GROUP BY AbsenceDescription, AttendanceDate, EmployeeName, EmployeeCode, AccountEmployeeId, AccountId'
GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntry.BillingType, dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntry.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntry.DepartmentName, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) 
                      AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) AS Submitted, dbo.vueAccountEmployeeTimeEntry.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntry.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntry.TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntry.Comments AS ApproverComments, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, dbo.vueAccountEmployeeTimeEntry.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntry.PartyNick AS ClientNick, dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, 
                      vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, dbo.vueAccountEmployeeTimeEntry.ApprovedOn, 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRate, vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode
FROM         dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View vueAccountProjectsOnlyForReport
Print 'Create View vueAccountProjectsOnlyForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectsOnlyForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectsOnlyForReport
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.AccountId, dbo.AccountProject.AccountProjectTypeId, dbo.AccountProject.AccountClientId, 
                      dbo.AccountProject.ProjectBillingTypeId, dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.StartDate, 
                      dbo.AccountProject.AccountMilestoneId, dbo.AccountProject.Deadline, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.EstimatedTime, dbo.AccountProject.EstimatedDurationUnit, 
                      dbo.AccountProject.ProjectCode, dbo.AccountProject.DefaultBillingRate, dbo.AccountProject.IsActive, dbo.AccountProject.ProjectStatusId, 
                      dbo.AccountProject.AccountPriorityId, dbo.AccountProject.CreatedOn, dbo.AccountProject.CreatedByEmployeeId, dbo.AccountProject.ModifiedOn, 
                      dbo.AccountProject.ModifiedByEmployeeId, dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountProject.TimeSheetApprovalTypeId, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.AccountPartyContactId AS AccountClientContactId, 
                      dbo.AccountProject.AccountPartyDepartmentId AS AccountClientDepartmentId, dbo.AccountProject.IsDisabled, dbo.AccountProject.IsTemplate, 
                      dbo.AccountProject.IsProject, dbo.AccountProject.AccountProjectTemplateId, dbo.AccountParty.PartyNick AS ClientNick, 
                      dbo.AccountParty.PartyName AS ClientName, dbo.AccountProjectType.ProjectType, dbo.AccountBillingType.BillingType, dbo.AccountStatus.Status, 
                      CONVERT(nvarchar(200), dbo.AccountProject.EstimatedDuration) AS EstimatedDuration, 
                      dbo.AccountPartyDepartment.PartyDepartmentCode AS ClientDepartmentCode, 
                      dbo.AccountPartyDepartment.PartyDepartmentName AS ClientDepartmentName, 
                      dbo.AccountPartyDepartment.PartyDepartmentLocation AS ClientDepartmentLocation, 
                      dbo.AccountPartyContact.FirstName + '' '' + dbo.AccountPartyContact.LastName AS ClientContactName, 
                      AccountApprovalType_1.ApprovalTypeName AS ExpenseApprovalTypeName, 
                      dbo.AccountApprovalType.ApprovalTypeName AS TimesheetApprovalTypeName, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLead, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS ProjectManager, 
                      dbo.SystemProjectBillingRateType.SystemProjectBillingRateType AS ProjectBillingRateType
FROM         dbo.AccountProject INNER JOIN
                      dbo.Account ON dbo.AccountProject.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId AND 
                      dbo.Account.AccountId = dbo.AccountParty.AccountId INNER JOIN
                      dbo.AccountProjectType ON dbo.AccountProject.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId AND 
                      dbo.Account.AccountId = dbo.AccountProjectType.AccountId INNER JOIN
                      dbo.AccountBillingType ON dbo.AccountProject.ProjectBillingTypeId = dbo.AccountBillingType.AccountBillingTypeId AND 
                      dbo.Account.AccountId = dbo.AccountBillingType.AccountId INNER JOIN
                      dbo.AccountStatus ON dbo.AccountProject.ProjectStatusId = dbo.AccountStatus.AccountStatusId AND 
                      dbo.Account.AccountId = dbo.AccountStatus.AccountId LEFT OUTER JOIN
                      dbo.SystemProjectBillingRateType ON 
                      dbo.AccountProject.ProjectBillingRateTypeId = dbo.SystemProjectBillingRateType.SystemProjectBillingRateTypeId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountProject.ProjectManagerEmployeeId = dbo.AccountEmployee.AccountEmployeeId AND 
                      dbo.Account.AccountId = dbo.AccountEmployee.AccountId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProject.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId AND 
                      dbo.Account.AccountId = AccountEmployee_1.AccountId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId AND 
                      dbo.Account.AccountId = dbo.AccountApprovalType.AccountId LEFT OUTER JOIN
                      dbo.AccountApprovalType AS AccountApprovalType_1 ON 
                      dbo.AccountProject.ExpenseApprovalTypeId = AccountApprovalType_1.AccountApprovalTypeId AND 
                      dbo.Account.AccountId = AccountApprovalType_1.AccountId LEFT OUTER JOIN
                      dbo.AccountPartyContact INNER JOIN
                      dbo.AccountPartyDepartment ON dbo.AccountPartyContact.AccountPartyDepartmentId = dbo.AccountPartyDepartment.AccountPartyDepartmentId ON 
                      dbo.AccountParty.AccountPartyId = dbo.AccountPartyDepartment.AccountPartyId AND 
                      dbo.AccountProject.AccountPartyDepartmentId = dbo.AccountPartyDepartment.AccountPartyDepartmentId AND 
                      dbo.AccountParty.AccountPartyId = dbo.AccountPartyContact.AccountPartyId AND 
                      dbo.AccountProject.AccountPartyContactId = dbo.AccountPartyContact.AccountPartyContactId
WHERE     (dbo.AccountProject.IsTemplate <> 1)'
GO
-- Create View vueAccountExpenseEntryForReport
Print 'Create View vueAccountExpenseEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryForReport
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, ISNULL(Approved, 0) 
                      AS Approved, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, PartyName AS ClientName, AccountClientId, Description, 
                      ExpenseType, AccountExpenseTypeId, LeaderEmployeeId, IsBillable, ISNULL(Rejected, 0) AS Rejected, EmployeeCode, Reimburse, 
                      AccountCurrencyId, CurrencyCode, IsQuantityField, QuantityFieldCaption, AccountBaseCurrencyId, ISNULL(ExchangeRate, 0) AS ExchangeRate, 
                      TaxAmount, NetAmount, ISNULL(Submitted, 0) AS Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, ProjectManagerEmployeeId, 
                      TimeSheetApprovalPathId, EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, PaymentMethod, AccountLocationId, 
                      PartyNick AS ClientNick, ProjectDescription, ProjectCode, DepartmentCode, Comments, ApprovedOn
FROM         dbo.vueAccountExpenseEntry'
GO
-- Create View vueAccountEmployeesForReport
Print 'Create View vueAccountEmployeesForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeesForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, dbo.AccountEmployee.MiddleName, dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, 
                      dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.Notes, dbo.AccountEmployee.AddressLine1, dbo.AccountEmployee.AddressLine2, dbo.AccountEmployee.State, 
                      dbo.AccountEmployee.City, dbo.AccountEmployee.Zip, dbo.AccountEmployee.CountryId, dbo.AccountEmployee.HomePhoneNo, 
                      dbo.AccountEmployee.WorkPhoneNo, dbo.AccountEmployee.MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, dbo.AccountEmployee.StartDate, 
                      dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, dbo.AccountEmployee.CreatedOn, 
                      dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, dbo.AccountEmployee.ModifiedByEmployeeId, 
                      dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, dbo.AccountEmployee.EmployeeTypeId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountEmployee.Username, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      dbo.AccountDepartment.DepartmentCode, dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountLocation.AccountLocation, 
                      dbo.SystemCountry.Country, AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS EmployeeManager
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId AND 
                      dbo.Account.AccountId = dbo.AccountDepartment.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId AND 
                      dbo.Account.AccountId = dbo.AccountRole.AccountId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId AND 
                      dbo.Account.AccountId = dbo.AccountLocation.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountEmployee.CountryId = dbo.SystemCountry.CountryId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.Account.AccountId = AccountEmployee_1.AccountId AND 
                      dbo.AccountEmployee.EmployeeManagerId = AccountEmployee_1.AccountEmployeeId'
GO
-- Create View vueAccountEmployeeAttendanceForReport
Print 'Create View vueAccountEmployeeAttendanceForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAttendanceForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeAttendanceForReport
AS
SELECT     AbsenceDescription, AttendanceDate, CASE WHEN [In] = ''In'' THEN [In] ELSE NULL END AS [In], CASE WHEN [In] = ''In'' THEN TimeIn ELSE NULL 
                      END AS TimeIn, CASE WHEN Out = ''Out'' THEN Out ELSE NULL END AS Out, CASE WHEN Out = ''Out'' THEN TimeOut ELSE NULL END AS TimeOut, 
                      EmployeeName, EmployeeCode, AccountEmployeeId, AccountId
FROM         dbo.vueAccountEmployeeAttendanceDetail'
GO
-- Create View vueAccountClientForReport
Print 'Create View vueAccountClientForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountClientForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountClientForReport
AS
SELECT     dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyTypeId AS ClientTypeId, dbo.AccountParty.AccountId, 
                      dbo.AccountParty.PartyName AS ClientName, dbo.AccountParty.PartyNick AS ClientNick, dbo.AccountParty.EMailAddress, dbo.AccountParty.Address1, 
                      dbo.AccountParty.Address2, dbo.AccountParty.CountryId, dbo.AccountParty.State, dbo.AccountParty.City, dbo.AccountParty.ZipCode, 
                      dbo.AccountParty.Telephone1, dbo.AccountParty.Telephone2, dbo.AccountParty.Fax, dbo.AccountParty.DefaultCurrencyId, 
                      dbo.AccountParty.DefaultBillingRate, dbo.AccountParty.Website, dbo.AccountParty.Notes, dbo.AccountParty.IsDisabled, dbo.AccountParty.IsDeleted, 
                      dbo.AccountParty.CreatedOn, dbo.AccountParty.CreatedByEmployeeId, dbo.AccountParty.ModifiedOn, dbo.AccountParty.ModifiedByEmployeeId, 
                      dbo.SystemCountry.Country
FROM         dbo.AccountParty INNER JOIN
                      dbo.Account ON dbo.AccountParty.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountParty.CountryId = dbo.SystemCountry.CountryId'
GO
-- Create View vueAccountEmployeeAbsenceForReport
Print 'Create View vueAccountEmployeeAbsenceForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAbsenceForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeAbsenceForReport
AS
SELECT     dbo.AccountEmployeeAttendance.*, dbo.AccountAbsenceType.AbsenceDescription, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName
FROM         dbo.AccountEmployeeAttendance INNER JOIN
                      dbo.AccountAbsenceType ON dbo.AccountEmployeeAttendance.AccountAbsenceTypeId = dbo.AccountAbsenceType.AccountAbsenceTypeId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeAttendance.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueTimeEntryApprovalActivityForReport
Print 'Create View vueTimeEntryApprovalActivityForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueTimeEntryApprovalActivityForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueTimeEntryApprovalActivityForReport
AS
SELECT     dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, dbo.vueAccountEmployeeTimeEntryForReport.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.Description, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountId, dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.AccountApprovalType.ApprovalTypeName, 
                      dbo.SystemApproverType.SystemApproverType, dbo.vueAccountEmployee.EmployeeName AS ApproverEmployeeName, 
                      dbo.vueAccountEmployee.EMailAddress AS ApproverEmailAddress, dbo.vueAccountEmployeeTimeEntryForReport.Submitted, 
                      CASE WHEN AccountEmployeeTimeEntryApproval.IsApproved = 1 THEN ''Approved'' WHEN AccountEmployeeTimeEntryApproval.IsReject = 1 THEN ''Rejected''
                       END AS Status, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode
FROM         dbo.vueAccountEmployee RIGHT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.vueAccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId LEFT OUTER JOIN
                      dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath ON dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId = dbo.AccountApprovalPath.AccountApprovalPathId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryForReport ON 
                      dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId'
GO
-- Create View vueAccountExternalUserForReport
Print 'Create View vueAccountExternalUserForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExternalUserForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExternalUserForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId AS ExternalUserId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, 
                      dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.MiddleName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountLocationId, dbo.AccountEmployee.Notes, dbo.AccountEmployee.AddressLine1, dbo.AccountEmployee.AddressLine2, 
                      dbo.AccountEmployee.State, dbo.AccountEmployee.City, dbo.AccountEmployee.Zip, dbo.AccountEmployee.CountryId, 
                      dbo.AccountEmployee.HomePhoneNo, dbo.AccountEmployee.WorkPhoneNo, dbo.AccountEmployee.MobilePhoneNo, 
                      dbo.AccountEmployee.TimeEntryApprovalPathId, dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, 
                      dbo.AccountEmployee.StartDate, dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, 
                      dbo.AccountEmployee.IsDisabled, dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, 
                      dbo.AccountEmployee.CreatedOn, dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, 
                      dbo.AccountEmployee.ModifiedByEmployeeId, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountEmployee.ExternalUserClientId AS AccountClientId, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.AccountBillingRateId, 
                      dbo.AccountEmployee.Username, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.EmployeeManagerId, 
                      dbo.AccountParty.PartyNick AS ClientNick, dbo.AccountParty.PartyName AS ClientName, dbo.AccountRole.Role, 
                      dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS ExternalUser
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountParty ON dbo.AccountEmployee.ExternalUserClientId = dbo.AccountParty.AccountPartyId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
WHERE     (dbo.AccountEmployee.EmployeeTypeId = 2)'
GO
-- Create View vueAccountProjectsForReport
Print 'Create View vueAccountProjectsForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectsForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectsForReport
AS
SELECT     AccountProjectId, AccountId, AccountProjectTypeId, AccountClientId, ProjectBillingTypeId, ProjectName, ProjectDescription, StartDate, 
                      AccountMilestoneId, Deadline, LeaderEmployeeId, ProjectManagerEmployeeId, EstimatedTime, EstimatedDurationUnit, ProjectCode, 
                      DefaultBillingRate, IsActive, ProjectStatusId, AccountPriorityId, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, 
                      ProjectBillingRateTypeId, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, IsDisabled, IsTemplate, IsProject, AccountProjectTemplateId, ClientNick, 
                      ClientName, ProjectType, BillingType, Status, EstimatedDuration + '' - '' + EstimatedDurationUnit AS EstimatedDuration, AccountClientContactId, 
                      AccountClientDepartmentId, ClientDepartmentCode, ClientDepartmentName, ClientDepartmentLocation, ExpenseApprovalTypeName, 
                      TimesheetApprovalTypeName, ClientContactName, TeamLead, ProjectManager, ProjectBillingRateType
FROM         dbo.vueAccountProjectsOnlyForReport'
GO
-- Create View vueAccountProjectTaskForReport
Print 'Create View vueAccountProjectTaskForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskForReport
AS
SELECT     dbo.vueAccountProjectTask.AccountProjectTaskId, dbo.vueAccountProjectTask.AccountProjectId, 
                      dbo.vueAccountProjectTask.ParentAccountProjectTaskId, dbo.vueAccountProjectTask.TaskName, dbo.vueAccountProjectTask.TaskDescription, 
                      dbo.vueAccountProjectTask.AccountTaskTypeId, dbo.vueAccountProjectTask.DeadlineDate, dbo.vueAccountProjectTask.CompletedPercent, 
                      dbo.vueAccountProjectTask.Completed, dbo.vueAccountProjectTask.IsParentTask, dbo.vueAccountProjectTask.IsForAllEmployees, 
                      dbo.vueAccountProjectTask.AccountPriorityId, dbo.vueAccountProjectTask.TaskStatusId, dbo.vueAccountProjectTask.CreatedOn, 
                      dbo.vueAccountProjectTask.CreatedByEmployeeId, dbo.vueAccountProjectTask.ModifiedOn, dbo.vueAccountProjectTask.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTask.TaskStatus, dbo.vueAccountProjectTask.CreatedByFirstName, dbo.vueAccountProjectTask.CreatedByLastName, 
                      dbo.vueAccountProjectTask.Priority, dbo.vueAccountProjectTask.ProjectName, dbo.vueAccountProjectTask.ProjectCode, 
                      dbo.vueAccountProjectTask.TaskType, dbo.vueAccountProjectTask.AccountId, dbo.vueAccountProjectTask.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTask.MilestoneDescription, dbo.vueAccountProjectTask.IsReOpen, dbo.vueAccountProjectTask.ModifiedByFirstName, 
                      dbo.vueAccountProjectTask.ModifiedByLastName, dbo.vueAccountProjectTask.EstimatedCost, 
                      dbo.vueAccountProjectTask.EstimatedTimeSpent AS EstimatedHours, dbo.vueAccountProjectTask.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTask.AccountEmployeeId, dbo.vueAccountProjectTask.IsDisabled, dbo.vueAccountProjectTask.TaskCode, 
                      dbo.vueAccountProjectTask.IsTemplate, dbo.vueAccountProjectTask.IsForAllProjectTask, dbo.vueAccountProjectTask.IsBillable, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyNick AS ClientNick, dbo.AccountParty.PartyName AS ClientName, 
                      CONVERT(nvarchar(200), dbo.vueAccountProjectTask.Duration) + '' - '' + dbo.vueAccountProjectTask.DurationUnit AS Duration, 
                      dbo.AccountProjectTask.TaskName AS ParentTaskName
FROM         dbo.vueAccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.vueAccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.vueAccountProjectTask.ParentAccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId'
GO
-- Create View vueExpenseEntryApprovalActivityForReport
Print 'Create View vueExpenseEntryApprovalActivityForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueExpenseEntryApprovalActivityForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueExpenseEntryApprovalActivityForReport
AS
SELECT     dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId, dbo.AccountExpenseEntryApproval.ApprovedOn, 
                      dbo.AccountExpenseEntryApproval.Comments, dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, 
                      dbo.vueAccountExpenseEntryForReport.EmployeeName, dbo.vueAccountExpenseEntryForReport.AccountExpenseName, 
                      dbo.vueAccountExpenseEntryForReport.ProjectName, dbo.vueAccountExpenseEntryForReport.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryForReport.AccountId, dbo.vueAccountExpenseEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryForReport.AccountProjectId, dbo.vueAccountExpenseEntryForReport.AccountExpenseId, 
                      dbo.vueAccountExpenseEntryForReport.Amount AS NetAmount, dbo.vueAccountExpenseEntryForReport.Approved, 
                      dbo.vueAccountExpenseEntryForReport.ClientName, dbo.vueAccountExpenseEntryForReport.AccountClientId, 
                      dbo.vueAccountExpenseEntryForReport.Description, dbo.vueAccountExpenseEntryForReport.ExpenseType, 
                      dbo.vueAccountExpenseEntryForReport.AccountExpenseTypeId, dbo.vueAccountExpenseEntryForReport.IsBillable, 
                      dbo.vueAccountExpenseEntryForReport.Rejected, dbo.vueAccountExpenseEntryForReport.EmployeeCode, 
                      dbo.vueAccountExpenseEntryForReport.Reimburse, dbo.vueAccountExpenseEntryForReport.AccountCurrencyId, 
                      dbo.vueAccountExpenseEntryForReport.CurrencyCode, ISNULL(dbo.vueAccountExpenseEntryForReport.ExchangeRate, 0) AS ExchangeRate, 
                      dbo.vueAccountExpenseEntryForReport.AccountBaseCurrencyId, dbo.vueAccountExpenseEntryForReport.TaxAmount, 
                      dbo.vueAccountExpenseEntryForReport.NetAmount AS Amount, dbo.vueAccountExpenseEntryForReport.Submitted, 
                      dbo.vueAccountExpenseEntryForReport.EMailAddress, dbo.vueAccountExpenseEntryForReport.DepartmentName, 
                      dbo.vueAccountExpenseEntryForReport.AccountLocation, dbo.vueAccountExpenseEntryForReport.AccountTaxZone, 
                      dbo.vueAccountExpenseEntryForReport.Quantity, dbo.vueAccountExpenseEntryForReport.Rate, 
                      dbo.vueAccountExpenseEntryForReport.PaymentMethod, dbo.vueAccountExpenseEntryForReport.AccountLocationId, 
                      dbo.vueAccountExpenseEntryForReport.ClientNick, dbo.vueAccountExpenseEntryForReport.ProjectDescription, 
                      dbo.vueAccountExpenseEntryForReport.ProjectCode, dbo.vueAccountExpenseEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployee.EmployeeName AS ApproverEmployeeName, dbo.vueAccountEmployee.EMailAddress AS ApproverEMailAddress, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.SystemApproverType.SystemApproverType, 
                      CASE WHEN dbo.AccountExpenseEntryApproval.IsApproved = 1 THEN ''Approved'' WHEN dbo.AccountExpenseEntryApproval.IsRejected = 1 THEN ''Rejected''
                       END AS Status
FROM         dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath ON dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId RIGHT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId LEFT OUTER JOIN
                      dbo.vueAccountEmployee ON 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId = dbo.vueAccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountExpenseEntryForReport ON 
                      dbo.AccountExpenseEntryApproval.AccountExpenseEntryId = dbo.vueAccountExpenseEntryForReport.AccountExpenseEntryId'
GO
-- Create View vueAccountObjectPermission
Print 'Create View vueAccountObjectPermission'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountObjectPermission' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountObjectPermission
AS
SELECT     dbo.AccountRole.Role, dbo.AccountObjectPermission.AccountObjectPermissionId, dbo.AccountObjectPermission.ShowReport, 
                      dbo.AccountObjectPermission.AllowCustomization, dbo.AccountObjectPermission.AllowAllUser, dbo.AccountObjectPermission.AllowOwnReport, 
                      dbo.AccountObjectPermission.AllowOwnTeam, dbo.AccountObjectPermission.AllowOwnProject, dbo.AccountObjectPermission.AllowOwnSubOrdinates, 
                      dbo.AccountReport.AccountReportCategoryId, dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, 
                      dbo.AccountReport.ReportIconPath, dbo.AccountReport.SystemReportTypeId, dbo.AccountReport.SystemReportId, dbo.AccountReport.IsConsolidated, 
                      dbo.AccountRole.AccountId, dbo.AccountRole.AccountRoleId, dbo.AccountObjectPermission.AccountReportId
FROM         dbo.AccountReport INNER JOIN
                      dbo.AccountObjectPermission ON dbo.AccountReport.AccountReportId = dbo.AccountObjectPermission.AccountReportId RIGHT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountObjectPermission.AccountRoleId = dbo.AccountRole.AccountRoleId'
GO
-- Create View vueSystemReportDataSourceField
Print 'Create View vueSystemReportDataSourceField'
GO
if not exists (select * from information_schema.tables where table_name = 'vueSystemReportDataSourceField' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueSystemReportDataSourceField
AS
SELECT     dbo.SystemReportDataSourceField.SystemReportDataSourceFieldId, dbo.SystemReportDataSourceField.SystemReportDataSourceId, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceField, dbo.SystemReportDataSourceField.SystemReportDataSourceFieldWidth, 
                      dbo.SystemReportDataSourceField.DefaultAvailable, dbo.SystemReportDataSourceField.CurrencyField, dbo.SystemReportDataSourceField.Formula, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldColumnOrder, dbo.SystemReportDataSourceField.SystemReportFieldTypeId, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldCaption, dbo.AccountReportColumn.AccountReportColumnId, 
                      dbo.AccountReportColumn.Caption, dbo.AccountReportColumn.ColumnOrder, dbo.AccountReportColumn.SystemReportCalculationTypeId, 
                      dbo.AccountReport.AccountReportCategoryId, dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, 
                      dbo.AccountReport.ReportIconPath, dbo.AccountReport.AccountId, dbo.AccountReport.AccountReportId, 
                      dbo.SystemReportFieldType.SystemReportFieldType, dbo.SystemReportFieldType.IsAllowSummaryCalculation, 
                      dbo.SystemReportDataSourceField.IsFormulaField, dbo.AccountReportColumn.ColumnFormula
FROM         dbo.SystemReportFieldType RIGHT OUTER JOIN
                      dbo.SystemReportDataSourceField ON 
                      dbo.SystemReportFieldType.SystemReportFieldTypeId = dbo.SystemReportDataSourceField.SystemReportFieldTypeId LEFT OUTER JOIN
                      dbo.AccountReport INNER JOIN
                      dbo.AccountReportColumn ON dbo.AccountReport.AccountReportId = dbo.AccountReportColumn.AccountReportId ON 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldId = dbo.AccountReportColumn.SystemReportDataSourceFieldId'
GO
-- Create View vueSystemSecurityCategoryPage
Print 'Create View vueSystemSecurityCategoryPage'
GO
if not exists (select * from information_schema.tables where table_name = 'vueSystemSecurityCategoryPage' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueSystemSecurityCategoryPage
AS
SELECT     dbo.SystemSecurityCategoryPage.SystemSecurityCategoryPageId, dbo.SystemSecurityCategoryPage.SystemSecurityCategoryId, 
                      dbo.SystemSecurityCategoryPage.SequenceNumber, dbo.SystemSecurityCategoryPage.Folder, 
                      dbo.SystemSecurityCategoryPage.SystemCategoryPage, dbo.SystemSecurityCategoryPage.SystemCategoryPageDescription, 
                      dbo.SystemSecurityCategoryPage.ParentSystemSecurityCateogoryPageId, dbo.SystemSecurityCategoryPage.IsSiteMapPage, 
                      dbo.SystemSecurityCategoryPage.IsCustomizeable, dbo.SystemSecurityCategoryPage.IsAllowAdd, dbo.SystemSecurityCategoryPage.IsAllowEdit, 
                      dbo.SystemSecurityCategoryPage.IsAllowDelete, dbo.SystemSecurityCategoryPage.IsAllowList, dbo.SystemSecurityCategoryPage.IsShowDataOptions, 
                      dbo.SystemSecurityCategoryPage.IsShowTillOptions, dbo.SystemSecurityCategoryPage.IsSystemPage, 
                      dbo.SystemSecurityCategory.SystemSecurityCategory, dbo.SystemSecurityCategoryPage.NotShowInPermission
FROM         dbo.SystemSecurityCategoryPage INNER JOIN
                      dbo.SystemSecurityCategory ON 
                      dbo.SystemSecurityCategoryPage.SystemSecurityCategoryId = dbo.SystemSecurityCategory.SystemSecurityCategoryId AND 
                      dbo.SystemSecurityCategoryPage.SystemSecurityCategoryId = dbo.SystemSecurityCategory.SystemSecurityCategoryId'
GO
-- Create View vueAccountReport
Print 'Create View vueAccountReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReport
AS
SELECT     dbo.AccountReportCategory.AccountReportCategory, dbo.AccountReport.AccountReportId, dbo.AccountReport.AccountReportCategoryId, 
                      dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, dbo.AccountReport.ReportIconPath, dbo.AccountReport.AccountId, 
                      dbo.AccountReport.SystemReportTypeId, dbo.AccountReport.SystemReportId, dbo.AccountReport.IsConsolidated, 
                      dbo.AccountReport.ReportPageName
FROM         dbo.AccountReport LEFT OUTER JOIN
                      dbo.AccountReportCategory ON dbo.AccountReport.AccountReportCategoryId = dbo.AccountReportCategory.AccountReportCategoryId'
GO
-- Create View vueAccountReportColumn
Print 'Create View vueAccountReportColumn'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReportColumn' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReportColumn
AS
SELECT     dbo.AccountReportColumn.AccountReportColumnId, dbo.AccountReportColumn.AccountReportId, dbo.AccountReportColumn.Caption, 
                      dbo.AccountReportColumn.SystemReportDataSourceFieldId, dbo.AccountReportColumn.ColumnOrder, 
                      dbo.AccountReportColumn.SystemReportCalculationTypeId, dbo.AccountReport.AccountReportCategoryId, dbo.AccountReport.ReportName, 
                      dbo.AccountReport.ReportDescription, dbo.AccountReport.ReportIconPath, dbo.AccountReport.AccountId, 
                      dbo.SystemReportFieldType.SystemReportFieldType, dbo.SystemReportDataSource.ReportDataSourceName, 
                      dbo.SystemReportDataSource.ReportDatasource, dbo.SystemReportDataSource.ReportDataSourceType, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceField, dbo.SystemReportDataSourceField.SystemReportDataSourceFieldWidth, 
                      dbo.SystemReportDataSourceField.DefaultAvailable, dbo.SystemReportDataSourceField.CurrencyField, dbo.SystemReportDataSourceField.Formula, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldColumnOrder, dbo.SystemReportDataSourceField.SystemReportFieldTypeId, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldCaption, dbo.SystemReportDataSourceField.SystemReportDataSourceId, 
                      dbo.AccountReportColumn.ColumnFormula
FROM         dbo.AccountReportColumn INNER JOIN
                      dbo.AccountReport ON dbo.AccountReportColumn.AccountReportId = dbo.AccountReport.AccountReportId INNER JOIN
                      dbo.SystemReportDataSourceField ON 
                      dbo.AccountReportColumn.SystemReportDataSourceFieldId = dbo.SystemReportDataSourceField.SystemReportDataSourceFieldId INNER JOIN
                      dbo.SystemReportDataSource ON 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceId = dbo.SystemReportDataSource.SystemReportDataSourceId INNER JOIN
                      dbo.SystemReportFieldType ON dbo.SystemReportDataSourceField.SystemReportFieldTypeId = dbo.SystemReportFieldType.SystemReportFieldTypeId'
GO
-- Create View vueAccountReportColumnWithReportGroup
Print 'Create View vueAccountReportColumnWithReportGroup'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReportColumnWithReportGroup' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReportColumnWithReportGroup
AS
SELECT     dbo.AccountReportColumn.AccountReportColumnId, dbo.AccountReportColumn.AccountReportId, dbo.AccountReportColumn.Caption, 
                      dbo.AccountReportColumn.SystemReportDataSourceFieldId, dbo.AccountReportColumn.ColumnOrder, dbo.AccountReportGroup.AccountReportGroupId, 
                      dbo.AccountReportGroup.ReportGroup, dbo.AccountReportGroup.ReportGroupFieldLabel, dbo.AccountReportGroup.ReportGroupFieldOrder
FROM         dbo.AccountReportColumn INNER JOIN
                      dbo.AccountReportGroup ON dbo.AccountReportColumn.AccountReportId = dbo.AccountReportGroup.AccountReportId'
GO
-- Create View vueAccountReportDataSourceMapping
Print 'Create View vueAccountReportDataSourceMapping'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReportDataSourceMapping' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReportDataSourceMapping
AS
SELECT     dbo.AccountReportDataSourceMapping.*, dbo.SystemReportDataSource.ReportDataSourceName, dbo.SystemReportDataSource.ReportDatasource, 
                      dbo.SystemReportDataSource.ReportDataSourceType
FROM         dbo.AccountReportDataSourceMapping INNER JOIN
                      dbo.SystemReportDataSource ON 
                      dbo.AccountReportDataSourceMapping.SystemReportDataSourceId = dbo.SystemReportDataSource.SystemReportDataSourceId'
GO
-- Create View vueAccountReportFilter
Print 'Create View vueAccountReportFilter'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReportFilter' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReportFilter
AS
SELECT     dbo.SystemReportDataSource.ReportDataSourceName, dbo.SystemReportDataSource.ReportDatasource, 
                      dbo.SystemReportDataSource.ReportDataSourceType, dbo.SystemReportDataSource.SystemReportDataSourceId, dbo.AccountReport.AccountReportId, 
                      dbo.AccountReport.AccountReportCategoryId, dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, 
                      dbo.AccountReport.ReportIconPath, dbo.AccountReport.AccountId, dbo.AccountReportDataSourceMapping.AccountReportDataSourceMappingId, 
                      dbo.SystemReportFilterSourceMapping.IsRequired, dbo.SystemReportFilterSourceMapping.IsAllowAll, 
                      dbo.SystemReportFilterSourceMapping.SystemReportFilterMappingId, dbo.SystemReportFilterSource.SystemReportFilterSource, 
                      dbo.SystemReportFilterSource.SystemReportFilterSourceId, dbo.SystemReportFilterSource.ClassName, dbo.SystemReportFilterSource.ClassFunction, 
                      dbo.SystemReportFilterSource.ParameterName1, dbo.SystemReportFilterSource.Caption, dbo.SystemReportFilterSource.FilterSourceType, 
                      dbo.SystemReportFilterSource.FilterSource, dbo.SystemReportFilterSource.FilterOperator, dbo.SystemReportFilterSource.IsOptional, 
                      dbo.SystemReportFilterSource.FilterField, dbo.SystemReportFilterSource.ParentFilterSource, 
                      dbo.SystemReportFilterSourceMapping.FilterSequence
FROM         dbo.AccountReportDataSourceMapping INNER JOIN
                      dbo.AccountReport ON dbo.AccountReportDataSourceMapping.AccountReportId = dbo.AccountReport.AccountReportId INNER JOIN
                      dbo.SystemReportDataSource ON 
                      dbo.AccountReportDataSourceMapping.SystemReportDataSourceId = dbo.SystemReportDataSource.SystemReportDataSourceId INNER JOIN
                      dbo.SystemReportFilterSourceMapping ON 
                      dbo.SystemReportDataSource.SystemReportDataSourceId = dbo.SystemReportFilterSourceMapping.SystemReportDataSourceId INNER JOIN
                      dbo.SystemReportFilterSource ON 
                      dbo.SystemReportFilterSourceMapping.SystemReportFilterSourceId = dbo.SystemReportFilterSource.SystemReportFilterSourceId'
GO
-- Create View vueAccountReportGroup
Print 'Create View vueAccountReportGroup'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReportGroup' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReportGroup
AS
SELECT     dbo.AccountReportGroup.AccountReportGroupId, dbo.AccountReportGroup.AccountReportId, dbo.AccountReportGroup.ReportGroup, 
                      dbo.AccountReportGroup.ReportGroupFieldLabel, dbo.AccountReportGroup.ReportGroupFieldOrder, 
                      dbo.AccountReportGroup.SystemReportDataSourceFieldId, dbo.SystemReportDataSourceField.SystemReportDataSourceId, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceField, dbo.SystemReportDataSourceField.SystemReportDataSourceFieldWidth, 
                      dbo.SystemReportDataSourceField.DefaultAvailable, dbo.SystemReportDataSourceField.CurrencyField, dbo.SystemReportDataSourceField.Formula, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldColumnOrder, dbo.SystemReportDataSourceField.SystemReportFieldTypeId, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldCaption, dbo.SystemReportDataSource.ReportDataSourceName, 
                      dbo.SystemReportDataSource.ReportDatasource, dbo.SystemReportDataSource.ReportDataSourceType, 
                      dbo.SystemReportFieldType.SystemReportFieldType, dbo.AccountReport.AccountReportCategoryId, dbo.AccountReport.ReportName, 
                      dbo.AccountReport.ReportDescription, dbo.AccountReport.ReportIconPath, dbo.AccountReport.AccountId
FROM         dbo.AccountReportGroup INNER JOIN
                      dbo.SystemReportDataSourceField ON 
                      dbo.AccountReportGroup.SystemReportDataSourceFieldId = dbo.SystemReportDataSourceField.SystemReportDataSourceFieldId INNER JOIN
                      dbo.SystemReportDataSource ON 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceId = dbo.SystemReportDataSource.SystemReportDataSourceId INNER JOIN
                      dbo.SystemReportFieldType ON 
                      dbo.SystemReportDataSourceField.SystemReportFieldTypeId = dbo.SystemReportFieldType.SystemReportFieldTypeId INNER JOIN
                      dbo.AccountReport ON dbo.AccountReportGroup.AccountReportId = dbo.AccountReport.AccountReportId'
GO
-- Create View vueAccountReportSummary
Print 'Create View vueAccountReportSummary'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReportSummary' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReportSummary
AS
SELECT     dbo.AccountReportSummary.AccountReportSummaryId, dbo.AccountReportSummary.AccountReportGroupId, 
                      dbo.AccountReportSummary.AccountReportId, dbo.AccountReportSummary.SystemReportCalculationTypeId, 
                      dbo.AccountReportSummary.AccountReportColumnId, dbo.AccountReportSummary.SummaryCaption, dbo.AccountReportSummary.IsShowGroupTotal, 
                      dbo.AccountReportSummary.IsShowGrandTotal, dbo.SystemReportCalculationType.CalculationType, dbo.AccountReportGroup.ReportGroup, 
                      dbo.AccountReportGroup.ReportGroupFieldLabel, dbo.AccountReportGroup.ReportGroupFieldOrder, dbo.AccountReportColumn.Caption, 
                      dbo.AccountReportColumn.ColumnOrder, dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, dbo.AccountReport.ReportIconPath, 
                      dbo.AccountReport.AccountId, dbo.SystemReportDataSource.ReportDataSourceName, dbo.SystemReportDataSource.ReportDatasource, 
                      dbo.SystemReportDataSource.ReportDataSourceType, dbo.SystemReportDataSourceField.SystemReportDataSourceField, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldWidth, dbo.SystemReportDataSourceField.DefaultAvailable, 
                      dbo.SystemReportDataSourceField.CurrencyField, dbo.SystemReportDataSourceField.Formula, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldColumnOrder, dbo.SystemReportDataSourceField.SystemReportFieldTypeId, 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceFieldCaption, dbo.SystemReportFieldType.SystemReportFieldType, 
                      dbo.SystemReportDataSourceField.ShowCurrencyCodeInSummary
FROM         dbo.AccountReportSummary INNER JOIN
                      dbo.SystemReportCalculationType ON 
                      dbo.AccountReportSummary.SystemReportCalculationTypeId = dbo.SystemReportCalculationType.SystemReportCalculationTypeId INNER JOIN
                      dbo.AccountReportColumn ON dbo.AccountReportSummary.AccountReportColumnId = dbo.AccountReportColumn.AccountReportColumnId INNER JOIN
                      dbo.AccountReport ON dbo.AccountReportSummary.AccountReportId = dbo.AccountReport.AccountReportId INNER JOIN
                      dbo.SystemReportDataSourceField ON 
                      dbo.AccountReportColumn.SystemReportDataSourceFieldId = dbo.SystemReportDataSourceField.SystemReportDataSourceFieldId INNER JOIN
                      dbo.SystemReportDataSource ON 
                      dbo.SystemReportDataSourceField.SystemReportDataSourceId = dbo.SystemReportDataSource.SystemReportDataSourceId INNER JOIN
                      dbo.SystemReportFieldType ON 
                      dbo.SystemReportDataSourceField.SystemReportFieldTypeId = dbo.SystemReportFieldType.SystemReportFieldTypeId LEFT OUTER JOIN
                      dbo.AccountReportGroup ON dbo.AccountReportSummary.AccountReportGroupId = dbo.AccountReportGroup.AccountReportGroupId'
GO
-- Create View rptvueAccountEmployees
Print 'Create View rptvueAccountEmployees'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployees' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployees
AS
SELECT     dbo.vueAccountEmployeesForReport.*
FROM         dbo.vueAccountEmployeesForReport'
GO
-- Create View rptvueAccountEmployeeTimeEntry
Print 'Create View rptvueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntry
AS
SELECT     dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskName, dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeadApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerApproved, dbo.vueAccountEmployeeTimeEntryForReport.AdministratorApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Description, dbo.vueAccountEmployeeTimeEntryForReport.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, dbo.vueAccountEmployeeTimeEntryForReport.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryForReport.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Submitted, dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenter, dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.Amount, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountBaseCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AmountCurrencyCode, CASE WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 1 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountEmployeeTimeEntryForReport.Approved = 1 THEN ''Approved''
                       WHEN vueAccountEmployeeTimeEntryForReport.Rejected = 1 THEN ''Rejected'' WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountPriorityId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskType, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.MilestoneDescription, dbo.vueAccountEmployeeTimeEntryForReport.Priority, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApprovedOn, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyCode
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.vueAccountEmployeeTimeEntryWithLastStatus ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryWithLastStatus.AccountEmployeeTimeEntryId'
GO
-- Create View rptvueAccountExpenseEntry
Print 'Create View rptvueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountExpenseEntry
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount AS NetAmount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, Approved, 
                      CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, ClientName, AccountClientId, Description, ExpenseType, 
                      AccountExpenseTypeId, LeaderEmployeeId, IsBillable, Rejected, EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, 
                      QuantityFieldCaption, AccountBaseCurrencyId, ExchangeRate, TaxAmount, NetAmount AS Amount, Submitted, TimeSheetApprovalTypeId, 
                      ExpenseApprovalTypeId, ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, 
                      Quantity, Rate, PaymentMethod, AccountLocationId, ClientNick, ProjectDescription, ProjectCode, DepartmentCode, 
                      CASE WHEN vueAccountExpenseEntryForReport.Submitted = 1 AND 
                      vueAccountExpenseEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountExpenseEntryForReport.Approved = 1 THEN ''Approved'' WHEN vueAccountExpenseEntryForReport.Rejected
                       = 1 THEN ''Rejected'' WHEN vueAccountExpenseEntryForReport.Submitted = 0 AND vueAccountExpenseEntryForReport.Approved = 0 AND 
                      vueAccountExpenseEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, Comments AS ApproverComments, ApprovedOn
FROM         dbo.vueAccountExpenseEntryForReport'
GO
-- Create View rptvueAccountEmployeeAttendance
Print 'Create View rptvueAccountEmployeeAttendance'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeAttendance' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeAttendance
AS
SELECT     AbsenceDescription, AttendanceDate, [In], TimeIn, Out, TimeOut, EmployeeName, EmployeeCode, AccountEmployeeId, AccountId
FROM         dbo.vueAccountEmployeeAttendanceForReport'
GO
-- Create View rptvueAccountClients
Print 'Create View rptvueAccountClients'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountClients' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountClients
AS
SELECT     AccountClientId, ClientTypeId, AccountId, ClientName, ClientNick, EMailAddress, Address1, Address2, CountryId, State, City, ZipCode, Telephone1, 
                      Telephone2, Fax, DefaultCurrencyId, DefaultBillingRate, Website, Notes, IsDisabled, IsDeleted, CreatedOn, CreatedByEmployeeId, ModifiedOn, 
                      ModifiedByEmployeeId, Country
FROM         dbo.vueAccountClientForReport'
GO
-- Create View rptvueAccountDepartments
Print 'Create View rptvueAccountDepartments'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountDepartments' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountDepartments
AS
SELECT     dbo.AccountDepartment.AccountDepartmentId, dbo.AccountDepartment.AccountId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountDepartment.IsDisabled
FROM         dbo.AccountDepartment INNER JOIN
                      dbo.Account ON dbo.AccountDepartment.AccountId = dbo.Account.AccountId'
GO
-- Create View rptvueAccountEmployeeAbsence
Print 'Create View rptvueAccountEmployeeAbsence'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeAbsence' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeAbsence
AS
SELECT     dbo.vueAccountEmployeeAbsenceForReport.*
FROM         dbo.vueAccountEmployeeAbsenceForReport'
GO
-- Create View rptvueAccountLocations
Print 'Create View rptvueAccountLocations'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountLocations' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountLocations
AS
SELECT     dbo.AccountLocation.AccountLocation, dbo.AccountLocation.IsDisabled, dbo.AccountLocation.AccountLocationId, dbo.AccountLocation.AccountId
FROM         dbo.AccountLocation INNER JOIN
                      dbo.Account ON dbo.AccountLocation.AccountId = dbo.Account.AccountId'
GO
-- Create View rptvueTimeEntryApprovalActivity
Print 'Create View rptvueTimeEntryApprovalActivity'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueTimeEntryApprovalActivity' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueTimeEntryApprovalActivity
AS
SELECT     TimeSheetApprovalId, AccountEmployeeTimeEntryId, TimeSheetApprovalTypeId, TimeSheetApprovalPathId, ApprovedByEmployeeId, ApprovedOn, 
                      Comments, IsReject, IsApproved, EmployeeName, ProjectName, TaskName, TotalTime, StartTime, EndTime, TimeEntryDate, ClientName, 
                      EMailAddress, ApproverComments, TotalHours, Approved, AccountEmployeeId, AccountProjectId, Description, AccountId, TotalMinutes, AccountClientId, 
                      AccountProjectTaskId, BillingType, IsBillable, Rejected, BillingRate, AccountDepartmentId, DepartmentName, ProjectCode, TaskCode, ClientNick, 
                      ApprovalTypeName, SystemApproverType, ApproverEmployeeName, ApproverEmailAddress, Submitted, Status, EmployeeCode
FROM         dbo.vueTimeEntryApprovalActivityForReport'
GO
-- Create View rptvueExternalUsers
Print 'Create View rptvueExternalUsers'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueExternalUsers' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueExternalUsers
AS
SELECT     ExternalUserId, Password, Prefix, FirstName, LastName, MiddleName, EMailAddress, AccountId, AccountDepartmentId, AccountRoleId, 
                      AccountLocationId, Notes, AddressLine1, AddressLine2, State, City, Zip, CountryId, HomePhoneNo, WorkPhoneNo, MobilePhoneNo, 
                      TimeEntryApprovalPathId, BillingRateStateDate, BillingTypeId, StartDate, TerminationDate, StatusId, IsDeleted, IsDisabled, DefaultProjectId, 
                      TimeZoneId, DefaultEmployee, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, AllowedAccessFromIP, AccountClientId, 
                      EmployeeTypeId, AccountBillingRateId, Username, EmployeeCode, EmployeeManagerId, ClientNick, ClientName, Role, ExternalUser
FROM         dbo.vueAccountExternalUserForReport'
GO
-- Create View rptvueAccountProjects
Print 'Create View rptvueAccountProjects'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountProjects' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountProjects
AS
SELECT     AccountProjectId, AccountId, AccountProjectTypeId, AccountClientId, ProjectBillingTypeId, ProjectName, ProjectDescription, StartDate, 
                      AccountMilestoneId, Deadline, LeaderEmployeeId, ProjectManagerEmployeeId, EstimatedTime, EstimatedDurationUnit, ProjectCode, 
                      DefaultBillingRate, IsActive, ProjectStatusId, AccountPriorityId, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, 
                      ProjectBillingRateTypeId, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, IsDisabled, IsTemplate, IsProject, AccountProjectTemplateId, ClientNick, 
                      ClientName, ProjectType, BillingType, Status, EstimatedDuration, AccountClientContactId, AccountClientDepartmentId, ClientDepartmentCode, 
                      ClientDepartmentName, ClientDepartmentLocation, ExpenseApprovalTypeName, TimesheetApprovalTypeName, ClientContactName, TeamLead, 
                      ProjectManager, ProjectBillingRateType
FROM         dbo.vueAccountProjectsForReport'
GO
-- Create View rptvueAccountProjectTasks
Print 'Create View rptvueAccountProjectTasks'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountProjectTasks
AS
SELECT     AccountProjectTaskId, AccountProjectId, ParentAccountProjectTaskId, TaskName, TaskDescription, AccountTaskTypeId, Duration, DeadlineDate, 
                      CompletedPercent, Completed, IsParentTask, IsForAllEmployees, AccountPriorityId, TaskStatusId, CreatedOn, CreatedByEmployeeId, ModifiedOn, 
                      ModifiedByEmployeeId, TaskStatus, CreatedByFirstName, CreatedByLastName, Priority, ProjectName, ProjectCode, TaskType, AccountId, 
                      AccountProjectMilestoneId, MilestoneDescription, IsReOpen, ModifiedByFirstName, ModifiedByLastName, EstimatedCost, EstimatedTimeSpentUnit, 
                      AccountEmployeeId, IsDisabled, TaskCode, IsTemplate, IsForAllProjectTask, IsBillable, AccountClientId, ClientNick, ClientName, ParentTaskName, 
                      EstimatedHours
FROM         dbo.vueAccountProjectTaskForReport'
GO
-- Create View rptvueExpenseEntryApprovalActivity
Print 'Create View rptvueExpenseEntryApprovalActivity'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueExpenseEntryApprovalActivity' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueExpenseEntryApprovalActivity
AS
SELECT     ExpenseApprovalId, AccountExpenseEntryId, ExpenseApprovalTypeId, ExpenseApprovalPathId, ApprovedByEmployeeId, ApprovedOn, Comments, 
                      IsRejected, IsApproved, EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount, Approved, ClientName, AccountClientId, Description, ExpenseType, AccountExpenseTypeId, IsBillable, 
                      Rejected, EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, ExchangeRate, AccountBaseCurrencyId, TaxAmount, NetAmount, Submitted, 
                      EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, PaymentMethod, AccountLocationId, ClientNick, ProjectDescription,
                       ProjectCode, DepartmentCode, ApproverEmployeeName, ApproverEMailAddress, ApprovalTypeName, SystemApproverType, Status
FROM         dbo.vueExpenseEntryApprovalActivityForReport'

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportCalculationType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportCalculationType]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportCalculationType] WHERE [SystemReportCalculationTypeId] = '40b98200-4657-42a6-9173-e563ac8683c2')
BEGIN
INSERT INTO [dbo].[SystemReportCalculationType] ([SystemReportCalculationTypeId], [CalculationType], [ExcludeForCalculationSummary]) VALUES ('40b98200-4657-42a6-9173-e563ac8683c2', N'Count', 1)
INSERT INTO [dbo].[SystemReportCalculationType] ([SystemReportCalculationTypeId], [CalculationType], [ExcludeForCalculationSummary]) VALUES ('d3c0763b-8f05-4fd5-aa69-37dbe17479ef', N'Sum', 0)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSource]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportDataSource] WHERE [SystemReportDataSourceId] = '3a080202-6842-4eca-8c79-a945978810b4')
BEGIN
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('3a080202-6842-4eca-8c79-a945978810b4', N'Time Entry', N'rptvueAccountEmployeeTimeEntry', N'View', N'/Images/DetailTimeSheetReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('1e657f0a-881b-4f50-839a-c3a962c9a460', N'Tasks', N'rptvueAccountProjectTasks', N'View', N'/Images/TaskSummaryReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('725d942c-6e62-41b4-b785-5325f34bde2b', N'Departments', N'rptvueAccountDepartments', N'View', N'/Images/DepartmentsReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('44d99754-217d-400c-8847-8e46ca6b7641', N'External Users', N'rptvueExternalUsers', N'View', N'/Images/ExternalUsersReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Expense Entry', N'rptvueAccountExpenseEntry', N'View', N'/Images/DetailExpenseReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('d8b6136f-4e25-4323-85be-e3f62fe405b1', N'Clients', N'rptvueAccountClients', N'View', N'/Images/ClientsReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('96805a70-5415-44d8-a8db-5f0e148ea357', N'Absence', N'rptvueAccountEmployeeAbsence', N'View', N'/Images/AbsenceDetailReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('a5187c80-820c-4092-ae6d-630645bb8f0a', N'Attendance', N'rptvueAccountEmployeeAttendance', N'View', N'/Images/AttendanceDetailReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'Time Entry Approval Activity', N'rptvueTimeEntryApprovalActivity', N'View', N'/Images/TimesheetApprovalActivity.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'Projects', N'rptvueAccountProjects', N'View', N'/Images/ProjectReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Expense Entry Approval Activity', N'rptvueExpenseEntryApprovalActivity', N'View', N'/Images/ExpenseApprovalActivity.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'Employees', N'rptvueAccountEmployees', N'View', N'/Images/EmployeeReport.gif')
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('a59652ee-ae5c-44a2-8654-267204e3f248', N'Locations', N'rptvueAccountLocations', N'View', N'/Images/LocationReport.gif')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportDataSourceField] WHERE [SystemReportDataSourceId] = 'd8b6136f-4e25-4323-85be-e3f62fe405b1')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('62d68300-a782-469c-b05d-ad0a0acd595f', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Telephone1', 130, 1, NULL, NULL, 11, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Telephone1', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ec779001-7322-433e-ab04-89540fb04523', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'FormulaField5', 150, 0, NULL, NULL, 20, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ec417b02-da3b-4846-9c8c-540397aec434', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'IsForAllEmployees', 130, 1, NULL, NULL, 18, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is For All Employees', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8646b502-c6bc-487c-b1a0-e1f5b6663a6c', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'AccountTaxZone', 125, 0, NULL, NULL, 21, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Tax Zone', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9f854204-38e1-4374-bc05-5b00cbc0c9a8', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ProjectDescription', 300, 1, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('bb92b004-8254-4251-ae0b-e1fc2eca82cc', '3a080202-6842-4eca-8c79-a945978810b4', N'Approved', 70, 1, NULL, NULL, 18, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Approved', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('851b3d06-b5da-443d-b11f-ba8f3c4058a8', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ExpenseApprovalTypeName', 200, 0, NULL, NULL, 20, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Expense Approval Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('736b5506-b05b-4c98-9a92-b6ecc231ee10', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'PaymentMethod', 125, 0, NULL, NULL, 20, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Payment Method', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1ec5df06-bd7c-4f01-aba2-02927ed72db3', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ClientDepartmentName', 250, 0, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Department Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ede80707-2862-4580-9705-57093a8fd9c9', '725d942c-6e62-41b4-b785-5325f34bde2b', N'FormulaField1', 150, 0, NULL, NULL, 4, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('60ba2507-b956-435b-8e11-6ee3cc8ca465', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Amount', 110, 0, N'CurrencyCode', NULL, 9, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0a15bd07-0ee1-4b06-9948-2d05d02fe468', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'CompletedPercent', 95, 1, NULL, NULL, 15, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Completed (%)', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0fc8c808-60d8-405e-b8fd-1d0ac23376ce', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Notes', 350, 1, NULL, NULL, 15, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Notes', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4bf2c409-81b1-4cd0-bfc9-bc33329c1e67', '3a080202-6842-4eca-8c79-a945978810b4', N'TaskType', 80, 0, NULL, NULL, 23, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f79f310a-2c8b-452e-9fc8-6febef790d46', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'EmployeeCode', 100, 0, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e94e5f0b-43a9-4fe5-9e78-1e5d5e19296c', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ProjectCode', 115, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('11b98c0b-e4a8-46d5-805e-2c3500081e7d', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'EndTime', 75, 0, NULL, NULL, 16, '4af62dd1-d310-48fc-ac2f-9694ee0bf323', N'End Time', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('28f9080c-8b72-4126-8d13-96658b8c8046', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Website', 200, 1, NULL, NULL, 14, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Website', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8ba51c0c-6e88-40d9-b5ac-ce848bd1a151', 'a59652ee-ae5c-44a2-8654-267204e3f248', N'AccountLocationId', 100, 1, NULL, NULL, 1, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Location Id', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6eae340e-e575-4745-a50f-fa8c18c91cec', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'FormulaField2', 150, 0, NULL, NULL, 20, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6d5bc20f-8e31-485c-9276-bda406ea7096', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ProjectCode', 125, 0, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1a0f5010-a994-47c5-956b-3dbb7f21e05c', '3a080202-6842-4eca-8c79-a945978810b4', N'AccountCostCenter', 130, 1, NULL, NULL, 10, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Cost Center', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('73442e11-56e7-4a6f-8442-9b5e0da1afa9', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'ClientName', 250, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('42393a11-5105-41ed-88c9-8572e9dc0b3a', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'TaxAmount', 80, 0, N'CurrencyCode', NULL, 10, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Tax', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('76b52512-6e34-4901-b575-b8a0c9a09a2e', '96805a70-5415-44d8-a8db-5f0e148ea357', N'AttendanceDate', 90, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('240d4313-6874-4c3e-b7ad-3ffb4fd3ed14', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'AccountExpenseEntryDate', 90, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0b4c8813-0d1f-4f9d-b323-d38d587c4703', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Approved', 70, 1, NULL, NULL, 14, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Approved', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f45bc615-b41a-4530-b901-6318467aecc5', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'TimeIn', 80, 1, NULL, NULL, 4, '407f7b3f-ab83-4e95-a343-9bfafb746f4d', N'Time In', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('033efa16-ee2e-4e9a-a5af-ba4d4a021d31', '96805a70-5415-44d8-a8db-5f0e148ea357', N'AbsenceDescription', 150, 1, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Absence Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('dc035b18-d8ce-4b6b-82f4-15ba12274eb7', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'IsActive', 60, 1, NULL, NULL, 21, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is Active', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('daf2b619-50fd-4afe-9e3b-4f48587ac18b', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'FormulaField4', 150, 0, NULL, NULL, 27, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c0a8d719-b9c3-4bce-a327-7030705ec9fa', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'PaymentMethod', 125, 0, NULL, NULL, 20, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Payment Method', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9736301a-0eca-4746-aa39-1d28c9c7137c', 'a59652ee-ae5c-44a2-8654-267204e3f248', N'FormulaField1', 150, 0, NULL, NULL, 3, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('96fb1b1b-51a5-4683-9142-c8f51ffcf3cd', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'SystemApproverType', 125, 0, NULL, NULL, 19, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('09c31c1b-b034-4720-9c6f-270cefbb05c7', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Fax', 130, 1, NULL, NULL, 13, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Fax', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f2011f1c-efe6-4405-8549-c7838eee9cb6', '725d942c-6e62-41b4-b785-5325f34bde2b', N'FormulaField5', 150, 0, NULL, NULL, 8, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0d3baf1d-5836-4842-890f-0ff3392512cf', '3a080202-6842-4eca-8c79-a945978810b4', N'DepartmentCode', 115, 0, NULL, NULL, 34, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('80dcaf1d-d38b-4ccb-93d5-71fe9f5fb8de', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ClientName', 250, 0, NULL, NULL, 21, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3d67b91f-30f2-40a9-bd2d-1ffc7fc83162', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'TaskCode', 125, 0, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6e406a20-0532-4f01-9268-227c6003fb13', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'TaskName', 275, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('bf4da120-de4d-4fd7-b1e5-9a844e7bce3f', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'ParentTaskName', 275, 0, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Parent Task Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9626c520-556b-4048-8628-aae5cada79e7', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'FormulaField3', 150, 0, NULL, NULL, 9, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7d35a921-e28a-41e4-8afd-1da3705ced7c', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'FormulaField5', 150, 0, NULL, NULL, 33, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4449cb22-4951-4b95-86af-570fcfcd705c', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'TimeOut', 80, 1, NULL, NULL, 5, '407f7b3f-ab83-4e95-a343-9bfafb746f4d', N'Time Out', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fc090d23-e9b6-4832-a361-055cce9f14d1', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'FormulaField4', 150, 0, NULL, NULL, 22, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a6badf23-ddf6-460a-9e33-8caf58d74a89', '44d99754-217d-400c-8847-8e46ca6b7641', N'FormulaField4', 150, 0, NULL, NULL, 10, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('54e9f825-f8ff-4ab7-8c64-51ed7a3e72b0', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Description', 250, 1, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f1313626-05df-4f19-b5da-4d47b8e85c27', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'FormulaField5', 150, 0, NULL, NULL, 28, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b0bd8827-0586-49e4-bc1e-e002593af1c9', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ProjectCode', 125, 0, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6b1ea527-296c-4b74-a2e7-9675eeb325b1', '44d99754-217d-400c-8847-8e46ca6b7641', N'FormulaField3', 150, 0, NULL, NULL, 9, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('55fcc427-98b5-4bfe-bfd4-f758173dcf03', '3a080202-6842-4eca-8c79-a945978810b4', N'ProjectName', 250, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('72c09728-d368-44a3-8ace-24cd5234b1ec', '44d99754-217d-400c-8847-8e46ca6b7641', N'FormulaField2', 150, 0, NULL, NULL, 8, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('093fbf2a-1067-4bee-a1c0-196e19ff2948', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ClientName', 250, 0, NULL, NULL, 24, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ed021c2b-f2dd-4bcd-af68-ecf1a23816a4', '3a080202-6842-4eca-8c79-a945978810b4', N'AccountWorkType', 115, 1, NULL, NULL, 8, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Work Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2b125b2f-5d7e-4a44-b530-92a403060051', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'Duration', 70, 1, NULL, NULL, 11, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Duration', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c2319430-fa75-44ab-b82d-8a809f85606c', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ProjectName', 250, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('be2ce330-d242-4841-a640-977a7c567115', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'AccountExpenseName', 200, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Expense Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('54dfcb31-cb19-4a6b-b1b3-3acdaf95e686', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ClientName', 250, 1, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('166d6d32-8cc4-4149-bee1-b1a9ea5ccabb', '96805a70-5415-44d8-a8db-5f0e148ea357', N'EmployeeCode', 100, 0, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('767f7132-026b-4b6f-aa8b-ea3fd79783cc', '3a080202-6842-4eca-8c79-a945978810b4', N'AccountLocation', 150, 0, NULL, NULL, 36, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Location Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e8417934-f030-45cc-a795-30871162991e', 'a59652ee-ae5c-44a2-8654-267204e3f248', N'FormulaField2', 150, 0, NULL, NULL, 4, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('24f39034-6f4f-46c7-9e7d-873a8ca89a90', '44d99754-217d-400c-8847-8e46ca6b7641', N'ClientNick', 80, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b6f51c36-b1eb-4a37-9592-ce2fd8284505', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'ClientNick', 100, 1, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('32446236-b8d2-4ea1-9816-c2d64d0cfd4a', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'DepartmentName', 175, 0, NULL, NULL, 29, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('680db736-2ec4-4129-a46e-6ba7dfafd83d', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'StartDate', 110, 0, NULL, NULL, 14, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Project Start Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('87b64237-01f7-48cb-a0af-a63b07b2e451', '96805a70-5415-44d8-a8db-5f0e148ea357', N'FormulaField4', 150, 0, NULL, NULL, 8, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('82c88337-4e26-44a9-847b-e1e2ba6b5733', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'EMailAddress', 240, 0, NULL, NULL, 22, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5bd0e838-94a3-4aac-a93b-c70b2b4c57e2', '3a080202-6842-4eca-8c79-a945978810b4', N'ApproverComments', 275, 0, NULL, NULL, 20, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver''s Comments', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d515ed38-0c96-4742-a0c3-26aa0608ca80', '3a080202-6842-4eca-8c79-a945978810b4', N'Description', 325, 1, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('adefaf39-4f4f-4764-80cc-383aec6cdfd7', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Quantity', 80, 0, NULL, NULL, 18, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Quantity', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8923323c-14ab-49aa-87c2-d12e950da53b', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ProjectName', 250, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2252853d-a1ea-4c39-a040-218f60b542c2', '3a080202-6842-4eca-8c79-a945978810b4', N'CurrencyAmount', 115, 1, N'ParameterCurrencyCode', N'IIF(BillingRateExchangeRate = 0,0,(Amount/BillingRateExchangeRate)*ParameterCurrencyExchangeRate)', 14, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Currency Amount', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('aa6de240-ffae-4e45-b097-a900e3620e03', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'TaskStatus', 80, 1, NULL, NULL, 14, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e39bc241-f9f0-451c-a846-ab2e5ae3b342', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'City', 120, 1, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'City', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7f415d42-7d08-4233-8f1c-1994e12eccaf', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ApprovedOn', 90, 1, NULL, NULL, 13, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Approval Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('be16a042-e9b1-42fe-9be4-4a5256b0ddd3', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'MilestoneDescription', 250, 1, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Milestone Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7001bb42-05be-4161-9df9-184e56ca0ec4', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ClientNick', 125, 0, NULL, NULL, 24, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('72f9e042-e197-40d5-99bf-8f113f9de9b0', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'NetAmount', 110, 1, N'CurrencyCode', NULL, 11, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Net Amount', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('89578745-857e-40f6-8fe5-8c94e9bfb0ed', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'IsForAllProjectTask', 135, 1, NULL, NULL, 19, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is For All Project Task', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2bb6bb46-2e40-4b06-981d-40d9078ce6cf', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ClientContactName', 250, 0, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Contact Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3f662f48-264b-48fa-bb1d-dbfdafedaf05', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'TaskCode', 100, 1, NULL, NULL, 1, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('73fa6a48-8bc7-46df-9bc2-4b477b0b511f', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'EstimatedCost', 130, 1, NULL, NULL, 22, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Task Estimated Cost', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d7974749-9584-4861-9e3a-ff29bbc8b266', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'EMailAddress', 230, 1, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0ebde749-0376-4cd0-8504-340b0c0caa4f', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'HomePhoneNo', 130, 0, NULL, NULL, 16, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Home Phone No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('bbf83e4a-27b4-46b6-900d-21f377d460ed', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'FormulaField3', 150, 0, NULL, NULL, 26, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4b9ba24a-279b-4e16-961f-bff4b12393ab', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'ZipCode', 60, 1, NULL, NULL, 8, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Zip Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c4b6334b-0821-4df3-8d58-e2ff8032e55c', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'EMailAddress', 240, 0, NULL, NULL, 27, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1b94b94b-8cd2-4726-ae14-e5737c133a80', '3a080202-6842-4eca-8c79-a945978810b4', N'MilestoneDescription', 250, 0, NULL, NULL, 28, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Milestone Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f7b5f74b-d571-4ba1-942b-f57f761ab8e4', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'AccountExpenseName', 200, 1, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Expense Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f5014b4c-e772-4204-8fe1-7eb3b9eff438', '3a080202-6842-4eca-8c79-a945978810b4', N'Rejected', 70, 1, NULL, NULL, 19, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Rejected', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('83fabc4c-21f2-44ae-a170-da70e01bc6aa', '44d99754-217d-400c-8847-8e46ca6b7641', N'ClientName', 250, 1, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9fd3a94d-8747-4bc0-9a19-9b987f81ce64', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'TaxAmount', 80, 1, N'CurrencyCode', NULL, 9, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Tax', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('39427c4e-fa0b-4062-aac4-23bd230edbf3', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'FormulaField2', 150, 0, NULL, NULL, 25, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d833c94f-91f7-4980-89a0-b38f25ec656f', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'ProjectName', 250, 1, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('77986651-0bdb-46e9-a370-d10b4a79581d', '44d99754-217d-400c-8847-8e46ca6b7641', N'FormulaField5', 150, 0, NULL, NULL, 11, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('53228c51-9ec0-4c7b-a64e-6f91cb748e68', 'a59652ee-ae5c-44a2-8654-267204e3f248', N'FormulaField5', 150, 0, NULL, NULL, 7, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('54556b52-68c0-4399-a701-df13fcfb4737', 'a59652ee-ae5c-44a2-8654-267204e3f248', N'AccountLocation', 350, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Location Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('03245154-923d-4d6c-839c-dee71c70ce48', '3a080202-6842-4eca-8c79-a945978810b4', N'TimeEntryDate', 90, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9302db54-cede-410b-a3cb-1807ce983873', '3a080202-6842-4eca-8c79-a945978810b4', N'TaskStatus', 80, 0, NULL, NULL, 24, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1b921357-101c-454a-968c-e27685a4cad2', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Quantity', 80, 0, NULL, NULL, 18, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Quantity', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('bd4a2e59-ef24-4e98-8d3e-618169f962a0', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ClientNick', 125, 0, NULL, NULL, 20, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c182ab59-98dd-46ea-a0e2-49a9346d6cb3', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'FormulaField4', 150, 0, NULL, NULL, 27, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c17c9d5a-e939-45dc-9feb-e8e020c06bcb', '3a080202-6842-4eca-8c79-a945978810b4', N'TotalHours', 80, 0, NULL, NULL, 22, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Total Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b0de955b-c4a4-4209-911b-b1c2442b702b', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'FormulaField3', 150, 0, NULL, NULL, 18, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d9c2165c-f770-462d-a57c-7e797165f529', '3a080202-6842-4eca-8c79-a945978810b4', N'IsBillable', 60, 0, NULL, NULL, 16, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Billable', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('62d29c5c-de9b-4f73-888e-2b13b1a5c927', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'EmployeeCode', 115, 0, NULL, NULL, 25, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1f85ea5d-1c3d-4bd9-bd9b-a2753dc6af21', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Status', 100, 1, NULL, NULL, 14, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Status', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('35b08262-9aa5-44c9-9d02-b790315d0878', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'DefaultBillingRate', 120, 0, NULL, NULL, 23, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Project Billing Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('487e0d64-68e0-4714-85ce-c34ae975566e', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'TimesheetApprovalTypeName', 200, 0, NULL, NULL, 19, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Timesheet Approval Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('125e3e65-9c6f-4468-8b53-67d9a66e130e', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'AccountTaxZone', 125, 0, NULL, NULL, 22, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Tax Zone', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('eaec5e65-463e-4ad3-b21e-3e3c0d2680a4', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ProjectManager', 175, 0, NULL, NULL, 18, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Manager', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e393b665-8f9b-4ccc-a378-2291f60701ff', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ExpenseType', 125, 1, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Expense Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('98da3466-4d5b-43a6-8b65-41c98b3a9f99', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'AbsenceDescription', 150, 1, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Absence Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1cbb5f67-d1d5-4330-9e8f-092e319e5c88', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'IsBillable', 80, 0, NULL, NULL, 27, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Billable', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('502c3068-6b51-46d7-ac50-d5207f612496', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'Address2', 200, 0, NULL, NULL, 15, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Address2', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b7277468-e4fb-4c83-9cd5-8bc11bbc34ab', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'AccountLocation', 150, 1, NULL, NULL, 8, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Location Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8484686a-d16e-4749-be50-8b62cd7e95dc', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Address1', 200, 1, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Address1', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f165456b-563a-43b2-80f9-f99ca44e8cba', '3a080202-6842-4eca-8c79-a945978810b4', N'EmployeeRate', 120, 0, N'EmployeeRateCurrencyCode', NULL, 12, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Employee Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('15c7c46b-6ed7-428d-bc39-e8eb810b33df', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'ProjectCode', 100, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9c8d0b6c-c22e-4af6-98d4-d76daccfae9b', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'AccountExpenseEntryDate', 90, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('44e5cb6c-ad2a-4f8d-a90a-7dfabef794c8', 'a59652ee-ae5c-44a2-8654-267204e3f248', N'FormulaField3', 150, 0, NULL, NULL, 5, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6d269970-5537-4131-9f88-1e625730c4d1', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'FormulaField4', 150, 0, NULL, NULL, 10, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('236ad870-27f2-48d9-8964-ce8bedbc6cc0', '3a080202-6842-4eca-8c79-a945978810b4', N'FormulaField4', 150, 0, NULL, NULL, 40, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9add2972-9c37-41db-9764-01f835576f2c', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'EmployeeCode', 100, 0, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ff25f673-0ed1-4ef7-b60c-0fc9e05973e8', '96805a70-5415-44d8-a8db-5f0e148ea357', N'FormulaField5', 150, 0, NULL, NULL, 9, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c0e35475-d798-4db9-83e4-c284b9c58c14', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'FormulaField1', 150, 0, NULL, NULL, 16, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9167bb75-55d5-4840-80ce-0cc2fa87723c', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Comments', 275, 1, NULL, NULL, 15, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver''s Comments', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4bebd777-dc05-4df5-9f31-82da7b063117', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'FormulaField2', 150, 0, NULL, NULL, 17, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3619fc77-d364-4f9d-aba7-e61e9fc0de64', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'EmployeeName', 175, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1798bb79-3de1-47a7-9376-4bec7f3e803b', '3a080202-6842-4eca-8c79-a945978810b4', N'Priority', 60, 0, NULL, NULL, 25, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Priority', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f662c779-a28f-4dc2-8621-69745b3ebe9d', '3a080202-6842-4eca-8c79-a945978810b4', N'FormulaField5', 150, 0, NULL, NULL, 41, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('102c2c7a-a220-4518-b398-7d68fe6eada6', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ApproverEmployeeName', 175, 1, NULL, NULL, 13, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7a47c67a-0c82-4d1b-b068-4fe36243a89b', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'FormulaField2', 150, 0, NULL, NULL, 30, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0474737c-21ec-494a-bec7-536a73187e5c', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ApproverEmployeeName', 175, 1, NULL, NULL, 16, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('12295280-bf72-4604-a5dd-f5570a48279a', '725d942c-6e62-41b4-b785-5325f34bde2b', N'DepartmentName', 350, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5b76c880-4b7f-4f37-8a98-38691634f2db', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ApproverComments', 275, 0, NULL, NULL, 16, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Approver Comments', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3c29f380-6612-4a94-9f25-15263d2e25d5', '96805a70-5415-44d8-a8db-5f0e148ea357', N'FormulaField3', 150, 0, NULL, NULL, 7, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ba492481-92b2-4659-828a-009db07ded32', '44d99754-217d-400c-8847-8e46ca6b7641', N'FormulaField1', 150, 0, NULL, NULL, 7, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ba567681-ea7a-4454-84f2-5b350ffedd7f', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'FormulaField1', 150, 0, NULL, NULL, 24, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('775d8e81-2158-4dfb-b27e-26e5778f7770', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Submitted', 80, 0, NULL, NULL, 28, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Submitted', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('03103a82-f783-4770-9230-9acaa55357c8', '725d942c-6e62-41b4-b785-5325f34bde2b', N'FormulaField3', 150, 0, NULL, NULL, 6, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d959d382-a84b-4c0b-a4b0-827a88a69601', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'BillingType', 120, 0, NULL, NULL, 22, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Billing Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c4f35e83-393f-4690-961c-db517709686f', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'EmployeeCode', 100, 0, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a5b9e183-e9e0-46b8-a721-294e543579f5', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'FormulaField1', 150, 0, NULL, NULL, 24, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d1e36184-eec4-48fc-affc-92ae2f0b9a21', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'FormulaField5', 150, 0, NULL, NULL, 11, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ad46f984-e570-4a37-96d9-5ede945da26f', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'ClientNick', 80, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9ed46b85-3439-450e-bc26-5a337d8358f9', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'AccountClientId', 60, 1, NULL, NULL, 1, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Client Id', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('cfb16d85-b5ce-44b6-ae83-600a55224c87', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'DepartmentName', 150, 1, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Dpeartment Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0ce47486-4125-4f59-a0fa-72dcb308098f', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'DepartmentCode', 115, 0, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('873a4088-0362-4033-95ec-5e47a45c232d', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'IsBillable', 80, 0, NULL, NULL, 23, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Billable', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b975258a-525a-439d-bce2-c4e1d961f4ff', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Description', 250, 1, NULL, NULL, 8, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('90cd938a-e0ab-469f-8bb7-7cbdf574b42a', '3a080202-6842-4eca-8c79-a945978810b4', N'EmployeeName', 175, 0, NULL, NULL, 32, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1625598c-2b75-4cc7-95d0-67ae696b73e0', '3a080202-6842-4eca-8c79-a945978810b4', N'DepartmentName', 175, 0, NULL, NULL, 35, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('15dbd68d-9ed7-4d9a-92c2-78eadba7c5ad', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'Description', 325, 0, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2fa5708e-77e4-4352-bc39-02d12b55c140', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'DeadlineDate', 90, 1, NULL, NULL, 12, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Deadline', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8957978e-9502-4996-8bc4-8a92eebc0577', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'DepartmentCode', 115, 0, NULL, NULL, 28, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('68a7a08f-eb68-40fb-abd8-f001e133157a', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ClientNick', 80, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ed105790-1347-4c79-a0cd-1b8281688cda', '96805a70-5415-44d8-a8db-5f0e148ea357', N'FormulaField1', 150, 0, NULL, NULL, 5, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('73657892-9fb2-43f8-8884-1cb335a0537d', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ClientName', 250, 0, NULL, NULL, 25, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0088b092-6d2b-4ebf-8735-ade0ea17ad99', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'EmployeeName', 175, 0, NULL, NULL, 26, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('121be692-d5d4-4233-9a3b-d27904305470', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ClientDepartmentLocation', 250, 0, NULL, NULL, 10, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Department Location', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('920e3593-a408-4d9f-aa9a-fe761db40232', '3a080202-6842-4eca-8c79-a945978810b4', N'TaskCode', 125, 0, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c59a4397-a40b-4344-970f-cbf1e0578283', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'FormulaField1', 150, 0, NULL, NULL, 7, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a5df5a97-5e5e-4c6d-b8f3-56e82356ced8', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'EMailAddress', 240, 0, NULL, NULL, 26, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0438b497-e477-4281-a32d-449a9256558f', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'State', 120, 1, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'State', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e9b30298-d25c-454e-b989-3a24be44e454', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'TaskType', 70, 1, NULL, NULL, 10, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('42a00998-ed79-41ab-9836-b1898e899538', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'Priority', 60, 1, NULL, NULL, 13, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Priority', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d497b198-914f-4ed8-92b4-17ae2b6d95c1', '725d942c-6e62-41b4-b785-5325f34bde2b', N'AccountDepartmentId', 100, 1, NULL, NULL, 1, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Department Id', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('229cfa99-c1e4-4580-bc10-2bafabaae66d', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'City', 120, 0, NULL, NULL, 12, '91402610-eef0-4dd0-aca3-0080f53389fa', N'City', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2efb1c9a-a36d-4a10-bde8-1b0ab893d1d6', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'AccountLocation', 150, 0, NULL, NULL, 30, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Location Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e054009b-989b-4a5b-899e-bb1341b8a4e9', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'FormulaField4', 150, 0, NULL, NULL, 19, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4548519b-2c7b-442a-a586-f90e7d077a8f', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'DeadLine', 105, 0, NULL, NULL, 15, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Project Deadline', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('09085a9b-8edf-46e5-92b1-8fb673c10d62', '3a080202-6842-4eca-8c79-a945978810b4', N'TaskName', 275, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d6f4ff9b-69d8-4e41-83c4-69c837e1e959', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'TeamLead', 175, 0, NULL, NULL, 17, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Team Lead', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('48d5fca0-07ad-4b76-9b1e-dbc4599503dc', 'a59652ee-ae5c-44a2-8654-267204e3f248', N'FormulaField4', 150, 0, NULL, NULL, 6, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('305bc0a1-54be-456e-8990-2ef92e6c1046', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'NetAmount', 110, 1, N'CurrencyCode', NULL, 10, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Net Amount', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f77505a2-78e9-468f-b364-b00d158022df', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'CurrencyAmount', 110, 1, N'ParameterCurrencyCode', N'IIF(ExchangeRate=0,0,(NetAmount/ExchangeRate)*ParameterCurrencyExchangeRate)', 12, '0da31ddc-9040-46fa-a33a-74e06a645050', N'(BC) Net Amount', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7a9cc5a3-326d-48df-9072-fdbb8d348b94', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'IsBillable', 70, 0, NULL, NULL, 21, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is Billable', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9d1724a4-ce8d-4be3-ac3f-89d9750385aa', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'FormulaField1', 150, 0, NULL, NULL, 24, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('76fb75a4-41db-4dc4-98ae-9471073d8d62', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'FormulaField2', 150, 0, NULL, NULL, 8, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6ba073ab-edb8-47a7-ad28-b933c2acba0d', '3a080202-6842-4eca-8c79-a945978810b4', N'Submitted', 70, 1, NULL, NULL, 17, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Submitted', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c32b8dab-bbf0-41ca-8e0e-347147ab52e7', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ApprovalTypeName', 200, 0, NULL, NULL, 18, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approval Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('682c55ad-51e3-4b6d-90f3-0af9ada6e839', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'TotalTime', 65, 1, NULL, NULL, 8, '4af62dd1-d310-48fc-ac2f-9694ee0bf323', N'Duration', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3b1f66ae-4372-487a-a371-52bb7323b1f4', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'FormulaField1', 150, 0, NULL, NULL, 19, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('774ec4af-9277-4e2c-9a8c-9a09bd38b58e', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'EmployeeManager', 175, 0, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Manager', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7d872eb2-7641-4a0e-b410-f128b8bcdb82', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'FormulaField4', 150, 0, NULL, NULL, 27, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8b73a8b2-9f69-4c15-bb4f-bf16e54070e6', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'Rate', 80, 0, NULL, NULL, 19, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e01b67b3-1db3-493a-8c9e-fa1690fe7c6c', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'TaskDescription', 300, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f9a996b3-e1d5-4a9a-8aef-ae5897e95423', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'AttendanceDate', 105, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Attendance Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('37e67bb4-f0b9-4827-a875-e90a3d3a69b8', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'Role', 125, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2f9b07b5-918e-4344-b6b2-778188c910c9', '44d99754-217d-400c-8847-8e46ca6b7641', N'ExternalUserId', 100, 1, NULL, NULL, 1, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'External User Id', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b1d4a6b5-cdfc-4131-aed1-e997e472a58e', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ProjectCode', 125, 0, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('27675eb8-27ed-4e8e-a6be-b5c17bfe1756', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'AccountProjectId', 75, 1, NULL, NULL, 1, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Project Id', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('69c3c1b9-2652-493f-8add-b06060150a5b', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'ZipCode', 60, 0, NULL, NULL, 13, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Zip Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('710d7eba-65a6-40fd-bde1-b059480c1710', '3a080202-6842-4eca-8c79-a945978810b4', N'EstimatedCost', 125, 0, N'EstimatedCurrencyCode', NULL, 27, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Task Estimated Cost', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8bcfb7ba-233e-46cf-a4b0-85bb9daac419', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'EmployeeName', 175, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1d7a8abb-cfa8-4c61-92e8-5344d2dff104', '3a080202-6842-4eca-8c79-a945978810b4', N'EstimatedHours', 135, 0, NULL, NULL, 26, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Task Estimated Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('96befdbb-67cd-4cad-a695-e534ebe0010a', '3a080202-6842-4eca-8c79-a945978810b4', N'FormulaField1', 150, 0, NULL, NULL, 37, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('424e3bbc-783f-47e6-b3ab-572eec924394', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'State', 120, 0, NULL, NULL, 11, '91402610-eef0-4dd0-aca3-0080f53389fa', N'State', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d28454bc-def5-4654-845e-ece2ffcbe749', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'TotalHours', 80, 0, NULL, NULL, 17, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Total Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e75a80be-fbf8-4d62-a46d-8791cacd9a8b', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ClientDepartmentCode', 150, 0, NULL, NULL, 8, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Department Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('881089be-a56f-40ca-82d9-3f65fe92de28', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'Status', 90, 1, NULL, NULL, 13, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('549ac4bf-cd93-4a53-a922-5fafca8ca9de', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'EstimatedDuration', 120, 1, NULL, NULL, 16, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Estimated Duration', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f4d73cc0-92ce-4be9-a8ad-da8bbf9cd7a4', '3a080202-6842-4eca-8c79-a945978810b4', N'ApprovalStatus', 125, 1, NULL, NULL, 15, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approval Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c6cad5c0-b716-4b17-aced-377a60d3b491', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Rejected', 70, 1, NULL, NULL, 15, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Rejected', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8e95f8c0-05b4-4e69-a6df-05489181107f', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'ClientName', 250, 1, NULL, NULL, 8, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('500f11c1-1090-4797-bf08-8be6b80ee82c', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'TimeEntryDate', 90, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('85b75ac1-d0e5-4125-837e-46576fd59bb3', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'EstimatedHours', 145, 1, NULL, NULL, 23, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Task Estimated Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e2a10ac3-e4e8-4aba-bf47-d0716f367138', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'Comments', 275, 1, NULL, NULL, 12, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver''s Comments', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('172b3ac3-6245-4f56-bc37-fa387e218890', '3a080202-6842-4eca-8c79-a945978810b4', N'AccountCostCenterCode', 110, 0, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Cost Center Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5f3371c4-8db6-4bcd-8c9b-571af8be5f4c', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'FormulaField3', 150, 0, NULL, NULL, 26, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('15794ec5-0f04-4b14-8e01-d8046426d3d5', '44d99754-217d-400c-8847-8e46ca6b7641', N'ExternalUser', 175, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'External User', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('10c9a0c5-cbc6-4bc6-8fe6-1ed055810123', '96805a70-5415-44d8-a8db-5f0e148ea357', N'FormulaField2', 150, 0, NULL, NULL, 6, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c835a6c5-b818-4d8b-be5e-e298091e54c9', '3a080202-6842-4eca-8c79-a945978810b4', N'Amount', 115, 1, N'AmountCurrencyCode', NULL, 13, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d9244fc6-d0c0-4553-9c38-1fcee3bfc77d', '3a080202-6842-4eca-8c79-a945978810b4', N'BillingRate', 115, 1, N'BillingRateCurrencyCode', NULL, 11, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Billing Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('859601c7-10ac-4805-9e59-87473ca02d37', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'IsReOpen', 75, 1, NULL, NULL, 20, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is ReOpen', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('185418ca-e224-43d0-b6ec-89b19f9208c7', '44d99754-217d-400c-8847-8e46ca6b7641', N'Role', 125, 1, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('aaab23ca-75aa-45fa-81a5-4531e2872253', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ApprovalTypeName', 200, 0, NULL, NULL, 22, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approval Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ba7d9fca-747b-41c4-a63a-db5dd4bc3f01', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'SystemApproverType', 125, 0, NULL, NULL, 23, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9d93c3cc-81f2-48c9-b9fe-27031051e97a', '3a080202-6842-4eca-8c79-a945978810b4', N'FormulaField2', 150, 0, NULL, NULL, 38, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0b9e7ece-139e-44e7-8394-290402b6ece2', '725d942c-6e62-41b4-b785-5325f34bde2b', N'FormulaField2', 150, 0, NULL, NULL, 5, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0474afd0-c430-4660-bdda-92ee33c0cc8d', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'FormulaField3', 150, 0, NULL, NULL, 31, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b273cbd1-ae5a-4731-8c3c-2da507a039ef', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Country', 150, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Country', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('070f15d2-e73c-4a2a-a0e3-e12ec7f347d7', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ApproverEMailAddress', 240, 0, NULL, NULL, 17, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('848c40d4-04a0-4acd-8ca8-660f7c14957f', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'FormulaField5', 150, 0, NULL, NULL, 28, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d97039d5-b432-4921-afa3-c8844c7e0731', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Rate', 80, 0, NULL, NULL, 19, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2710bbd5-66b0-44ba-bf41-17fbadeac5e3', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'FormulaField2', 150, 0, NULL, NULL, 25, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('dcecfcd5-8f2d-4ab1-a337-0ce1eb07eb2b', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'IsBillable', 75, 1, NULL, NULL, 21, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is Billable', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('cd25b9d6-565f-40c3-b2f8-8e784a0bc205', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'Address1', 200, 0, NULL, NULL, 14, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Address1', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('db57bdd7-8e3a-4af2-82af-bbeeb984ece6', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ApprovedOn', 100, 0, NULL, NULL, 17, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Approved On', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('806569d9-0172-4b0e-8cfc-b727f38a0e9b', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Amount', 110, 1, N'CurrencyCode', NULL, 8, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5103add9-27d5-4ce6-9c07-05d06f0adbed', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'Country', 150, 0, NULL, NULL, 10, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Country', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('def15eda-7381-4099-a4f4-741121c9ec93', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Address2', 200, 1, NULL, NULL, 10, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Address2', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6fc2acdb-3ddd-49b2-8481-76782423f4d0', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'EMailAddress', 240, 1, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('39a6f3db-ae0d-4f01-85e5-368b23d84be5', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'Status', 80, 1, NULL, NULL, 11, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4643f6db-3c1f-4bb6-b787-0915fa68de45', '96805a70-5415-44d8-a8db-5f0e148ea357', N'EmployeeName', 175, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b77a16dd-e24b-460b-ac5a-63d8c67ca4d7', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ApprovedOn', 90, 1, NULL, NULL, 10, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Approval Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0f969ede-96c8-4243-a9f2-fe8fd6bf1851', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'FormulaField5', 150, 0, NULL, NULL, 23, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0177f8de-bec1-414e-8695-d504b3bee445', '3a080202-6842-4eca-8c79-a945978810b4', N'EmployeeCode', 115, 0, NULL, NULL, 31, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4586eddf-917f-4ddf-9172-f5a4a876e8a4', '3a080202-6842-4eca-8c79-a945978810b4', N'ProjectCode', 125, 0, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4c25b5e0-3174-4000-a612-5a1a2be929e4', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ProjectType', 105, 1, NULL, NULL, 11, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c29586e1-b31e-46ca-9d79-aa4faf77dd0f', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'CurrencyAmount', 110, 1, N'ParameterCurrencyCode', N'IIF(ExchangeRate=0,0,(NetAmount/ExchangeRate)*ParameterCurrencyExchangeRate)', 11, '0da31ddc-9040-46fa-a33a-74e06a645050', N'(BC) Net Amount', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('857ee1e1-a53a-4e40-acb2-14fab52baa29', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Submitted', 70, 1, NULL, NULL, 13, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Submitted', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d17bb7e2-f1c2-482c-aed8-78691aa12d10', '3a080202-6842-4eca-8c79-a945978810b4', N'TotalTime', 65, 1, NULL, NULL, 6, '4af62dd1-d310-48fc-ac2f-9694ee0bf323', N'Duration', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('69916fe5-295d-4d29-81eb-7798d2d2f72f', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ApprovalStatus', 100, 1, NULL, NULL, 12, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approval Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c85f2de8-5da8-4a15-8a5e-357b580c8f7b', '3a080202-6842-4eca-8c79-a945978810b4', N'ClientName', 250, 0, NULL, NULL, 30, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b4aa2ce9-85d9-421a-92ff-567e19b472a6', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'Completed', 90, 1, NULL, NULL, 16, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is Completed', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('290730e9-0ed6-47d2-9467-c44e8f8832cb', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'EmployeeName', 175, 0, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f450b0e9-754f-46b1-bca6-b6429d0379fe', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'MobilePhoneNo', 130, 0, NULL, NULL, 18, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Mobile Phone No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5ce1a9ea-e22c-42c6-a817-50d9d9231106', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'FormulaField3', 150, 0, NULL, NULL, 26, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8a16adec-0f14-4708-8abe-bb7b9bfa3e83', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ExpenseType', 125, 1, NULL, NULL, 6, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Expense Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f819cfed-8992-4a39-b935-ea9b00e8fe53', '44d99754-217d-400c-8847-8e46ca6b7641', N'EMailAddress', 240, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('24a038ee-d6c5-4d58-b6ba-a954821e25bd', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'AccountEmployeeId', 80, 1, NULL, NULL, 1, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Employee Id', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c87ac1ee-e30a-48a2-b1fd-ac50c945640b', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'FormulaField1', 150, 0, NULL, NULL, 29, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c0afdeee-66d2-4bdc-b673-63ee88963a9a', '3a080202-6842-4eca-8c79-a945978810b4', N'ApprovedOn', 100, 0, NULL, NULL, 21, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Approved On', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('02a0bbf0-bd37-413b-b200-617ffdb26f39', '725d942c-6e62-41b4-b785-5325f34bde2b', N'FormulaField4', 150, 0, NULL, NULL, 7, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('bcc8ccf0-40e7-4b00-9ba0-f10dbe7d2bd8', '3a080202-6842-4eca-8c79-a945978810b4', N'EMailAddress', 240, 0, NULL, NULL, 33, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('39cd5bf1-95e2-4621-b3a9-bf22193ea242', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'TaskName', 275, 1, NULL, NULL, 7, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('60305cf1-8d83-4299-b617-285f412e0c1b', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'WorkPhoneNo', 130, 0, NULL, NULL, 17, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Work Phone No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fa6bcbf4-7099-4cda-b091-a33b3320ce07', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'StartTime', 75, 0, NULL, NULL, 15, '4af62dd1-d310-48fc-ac2f-9694ee0bf323', N'Start Time', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('334a8ff5-c650-4d95-a1d5-c964fb5e39bd', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'FormulaField2', 150, 0, NULL, NULL, 25, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('718d0ff9-788e-49c3-aab6-16f8c997bd43', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ProjectDescription', 300, 0, NULL, NULL, 4, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('12a22ff9-8ae9-417a-b323-1efbffd3fbb9', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'ProjectName', 250, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('43e990f9-3b8d-4660-8d0f-c9bbcca81dec', '3a080202-6842-4eca-8c79-a945978810b4', N'ClientNick', 115, 0, NULL, NULL, 29, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('49c335fa-152c-4efe-8f32-a73b2e01dbbf', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'EmployeeName', 175, 1, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fd0652fa-66f4-4cf4-8810-716746498fff', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'IsParentTask', 90, 1, NULL, NULL, 17, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Is Parent Task', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5d920bfb-b7f7-4bec-a6d6-13862db32199', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'FormulaField5', 150, 0, NULL, NULL, 28, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('eaf48bfb-f099-49e1-9666-68f2bddf1c62', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', N'Telephone2', 130, 1, NULL, NULL, 12, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Telephone2', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('13972cfc-86b3-48e2-86fc-2e8969933ac5', '725d942c-6e62-41b4-b785-5325f34bde2b', N'DepartmentCode', 175, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('dbf661fc-18db-4b8f-8f5a-6722ef61d7d3', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ProjectName', 250, 1, NULL, NULL, 5, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('722f6cfc-27b1-424d-bdbd-a894890c8d65', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'EmployeeCode', 100, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('dd57b0fc-f686-4419-a689-73af36ef87ca', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'FormulaField4', 150, 0, NULL, NULL, 32, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2b7722fe-3b26-421f-bbf0-9d5612a81869', '3a080202-6842-4eca-8c79-a945978810b4', N'FormulaField3', 150, 0, NULL, NULL, 39, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('619ab8fe-15a8-4ecd-b9a1-433037f11dc0', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', N'ProjectBillingRateType', 215, 0, NULL, NULL, 12, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Billing Rate Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('22e9e2fe-2be1-42ad-8515-89c25ab5786f', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ClientNick', 115, 0, NULL, NULL, 23, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Nick', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('64b8ecfe-72a9-43fe-a9ad-bcbe9ca9b829', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'FormulaField3', 150, 0, NULL, NULL, 21, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fdcfc7ff-c02d-45b1-a2ca-380aa3d028e1', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ApproverEmailAddress', 240, 0, NULL, NULL, 14, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approver Email Address', 0, 0)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFieldType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFieldType]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportFieldType] WHERE [SystemReportFieldTypeId] = '91402610-eef0-4dd0-aca3-0080f53389fa')
BEGIN
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('91402610-eef0-4dd0-aca3-0080f53389fa', N'Text', 0)
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('407f7b3f-ab83-4e95-a343-9bfafb746f4d', N'Time', 0)
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('be1ea264-d750-43b6-85c0-a5b8467f8024', N'Number', 0)
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Date', 0)
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Boolean', 0)
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('4af62dd1-d310-48fc-ac2f-9694ee0bf323', N'Duration', 0)
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('0da31ddc-9040-46fa-a33a-74e06a645050', N'CurrencyDecimal', 1)
INSERT INTO [dbo].[SystemReportFieldType] ([SystemReportFieldTypeId], [SystemReportFieldType], [IsAllowSummaryCalculation]) VALUES ('f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Decimal', 1)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSource]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportFilterSource] WHERE [SystemReportFilterSourceId] = '8e41ac07-9d13-450a-b8b2-f37db3eeb32e')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('8e41ac07-9d13-450a-b8b2-f37db3eeb32e', N'Disabled', NULL, NULL, NULL, N'Disable:', NULL, NULL, N'Disabled', 1, N'IsDisabled', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('1bdb6f0b-7acd-4619-9f6d-a9e09b320d42', N'ApprovalType', NULL, NULL, NULL, N'Approval Type:', NULL, NULL, N'ApprovalType', NULL, N'ApprovalType', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('620f5b28-45e4-47fd-ae1d-3250a6e3cefc', N'ExpenseType', 'ExpenseTypeTableAdapter', 'GetAllExpenseType', NULL, N'Expense Type:', NULL, NULL, N'=', 1, N'AccountExpenseTypeId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('d1506e3d-f481-4c3e-9b9e-3319da269bc1', N'ProjectStatus', NULL, NULL, NULL, N'Project Status:', NULL, NULL, N'=', 1, N'ProjectStatusId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('9924da4a-2907-4368-a803-99c0c6f9ffff', N'BaseCurrency', 'CurrencyFilter', 'GetAllCurrency', NULL, N'Base Currency:', NULL, NULL, N'NOTEXISTS', NULL, N'AccountBaseCurrencyId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('45259e57-2e6a-4033-8318-b2e0fcc2863a', N'ProjectTask', NULL, NULL, NULL, N'Project Tasks:', NULL, NULL, N'=', 0, N'AccountProjectTaskId', N'AssignedProject')
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('4f471b5b-2394-4379-a666-d696e2dfb0ef', N'AssignedEmployees', 'EmployeeFilterTableAdapter', 'GetAllAssignedEmployee', NULL, N'Employees:', NULL, NULL, N'=All', 1, N'AccountEmployeeId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('39e77f67-6659-45aa-8eef-6bc28103b617', N'AllDepartments', 'DepartmentFilterTableAdapters', 'GetAllDepartment', NULL, N'Department:', NULL, NULL, N'=', 1, N'AccountDepartmentId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('eb57d46c-68fe-44ef-8663-4b1feed94372', N'Clients', 'ClientFilterTableAdapter', 'GetAllClients', NULL, N'Clients:', NULL, NULL, N'=', 1, N'AccountClientId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('a7d56678-abb2-40e1-b594-be7f39cfe1c8', N'ActiveStatus', NULL, NULL, NULL, N'Active Status:', NULL, NULL, N'ActiveStatus', 1, N'IsActive', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('430ca1b0-0205-430f-9a9a-9dadd4c07a3d', N'Billable', NULL, NULL, NULL, N'Billing Type:', NULL, NULL, N'Billable', 1, N'IsBillable', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('40a2a9c4-d975-4167-91c7-c38fa497c9da', N'Submitted', NULL, NULL, NULL, N'Submittion Status:', NULL, NULL, N'Submitted', 0, N'Submitted', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('8f7f0cc7-e5e4-4f40-924a-60a126092cc0', N'AssignedProject', NULL, NULL, NULL, N'Projects:', NULL, NULL, N'=', 0, N'AccountProjectId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('875614cd-c8ac-410d-aeae-af024a772739', N'Role', 'RoleFilerTableAdapter', 'GetAllRoles', NULL, N'Role:', NULL, NULL, N'=', 1, N'AccountRoleId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('0ee086ce-c9f3-4924-97b8-2c67e307561f', N'TaskType', NULL, NULL, NULL, N'Task Type:', NULL, NULL, N'=', 1, N'AccountTaskTypeId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('c29a0dd3-3337-43b7-9c3f-abf8e9ae9978', N'Approved', NULL, NULL, NULL, N'Approved Status:', NULL, NULL, N'Approved', 0, N'Approved', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('0b5bedd3-1467-461c-aab5-e57236f3d10c', N'Expense', 'ExpenseFilterTableAdapter', 'GetAllExpenses', NULL, N'Expense:', NULL, NULL, N'=', 1, N'AccountExpenseId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('5a1515da-e197-49c1-83fc-b0d5a9a3034a', N'DateRange', NULL, NULL, NULL, N'Date Range:', NULL, NULL, N'Between', 1, N'DateRange', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('7feed6f5-67ab-4699-8866-8deddac27b9f', N'AllLocations', NULL, NULL, NULL, N'Locations:', NULL, NULL, N'=', 1, N'AccountLocationId', NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportFilterSourceMapping] WHERE [SystemReportFilterSourceId] = '1bdb6f0b-7acd-4619-9f6d-a9e09b320d42')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('16550300-a599-4241-a0b4-8ecc9f02637a', '1bdb6f0b-7acd-4619-9f6d-a9e09b320d42', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 0, 9)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('27def803-6fec-42ce-918c-815620648bad', '4f471b5b-2394-4379-a666-d696e2dfb0ef', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('1380400b-7163-4cc7-ace0-52c9ca941b89', 'eb57d46c-68fe-44ef-8663-4b1feed94372', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('75ee810f-55d9-42eb-9536-45e93acbf8e2', 'eb57d46c-68fe-44ef-8663-4b1feed94372', '44d99754-217d-400c-8847-8e46ca6b7641', 0, 1, NULL)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('105c3710-86be-49f1-86d2-1c82ffea7fdb', 'd1506e3d-f481-4c3e-9b9e-3319da269bc1', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', 0, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('31d01917-0ef3-4fd4-b3bb-8185830d7b51', '430ca1b0-0205-430f-9a9a-9dadd4c07a3d', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 0, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('31ef221e-513b-4bb8-9f92-3a0f212e5fab', '7feed6f5-67ab-4699-8866-8deddac27b9f', '3a080202-6842-4eca-8c79-a945978810b4', 0, 1, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('7aa14a26-b97a-4c28-8976-4ad4dcb1c39b', '39e77f67-6659-45aa-8eef-6bc28103b617', '725d942c-6e62-41b4-b785-5325f34bde2b', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('5ae29e2b-5ab6-4ec1-b234-08ae3b58643c', '45259e57-2e6a-4033-8318-b2e0fcc2863a', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('f6e6d92d-487b-4722-a08a-511f9414c732', '0b5bedd3-1467-461c-aab5-e57236f3d10c', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('5900e730-67da-41bf-95cb-d5c7faf09f13', '8e41ac07-9d13-450a-b8b2-f37db3eeb32e', 'a59652ee-ae5c-44a2-8654-267204e3f248', 0, 0, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('98625533-41c6-4b8d-ae6c-6087eb628975', '430ca1b0-0205-430f-9a9a-9dadd4c07a3d', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 0, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('acf3ad39-a789-4520-98b1-b989cbba276d', '0b5bedd3-1467-461c-aab5-e57236f3d10c', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('9e09833a-bfb9-4b00-8032-e94dd903d2b4', '4f471b5b-2394-4379-a666-d696e2dfb0ef', '3a080202-6842-4eca-8c79-a945978810b4', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('80f2493b-5a68-473e-bc8f-f9c14356fc5b', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', 'a5187c80-820c-4092-ae6d-630645bb8f0a', 0, 0, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('36082f3f-c35d-4fd6-8d5c-29e0e12a8489', '40a2a9c4-d975-4167-91c7-c38fa497c9da', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 0, 9)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('a2c3763f-7718-413b-b3ba-ecc6da558916', '430ca1b0-0205-430f-9a9a-9dadd4c07a3d', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 0, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('2b19d13f-5568-466f-aed5-acaf6fc7c21f', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', '96805a70-5415-44d8-a8db-5f0e148ea357', 0, 0, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('0641d840-c376-4dbc-a4a5-26c8c161f5f6', '1bdb6f0b-7acd-4619-9f6d-a9e09b320d42', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 0, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('91d39141-a8e3-491f-a8e0-29c6f7923a2d', 'c29a0dd3-3337-43b7-9c3f-abf8e9ae9978', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 0, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('040adb46-8f90-451b-a8f8-53022a151d50', 'c29a0dd3-3337-43b7-9c3f-abf8e9ae9978', '3a080202-6842-4eca-8c79-a945978810b4', 0, 0, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('7db21a49-c462-48dd-b229-36911c39a180', '0ee086ce-c9f3-4924-97b8-2c67e307561f', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 1, 4)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('d264b54b-7b13-4d1b-b9e1-2c10f457d306', '7feed6f5-67ab-4699-8866-8deddac27b9f', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('854b4851-43c8-4529-b420-77c225689950', '875614cd-c8ac-410d-aeae-af024a772739', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', 0, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('098dec53-1cdd-4c48-b5d4-c48a87cbb679', '39e77f67-6659-45aa-8eef-6bc28103b617', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', 0, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('baa8f055-22ab-4c8e-ad45-86cfc3fd29f8', '40a2a9c4-d975-4167-91c7-c38fa497c9da', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 0, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('452cfd56-d23d-4802-8d32-432faae67a99', '7feed6f5-67ab-4699-8866-8deddac27b9f', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 1, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('00aea75e-5418-4d24-835e-7ee72e858ac8', '4f471b5b-2394-4379-a666-d696e2dfb0ef', 'a5187c80-820c-4092-ae6d-630645bb8f0a', 0, 0, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('e7ddce6a-ec8e-4e45-b97f-5bc00f6b8aeb', 'eb57d46c-68fe-44ef-8663-4b1feed94372', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 1, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('ba79286f-6c4f-4b6e-a95b-a91365494cb2', '430ca1b0-0205-430f-9a9a-9dadd4c07a3d', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 0, 10)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('67f5c373-6d25-49a1-be0b-caae945be896', '8f7f0cc7-e5e4-4f40-924a-60a126092cc0', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('2813a274-b78a-46a1-a532-3050c356609f', '8e41ac07-9d13-450a-b8b2-f37db3eeb32e', '725d942c-6e62-41b4-b785-5325f34bde2b', 0, 0, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('3b5ca780-e710-49e2-ad30-0d7cd984d9f1', '620f5b28-45e4-47fd-ae1d-3250a6e3cefc', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 1, 4)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('460a8b81-1b09-4081-b955-26be4cbbc17e', '9924da4a-2907-4368-a803-99c0c6f9ffff', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 0, 11)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('d2afee82-4d01-4e25-8600-f47413619fb9', '620f5b28-45e4-47fd-ae1d-3250a6e3cefc', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 1, 4)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('a7b07985-975b-453a-8993-d8348592a334', 'eb57d46c-68fe-44ef-8663-4b1feed94372', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 1, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('cf407089-f92f-4924-9352-796769259ff5', '9924da4a-2907-4368-a803-99c0c6f9ffff', '3a080202-6842-4eca-8c79-a945978810b4', 0, 0, 10)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('eb410d8f-bffb-4b61-b7c1-56356e1a0acb', '9924da4a-2907-4368-a803-99c0c6f9ffff', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 0, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('a6b22190-b85f-4495-9d50-342bbb19e6a9', '39e77f67-6659-45aa-8eef-6bc28103b617', '3a080202-6842-4eca-8c79-a945978810b4', 0, 1, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('38eb7094-6d72-4843-8c8a-c66bb56f4ac1', 'eb57d46c-68fe-44ef-8663-4b1feed94372', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('df27ce9f-90c0-4103-9a97-851ebc8a6526', '8e41ac07-9d13-450a-b8b2-f37db3eeb32e', 'd8b6136f-4e25-4323-85be-e3f62fe405b1', 0, 0, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('8cd64ea3-d1b1-4049-a517-5f386f5692a2', '7feed6f5-67ab-4699-8866-8deddac27b9f', 'a59652ee-ae5c-44a2-8654-267204e3f248', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('04d271a4-d25e-460b-a330-0ba3e0732661', '8f7f0cc7-e5e4-4f40-924a-60a126092cc0', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 1, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('489706aa-f1fd-406c-8de8-91648ddb3b2b', '4f471b5b-2394-4379-a666-d696e2dfb0ef', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('340343ab-2033-4f5b-83a2-2d2ba9677fbc', '4f471b5b-2394-4379-a666-d696e2dfb0ef', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('79cdfaad-5aac-4421-a2a6-3373163786dc', '8f7f0cc7-e5e4-4f40-924a-60a126092cc0', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 1, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('b10113af-d36f-42aa-bc23-56cb98be5aed', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 1, 0, 12)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('81e9a4af-f17b-4e11-870c-a565fc32bd9c', '4f471b5b-2394-4379-a666-d696e2dfb0ef', '96805a70-5415-44d8-a8db-5f0e148ea357', 0, 0, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('cdbba5b0-6259-44a1-8974-11117acb823c', '8f7f0cc7-e5e4-4f40-924a-60a126092cc0', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 1, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('812f1dba-47fd-4aaf-bc38-a6afb930e0fc', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 1, 0, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('8ef6f0bc-e840-49f6-8b90-02420c77a315', 'eb57d46c-68fe-44ef-8663-4b1feed94372', '3a080202-6842-4eca-8c79-a945978810b4', 0, 1, 4)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('921042be-fe69-4e85-8a3d-d2d960c712cb', 'a7d56678-abb2-40e1-b594-be7f39cfe1c8', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', 0, 0, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('c5a9bdc1-4242-4d12-a83e-e8a5dd2cbf04', '40a2a9c4-d975-4167-91c7-c38fa497c9da', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 0, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('692d80c3-c578-4b1f-a06d-2ba8ce992028', '39e77f67-6659-45aa-8eef-6bc28103b617', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 1, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('8b8434ca-c34a-4e0a-8cd3-e2ed79118293', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 1, 0, 10)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('6e3557d0-5d8e-4306-9ca3-bfe13ee0ad13', '875614cd-c8ac-410d-aeae-af024a772739', '875614cd-c8ac-410d-aeae-af024a772739', 0, 1, NULL)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('00ded0d1-06a4-48a8-921d-41d134d06065', '430ca1b0-0205-430f-9a9a-9dadd4c07a3d', '3a080202-6842-4eca-8c79-a945978810b4', 0, 0, 9)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('8cd491d6-5339-403d-9d22-dc07469ebee0', '40a2a9c4-d975-4167-91c7-c38fa497c9da', '3a080202-6842-4eca-8c79-a945978810b4', 0, 0, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('032186d8-2794-4172-81f8-32e55ae25792', '8f7f0cc7-e5e4-4f40-924a-60a126092cc0', '3a080202-6842-4eca-8c79-a945978810b4', 1, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('5dac23de-99c8-430f-8815-74bff30a8f62', '45259e57-2e6a-4033-8318-b2e0fcc2863a', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('2871b1f0-5f80-408a-88ab-aa6c944a9516', 'eb57d46c-68fe-44ef-8663-4b1feed94372', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('54eaeaf9-ed01-48a4-b31e-cbcedfeb74b4', '45259e57-2e6a-4033-8318-b2e0fcc2863a', '3a080202-6842-4eca-8c79-a945978810b4', 0, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('c633f4fa-0039-44aa-8838-acbb6676c6d2', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', '3a080202-6842-4eca-8c79-a945978810b4', 1, 0, 11)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('b5fdccfc-3dc0-4b58-b7a8-d1b12f31089a', 'eb57d46c-68fe-44ef-8663-4b1feed94372', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 1, 4)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] = 124)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (124, 6, N'2130015451', N'WebReport', N'MyReports.aspx', N'My Reports', 25, 1, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (125, 6, N'2130018452', N'WebReport', N'AccountReportPermission.aspx', N'Report Permission', 124, 1, 1, NULL, 1, NULL, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (126, 6, N'2130012859', N'WebReport', N'ShowReport.aspx', N'Show Report', 124, 1, 1, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (127, 6, N'2134012854', N'WebReport', N'ReportDesign.aspx', N'Report Design', 124, 1, 1, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [IsSiteMapPage]=0, [NotShowInPermission]=1 WHERE [SystemSecurityCategoryPageId]=75
UPDATE [dbo].[SystemSecurityCategoryPage] SET [ParentSystemSecurityCateogoryPageId]=124, [NotShowInPermission]=1 WHERE [SystemSecurityCategoryPageId]=116
UPDATE [dbo].[SystemSecurityCategoryPage] SET [ParentSystemSecurityCateogoryPageId]=124, [NotShowInPermission]=1 WHERE [SystemSecurityCategoryPageId]=120

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] NOCHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] NOCHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] NOCHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReport] WHERE [AccountReportId] = 'dbec5524-29bd-4ce4-8e13-61e5fd2ef92e')
BEGIN
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('dbec5524-29bd-4ce4-8e13-61e5fd2ef92e', '10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49', N'All Locations Report', N'All Locations Report', '/Images/LocationReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 'f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Department Wise Timesheet Report', N'Generates a department wise timesheet report for a given user for a given time period. The user can select the details to be included in the report.', '/Images/DepartmentWiseTimesheetRepo.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('4308f13b-1b4c-428b-87e0-65af707b2e17', 'f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Billing Report', N'Generates a project wise billing report for a given user for a given time period. The user can select the details to be included in the report.', '/Images/BillingReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Expense By Client Report', N'Summary of Expenses occurred on project. Can be generated based on project, client, employee and data range.', '/Images/ExpenseReport.gif', NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('0ea60546-726c-4713-959a-a92f5929af19', '10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49', N'All Employees Report', N'All Employees Of Organization', '/Images/EmployeeReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('7059f446-69e6-46b4-a50f-b349a6fc4dc8', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Attendance Detail Report', N'Generate Attendance detail report for a given user for a given period. User can select different parameters like employee, startdate, enddate.', '/Images/AttendanceDetailReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('479ce554-5ab3-4e0b-a552-ca1b233713c9', '10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49', N'All Projects Of Organization', N'All Projects Of Organization', '/Images/ProjectReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('ca89b85b-177d-4ba6-9837-d0cfcd2de6c1', '10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49', N'All Departments Report', N'All Departments Report', '/Images/DepartmentsReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('db046660-cb45-4adb-b103-27a00775d42a', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Timesheet Submission Report', N'Generates employee wise summarize report for time entries with missing entries.', '/Images/EmployeeTimesheetSubmissionReport.gif', NULL, NULL, NULL, 0, N'AccountEmployeeTimesheetSubmissionStatusReport.aspx')
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('4b789064-55c6-4089-81ff-ade3ac159532', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Employee Absence Detail Report', N'Detail report of employee absence in specified data range. Helpfull for payroll department to get list of absent in specified date range.', '/Images/AbsenceDetailReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', 'ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', N'Timesheet Approval Activity', N'Timesheet Approval Activity', NULL, NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('daf04d81-ed91-4466-ad42-811bc1dbe3fb', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Absence Summary Report', N'Report for generating summary of employee leaves like sick leave, casual leave etc in specified range.', '/Images/LeaveSummaryReport.gif', NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('ef887385-b033-4aca-9108-0e9de53e3e1c', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Detail Timesheet Report', N'Generates a timesheet report for a given user for a given time period. The user can select the details to be included in the report.', '/Images/DetailTimeSheetReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('d61628a4-182b-437a-bff0-3211a898273d', '10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49', N'All Clients Report', N'All Clients Report', '/Images/ClientsReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('bd8523a6-7927-4aab-9016-87ea86ea08b8', 'f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Task Billing By Projects/Clients', N'Generates a employee wise project summary report with expense detail.', '/Images/TaskBillingReport.gif', NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('7cfc50ba-232a-45e5-9d94-a2950eb9de67', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Employee Attendance Summary Report', N'Summary of employee attendance helpful for user and administrator to generate summary of employee attendance for payroll purpose.', '/Images/AttendanceSummaryReport.gif', NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Project Expense Detail Report', N'Generates a project expense detail report for a given user for a given time period. The user can select the details to be included in the report.', '/Images/ProjectExpenseDetailReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('0a50ebcb-d26f-48d4-b330-63c1767f5eba', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Task Status Summary Report', N'Summary of all project tasks status. Usefull for project manager to get a high level view of whole project status.', '/Images/TaskSummaryReport.gif', NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('97bf7ecd-f90b-4153-8caf-0f000c8545ad', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Detail Expense Report', N'Generates a expense report for a given user for a given time period. The user can select the details to be included in the report.', '/Images/DetailExpenseReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('5085efde-cc24-440e-b0b3-9db1710f812c', 'ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', N'Expense Approval Activity', N'Expense Approval Activity', NULL, NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('15c648e0-35a3-415d-8856-449b4bb05292', 'f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Task Summary Report', N'Generates a task summary report for a given user for a given time period. The user can select the details to be included in the report.', '/Images/TaskSummaryReport1.GIF', NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('5a61fbe5-082d-4f93-89bc-adc222896231', '10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49', N'All External Users Report', N'All External Users Report', '/Images/ExternalUsersReport.gif', NULL, NULL, NULL, 0, NULL)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName]) VALUES ('232d42fd-ab42-4e5b-9f44-d3ac04bebeb2', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Project Activity Summary Report', N'Generates a employee wise project activity summary report with expense detail.', '/Images/ProjectActivityReport.gif', NULL, NULL, NULL, 0, N'ProjectSummaryReport.aspx')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportCategory]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportCategory]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportCategory] WHERE [AccountReportCategoryId] = '98f4aa0d-7c01-466c-8b72-0e42e7f40f38')
BEGIN
INSERT INTO [dbo].[AccountReportCategory] ([AccountReportCategoryId], [AccountReportCategory], [AccountId]) VALUES ('98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'User', NULL)
INSERT INTO [dbo].[AccountReportCategory] ([AccountReportCategoryId], [AccountReportCategory], [AccountId]) VALUES ('6074e414-820a-4230-b44f-eb819d1f8eeb', N'Attendance', NULL)
INSERT INTO [dbo].[AccountReportCategory] ([AccountReportCategoryId], [AccountReportCategory], [AccountId]) VALUES ('94d59168-8843-4312-9a8a-72e4bc02e189', N'Expense Tracking', NULL)
INSERT INTO [dbo].[AccountReportCategory] ([AccountReportCategoryId], [AccountReportCategory], [AccountId]) VALUES ('f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Billing', NULL)
INSERT INTO [dbo].[AccountReportCategory] ([AccountReportCategoryId], [AccountReportCategory], [AccountId]) VALUES ('ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', N'Project Management', NULL)
INSERT INTO [dbo].[AccountReportCategory] ([AccountReportCategoryId], [AccountReportCategory], [AccountId]) VALUES ('10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49', N'Administrator', NULL)
INSERT INTO [dbo].[AccountReportCategory] ([AccountReportCategoryId], [AccountReportCategory], [AccountId]) VALUES ('1a70fbe4-8718-4a11-8b87-88161f524b06', N'Costing', NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportColumn] WHERE [AccountReportId] = 'ef887385-b033-4aca-9108-0e9de53e3e1c')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('1bf5e001-1471-4073-817d-f3743f003d0e', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Amount', 'c835a6c5-b818-4d8b-be5e-e298091e54c9', 10, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('026de905-f094-46b5-b33c-d4b27acc9891', 'dbec5524-29bd-4ce4-8e13-61e5fd2ef92e', N'Location Id', '8ba51c0c-6e88-40d9-b5ac-ce848bd1a151', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f49e2307-1e5b-44e6-87d2-bd8949905289', 'd61628a4-182b-437a-bff0-3211a898273d', N'Telephone1', '62d68300-a782-469c-b05d-ad0a0acd595f', 11, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('98d15407-7e09-4bf6-825e-0c579c597a5d', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Date', '9c8d0b6c-c22e-4af6-98d4-d76daccfae9b', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('12827607-a63d-422b-a610-c1b68446b48a', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Submitted', '6ba073ab-edb8-47a7-ad28-b933c2acba0d', 13, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6b02f909-744d-4eba-93e0-4f25d7bae912', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Hours', 'd28454bc-def5-4654-845e-ece2ffcbe749', 6, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9039a80a-b256-4be2-ad1e-e2f8097acaeb', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', N'Absence Type', '98da3466-4d5b-43a6-8b65-41c98b3a9f99', 4, '40b98200-4657-42a6-9173-e563ac8683c2', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('c44a170b-8bfe-47aa-963c-8468bbcb0bf0', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Task Name', '09085a9b-8edf-46e5-92b1-8fb673c10d62', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8a29640e-f637-4fb8-b58b-7fe35cf4229c', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Project Type', '4c25b5e0-3174-4000-a612-5a1a2be929e4', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('89763710-88f8-4407-903c-de7e4f836377', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', N'Absence Type', '033efa16-ee2e-4e9a-a5af-ba4d4a021d31', 1, '40b98200-4657-42a6-9173-e563ac8683c2', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('89684912-6b49-4287-8a83-5ee78be2bf01', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Expense Name', 'f7b5f74b-d571-4ba1-942b-f57f761ab8e4', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f0894913-b298-4f77-8a77-476ea63271f5', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'Expense Name', 'be2ce330-d242-4841-a640-977a7c567115', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('657a8113-5551-49be-979c-d71304f5cbb8', 'd61628a4-182b-437a-bff0-3211a898273d', N'Client Nick', 'ad46f984-e570-4a37-96d9-5ede945da26f', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b7ed5716-05d2-439c-87b1-5b2a0008a1b3', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Expense Type', 'e393b665-8f9b-4ccc-a378-2291f60701ff', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('30a6fc17-02d9-4a66-9ed0-45ae8b13e7ee', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Client Nick', '68a7a08f-eb68-40fb-abd8-f001e133157a', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6095d819-aa0e-4f60-bbbe-2ed35e8b1438', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Net Amount', '305bc0a1-54be-456e-8990-2ef92e6c1046', 7, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a7c2d91b-51af-45df-8d79-54c87c23b606', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Approver''s Comments', 'e2a10ac3-e4e8-4aba-bf47-d0716f367138', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('4f8e7e1d-9882-499e-b70c-e7bbf168a0eb', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Client Name', '54dfcb31-cb19-4a6b-b1b3-3acdaf95e686', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('85da351f-5c4d-43c6-b21b-4aa0687b0e64', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Net Amount', '72f9e042-e197-40d5-99bf-8f113f9de9b0', 7, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3993bd20-5806-45c8-afcf-699c831a07f6', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Estimated Duration', '549ac4bf-cd93-4a53-a922-5fafca8ca9de', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('844aff28-bea0-4a01-8538-3bf342882b77', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'Task Name', '09085a9b-8edf-46e5-92b1-8fb673c10d62', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('7aca5829-b4dc-4a1e-9ecc-3f65cb7cc608', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Approved', '0b4c8813-0d1f-4f9d-b323-d38d587c4703', 11, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0671f82b-3a5d-45ab-a4f0-5400e74efbf9', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', N'Time Out', '4449cb22-4951-4b95-86af-570fcfcd705c', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9d01a92c-bbf6-4675-9fde-10814bb45362', 'd61628a4-182b-437a-bff0-3211a898273d', N'Country', 'b273cbd1-ae5a-4731-8c3c-2da507a039ef', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('4f4e7f35-69cf-4aef-9850-24707b1a1cd7', '0ea60546-726c-4713-959a-a92f5929af19', N'Employee Id', '24a038ee-d6c5-4d58-b6ba-a954821e25bd', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('38c1f23a-bc21-4d3e-a41e-1341e143d91d', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Tax', '9fd3a94d-8747-4bc0-9a19-9b987f81ce64', 7, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('142e453c-35f8-4499-8697-01ba9b8ce46c', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'Amount', 'c835a6c5-b818-4d8b-be5e-e298091e54c9', 4, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f233a840-54aa-4570-8147-30b7dc01901c', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'Date', '03245154-923d-4d6c-839c-dee71c70ce48', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('17aee244-ffbc-403e-b9fe-e5084fec4fd4', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'Cost', 'c835a6c5-b818-4d8b-be5e-e298091e54c9', 8, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('89866446-def2-4cb3-b0e5-f189eaf2672e', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Date', '240d4313-6874-4c3e-b7ad-3ffb4fd3ed14', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a5b75048-321a-4c22-8c78-b53eecaa9d8f', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Date', '03245154-923d-4d6c-839c-dee71c70ce48', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('4ca79b48-e756-478c-a6ff-f59ce4ae1433', '15c648e0-35a3-415d-8856-449b4bb05292', N'Actual Hours', 'c17c9d5a-e939-45dc-9feb-e8e020c06bcb', 4, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0037de48-2938-4327-b8b5-7712536967f3', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Billing Rate', 'd9244fc6-d0c0-4553-9c38-1fcee3bfc77d', 9, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('87c49f4d-7ef2-452b-85ed-72af5b3f424a', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Status', '1f85ea5d-1c3d-4bd9-bd9b-a2753dc6af21', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3750b74d-cffe-4716-880e-8d583a7cc916', '5a61fbe5-082d-4f93-89bc-adc222896231', N'External User Id', '2f9b07b5-918e-4344-b6b2-778188c910c9', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f3de0d4e-3707-4a94-b407-001c15635055', 'd61628a4-182b-437a-bff0-3211a898273d', N'Website', '28f9080c-8b72-4126-8d13-96658b8c8046', 14, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e992124f-c79c-440a-9466-c8a0df862fcc', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Expense Name', 'be2ce330-d242-4841-a640-977a7c567115', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('5fc5814f-f586-44f7-9c2e-e920e7d669b0', 'd61628a4-182b-437a-bff0-3211a898273d', N'Notes', '0fc8c808-60d8-405e-b8fd-1d0ac23376ce', 15, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('cf94d450-9452-49de-8ae1-ad5ea87e4cfa', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'(BC) Net Amount', 'c29586e1-b31e-46ca-9d79-aa4faf77dd0f', 9, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('fa674851-3668-47dc-b2ee-7a3e1bcff340', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Employee Name', '8bcfb7ba-233e-46cf-a4b0-85bb9daac419', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('15296553-dde1-4e01-a9dc-9c18eb41043b', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Approved', '0b4c8813-0d1f-4f9d-b323-d38d587c4703', 12, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('fef9eb54-8c67-4b26-bb7a-39a9a3711866', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Net Amount', '305bc0a1-54be-456e-8990-2ef92e6c1046', 8, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3ed14855-da81-474c-8000-770a4756ca10', 'd61628a4-182b-437a-bff0-3211a898273d', N'Fax', '09c31c1b-b034-4720-9c6f-270cefbb05c7', 13, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e1390e57-710a-4f94-9f7f-2171098d3410', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Approved', 'bb92b004-8254-4251-ae0b-e1fc2eca82cc', 11, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('86f71f57-80e3-4fa7-9303-6ba56789654b', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Rejected', 'c6cad5c0-b716-4b17-aced-377a60d3b491', 13, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e27b6d5d-dcec-4876-87bd-7a64a81f65f7', '5085efde-cc24-440e-b0b3-9db1710f812c', N'(BC) Net Amount', 'f77505a2-78e9-468f-b364-b00d158022df', 8, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6e6c8e5d-1fec-4f77-908f-1c54be97180b', '0ea60546-726c-4713-959a-a92f5929af19', N'Employee Name', '49c335fa-152c-4efe-8f32-a73b2e01dbbf', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('c70d9d5d-a648-496a-96c0-ef6d0e4ea142', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Description', 'b975258a-525a-439d-bce2-c4e1d961f4ff', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0a45bc5e-5b0a-478b-b682-f0e0cb09ebfb', '0ea60546-726c-4713-959a-a92f5929af19', N'Location Name', 'b7277468-e4fb-4c83-9cd5-8bc11bbc34ab', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e7722162-b923-4ae0-a2ca-cf4ab01bed7e', '15c648e0-35a3-415d-8856-449b4bb05292', N'Actual Amount', 'c835a6c5-b818-4d8b-be5e-e298091e54c9', 5, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9ea41164-3f6d-41c3-82ae-2e6c5d7e9f46', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Date', '03245154-923d-4d6c-839c-dee71c70ce48', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('20e78567-1c3f-49f6-9a3f-be1d5fd47a23', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Approval Status', 'f4d73cc0-92ce-4be9-a8ad-da8bbf9cd7a4', 12, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e140f467-bf0f-4b8a-99f1-2052514030f4', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'Rate', 'd9244fc6-d0c0-4553-9c38-1fcee3bfc77d', 7, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d5d3cf68-af32-4c2d-ab9b-1f2d7291997e', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'User', '90cd938a-e0ab-469f-8bb7-7cbdf574b42a', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d881d569-43ff-4c0b-9ba4-0349a8bd285d', '0ea60546-726c-4713-959a-a92f5929af19', N'Dpeartment Name', 'cfb16d85-b5ce-44b6-ae83-600a55224c87', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('7d2d686a-76b8-432a-b505-464480d4f1cf', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Date', '500f11c1-1090-4797-bf08-8be6b80ee82c', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('7ab8ba6b-570f-4ee3-abbf-1aa4f2525538', '5a61fbe5-082d-4f93-89bc-adc222896231', N'External User', '15794ec5-0f04-4b14-8e01-d8046426d3d5', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8839e26c-d196-472f-a847-3e1b7707b519', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Approval Date', 'b77a16dd-e24b-460b-ac5a-63d8c67ca4d7', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9b80de6d-a8a6-4736-a021-cef1da97d79a', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Submitted', '857ee1e1-a53a-4e40-acb2-14fab52baa29', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('be949f6e-40ff-46c0-804b-41b3400fd191', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Submitted', '857ee1e1-a53a-4e40-acb2-14fab52baa29', 11, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b4eb5e70-057a-4a30-b97b-a3dca2fcfc7e', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Is Active', 'dc035b18-d8ce-4b6b-82f4-15ba12274eb7', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('cd2edf70-9d86-45d3-95c9-170c6e71c32d', 'ca89b85b-177d-4ba6-9837-d0cfcd2de6c1', N'Department Code', '13972cfc-86b3-48e2-86fc-2e8969933ac5', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0a2e4873-6552-4881-91b8-4e29cd2a2277', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Expense Type', '8a16adec-0f14-4708-8abe-bb7b9bfa3e83', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6f402075-d31b-41f8-9bf5-da7e63927690', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Approval Date', '7f415d42-7d08-4233-8f1c-1994e12eccaf', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('84eb3f77-a5c0-42ce-886d-c791a2f0f666', 'd61628a4-182b-437a-bff0-3211a898273d', N'Client Name', '73442e11-56e7-4a6f-8442-9b5e0da1afa9', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('bbdb3f78-8d8a-42b7-902b-9a0005d0a75f', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Duration', 'd17bb7e2-f1c2-482c-aed8-78691aa12d10', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('dcfcd478-0ee5-4456-82c5-ec28b86396af', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'(BC) Cost', '2252853d-a1ea-4c39-a040-218f60b542c2', 9, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('5981e578-06c9-49d1-806e-94ca65be1d13', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'Amount', '305bc0a1-54be-456e-8990-2ef92e6c1046', 3, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9669c27c-100c-45b0-b11a-e8f25772dab6', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', N'Time In', 'f45bc615-b41a-4530-b901-6318467aecc5', 2, '40b98200-4657-42a6-9173-e563ac8683c2', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('ab60137d-2288-4438-9d03-cf714d6b20f5', 'd61628a4-182b-437a-bff0-3211a898273d', N'Email Address', 'd7974749-9584-4861-9e3a-ff29bbc8b266', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b0bba27d-77ce-4a8c-aa7a-9b9641a82eb2', '15c648e0-35a3-415d-8856-449b4bb05292', N'Task Estimated Hours', '1d7a8abb-cfa8-4c61-92e8-5344d2dff104', 2, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('48a3917e-e77c-4b9c-92b3-c70354767328', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Status', '39a6f3db-ae0d-4f01-85e5-368b23d84be5', 8, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0be9db7e-d3d3-4b0b-aaf3-e42ad29651cd', 'ca89b85b-177d-4ba6-9837-d0cfcd2de6c1', N'Department Name', '12295280-bf72-4604-a5dd-f5570a48279a', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9d085183-19ac-4bb6-a8aa-809e7e6adb9f', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Rejected', 'f5014b4c-e772-4204-8fe1-7eb3b9eff438', 15, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a96c6883-a9ff-472a-bcc4-dd7fb9277b58', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'(BC) Amount', '2252853d-a1ea-4c39-a040-218f60b542c2', 8, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9e189584-73b8-45a7-a529-940f69f04d38', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Work Type', 'ed021c2b-f2dd-4bcd-af68-ecf1a23816a4', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8acb1f88-62da-46fd-9920-1d58f5dc2fbc', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Cost Center', '1a0f5010-a994-47c5-956b-3dbb7f21e05c', 8, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('62b4a289-97c3-4fd2-abd2-27b6752ecc3d', '0ea60546-726c-4713-959a-a92f5929af19', N'Employee Code', '722f6cfc-27b1-424d-bdbd-a894890c8d65', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e712c189-d884-45a4-bdc9-76a36565596b', 'd61628a4-182b-437a-bff0-3211a898273d', N'Telephone2', 'eaf48bfb-f099-49e1-9666-68f2bddf1c62', 12, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f1ae2d8b-7722-4058-bded-91bf8f1c4fa6', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', N'Employee Code', '9add2972-9c37-41db-9764-01f835576f2c', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f6e2a38b-318f-4024-8772-a05abf170300', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'Description', 'd515ed38-0c96-4742-a0c3-26aa0608ca80', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('05af298d-06d4-4fb3-b429-4348ac0e1f0f', 'd61628a4-182b-437a-bff0-3211a898273d', N'Address1', '8484686a-d16e-4749-be50-8b62cd7e95dc', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3297318e-95a0-4287-baab-98a9a63ee38a', '4b789064-55c6-4089-81ff-ade3ac159532', N'Absence Type', '033efa16-ee2e-4e9a-a5af-ba4d4a021d31', 2, '40b98200-4657-42a6-9173-e563ac8683c2', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('5a187193-b7c7-432a-9c21-37467b984bfa', '5a61fbe5-082d-4f93-89bc-adc222896231', N'Role', '185418ca-e224-43d0-b6ec-89b19f9208c7', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0b127d93-153d-403b-bdfa-8eb65d13c91b', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', N'Task Status', 'aa6de240-ffae-4e45-b097-a900e3620e03', 2, '40b98200-4657-42a6-9173-e563ac8683c2', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('5e67eb94-799f-4c8f-bfdf-c62117ef7a52', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'(BC) Net Amount', 'c29586e1-b31e-46ca-9d79-aa4faf77dd0f', 8, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('31082d95-76d2-4eb0-9b4c-8d3f71240ee8', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'Duration', 'd17bb7e2-f1c2-482c-aed8-78691aa12d10', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b2eaf696-ba91-4464-9e04-3ab44d10a13d', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Employee Name', '90cd938a-e0ab-469f-8bb7-7cbdf574b42a', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a1523b98-d958-44ec-b4bf-658e5fed5fe9', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', N'Task Type', 'e9b30298-d25c-454e-b989-3a24be44e454', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6605e39a-72fd-4cd6-b670-bb1e27681987', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Submitted', '6ba073ab-edb8-47a7-ad28-b933c2acba0d', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('c9d0269f-3bb7-437a-8a9b-581415e81b1c', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Description', '54e9f825-f8ff-4ab7-8c64-51ed7a3e72b0', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('cd462da3-ae55-456b-baeb-1e0e2f282d61', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'(BC) Amount', '2252853d-a1ea-4c39-a040-218f60b542c2', 5, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('1d0fb1a3-d5a9-4959-8032-bf0947d67532', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Project Description', '9f854204-38e1-4374-bc05-5b00cbc0c9a8', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('630a4da4-851c-43bf-aa83-a569ec2787ac', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Approver''s Comments', '9167bb75-55d5-4840-80ce-0cc2fa87723c', 11, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d08874a5-c8ce-4c4f-aff1-0a6ba330f7d1', '4b789064-55c6-4089-81ff-ade3ac159532', N'Date', '76b52512-6e34-4901-b575-b8a0c9a09a2e', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6140c1a6-defd-401f-bce6-de4784d09f31', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Description', 'd515ed38-0c96-4742-a0c3-26aa0608ca80', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e132a8aa-f980-43c2-85e8-2f806a2bf59b', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Task Name', '39cd5bf1-95e2-4621-b3a9-bf22193ea242', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b048c8aa-3678-4324-b1e4-73ec7811ed7e', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Amount', 'c835a6c5-b818-4d8b-be5e-e298091e54c9', 7, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('ce0f4dac-25d6-4ed8-b7a3-fd29586c8b47', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'Activity Code', '920e3593-a408-4d9f-aa9a-fe761db40232', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('99890fb7-a11b-4a57-948a-a82b1db9a18e', 'ca89b85b-177d-4ba6-9837-d0cfcd2de6c1', N'Department Id', 'd497b198-914f-4ed8-92b4-17ae2b6d95c1', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f6ce1fb7-68e1-46b5-b199-04d9c36e2889', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Project Name', '55fcc427-98b5-4bfe-bfd4-f758173dcf03', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a1a28fb8-75ac-42f6-a31d-990fdbfc64a2', '5a61fbe5-082d-4f93-89bc-adc222896231', N'Email Address', 'f819cfed-8992-4a39-b935-ea9b00e8fe53', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('c53151bc-9790-4a79-ab53-f735ebf51dc5', '0ea60546-726c-4713-959a-a92f5929af19', N'Email Address', '6fc2acdb-3ddd-49b2-8481-76782423f4d0', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('74d2d3bc-a36c-47cb-a091-bd53376dda8d', 'd61628a4-182b-437a-bff0-3211a898273d', N'Zip Code', '4b9ba24a-279b-4e16-961f-bff4b12393ab', 8, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6cc995bd-bfd2-4bb4-a1f4-1a43b33d1d83', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Duration', 'd17bb7e2-f1c2-482c-aed8-78691aa12d10', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('fe0112be-ef1f-49bd-8d79-5f0b90ed7a70', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Description', '54e9f825-f8ff-4ab7-8c64-51ed7a3e72b0', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0cce2bbf-6815-4339-b1c9-21fe24d396ee', '15c648e0-35a3-415d-8856-449b4bb05292', N'Task Estimated Cost', '710d7eba-65a6-40fd-bde1-b059480c1710', 3, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('dab7b3bf-f0b6-4616-9364-334c7eee49c3', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'(BC) Amount', '2252853d-a1ea-4c39-a040-218f60b542c2', 11, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8a18bebf-7c39-4604-a3f6-64ae820e8b12', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'(BC) Amount', 'c29586e1-b31e-46ca-9d79-aa4faf77dd0f', 4, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('4fec56c1-f14f-43d9-8585-a4d150580a05', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', N'Time Out', '4449cb22-4951-4b95-86af-570fcfcd705c', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8ec77fc1-ad99-45c9-903a-ae03665b4b83', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Project Name', '55fcc427-98b5-4bfe-bfd4-f758173dcf03', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d7a2b7c2-0db9-487d-82bc-0df13f3abcf1', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', N'Attendance Date', 'f9a996b3-e1d5-4a9a-8aef-ae5897e95423', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8b911cc3-30fc-474a-9cd0-ee3e407f5f56', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'Hours', 'c17c9d5a-e939-45dc-9feb-e8e020c06bcb', 3, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('c9da46c3-24f8-4650-9d0f-ae5acbd59761', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Rejected', 'c6cad5c0-b716-4b17-aced-377a60d3b491', 12, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('2ed26cc4-1155-4c80-8cea-874bbeed4c6c', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Expense Name', 'be2ce330-d242-4841-a640-977a7c567115', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d70ef2c5-aeea-4237-abc0-264fe09c53a6', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Approved', 'bb92b004-8254-4251-ae0b-e1fc2eca82cc', 14, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f07af2c5-2ad2-497c-99b1-9e361697ce64', 'dbec5524-29bd-4ce4-8e13-61e5fd2ef92e', N'Location Name', '54556b52-68c0-4399-a701-df13fcfb4737', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0e9b1ec9-ee67-4768-90c8-c306de468824', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Approver Name', '102c2c7a-a220-4518-b398-7d68fe6eada6', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('ec6adfca-9b4c-4f2f-b19f-9bebc4330634', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Project Name', '12a22ff9-8ae9-417a-b323-1efbffd3fbb9', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('5db40ecb-fdf6-478e-8268-a8c7d0a19728', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Approver Name', '0474737c-21ec-494a-bec7-536a73187e5c', 12, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('167784cb-ac20-4a0b-940d-a80f3134fbaa', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Approval Status', 'f4d73cc0-92ce-4be9-a8ad-da8bbf9cd7a4', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('7ad98bcb-758e-4fdb-b06d-5c8d81ae38aa', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Tax', '9fd3a94d-8747-4bc0-9a19-9b987f81ce64', 6, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('1c0fa4cc-48a8-4c12-b9c4-634f5b916893', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Expense Type', '8a16adec-0f14-4708-8abe-bb7b9bfa3e83', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8f1902cd-2f85-402a-87ba-e6ca29c96761', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Hours', 'c17c9d5a-e939-45dc-9feb-e8e020c06bcb', 6, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('abb0ebcd-5b06-4831-b447-4648a1524a38', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Project Code', 'e94e5f0b-43a9-4fe5-9e78-1e5d5e19296c', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3e5f72d4-ac12-4587-9476-da7b7379f0d7', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Project Id', '27675eb8-27ed-4e8e-a6be-b5c17bfe1756', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d3b85bd6-8bb6-495c-9462-d4dd69718461', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'Activity Name', '09085a9b-8edf-46e5-92b1-8fb673c10d62', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('35b06ed7-32d4-4e65-ba8b-3be77088e3d6', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Project Name', 'dbf661fc-18db-4b8f-8f5a-6722ef61d7d3', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d18694d9-b34f-45d4-8343-656c6a1e6229', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Approval Status', '69916fe5-295d-4d29-81eb-7798d2d2f72f', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('1b7cdcd9-c359-44f8-9540-0838f9094809', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'Expense Type', '8a16adec-0f14-4708-8abe-bb7b9bfa3e83', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('854751dc-04d2-4ec4-835e-d766983f05a8', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Amount', '806569d9-0172-4b0e-8cfc-b727f38a0e9b', 5, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a039d9dc-7c7f-4851-85d1-be244b729ca1', '0ea60546-726c-4713-959a-a92f5929af19', N'Role', '37e67bb4-f0b9-4827-a875-e90a3d3a69b8', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a0fe4be4-1dab-4521-8c9a-070ebe730acc', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'Rejected', 'f5014b4c-e772-4204-8fe1-7eb3b9eff438', 12, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('53c05ee5-423a-4356-9ea8-8f62e526722f', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Approval Status', '69916fe5-295d-4d29-81eb-7798d2d2f72f', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0849cae5-5e30-480d-a2ae-45422994c812', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Hours', 'c17c9d5a-e939-45dc-9feb-e8e020c06bcb', 5, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('331867e8-d5fa-4613-8051-f6293841b74b', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Project Status', '881089be-a56f-40ca-82d9-3f65fe92de28', 8, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('de1eabe9-d043-43a3-88f7-9ce02c5e5129', '5085efde-cc24-440e-b0b3-9db1710f812c', N'Employee Name', '3619fc77-d364-4f9d-aba7-e61e9fc0de64', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('898efaea-552d-4406-9f0a-244d5347778f', 'd61628a4-182b-437a-bff0-3211a898273d', N'Client Id', '9ed46b85-3439-450e-bc26-5a337d8358f9', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a43f04ed-8907-49f2-8a37-8d930115c519', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', N'Time In', 'f45bc615-b41a-4530-b901-6318467aecc5', 2, '40b98200-4657-42a6-9173-e563ac8683c2', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('57f53ded-0541-4cf1-81a4-bfc911b18953', 'd61628a4-182b-437a-bff0-3211a898273d', N'City', 'e39bc241-f9f0-451c-a846-ab2e5ae3b342', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('c2aacbef-444b-4f47-ad8f-d82795d9fde2', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'Date', '240d4313-6874-4c3e-b7ad-3ffb4fd3ed14', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('097804f2-0d02-4ec0-9251-1071348e49be', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Duration', '682c55ad-51e3-4b6d-90f3-0af9ada6e839', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8c610ef2-bcc6-455b-8d58-c8713b0b284e', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Project Name', '8923323c-14ab-49aa-87c2-d12e950da53b', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6fcae7f2-358d-47bb-8c5e-4d623b664c90', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'Task Name', '09085a9b-8edf-46e5-92b1-8fb673c10d62', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('7b91d2f3-ca2f-4170-92a1-d9958a4cfefd', '5a61fbe5-082d-4f93-89bc-adc222896231', N'Client Nick', '24f39034-6f4f-46c7-9e7d-873a8ca89a90', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0f0e80f6-cf04-4d11-a94e-573b0161379b', '5a61fbe5-082d-4f93-89bc-adc222896231', N'Client Name', '83fabc4c-21f2-44ae-a170-da70e01bc6aa', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a8abdaf7-f4dd-4f04-98bc-b7b9996a3eb9', '15c648e0-35a3-415d-8856-449b4bb05292', N'Task Name', '09085a9b-8edf-46e5-92b1-8fb673c10d62', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('ededfef8-08a8-4e01-963d-75493ff5774a', 'd61628a4-182b-437a-bff0-3211a898273d', N'State', '0438b497-e477-4281-a32d-449a9256558f', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('06aa97fa-3eac-4cc0-86f0-93faef211c31', '479ce554-5ab3-4e0b-a552-ca1b233713c9', N'Project Name', 'c2319430-fa75-44ab-b82d-8a809f85606c', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e99fb4fa-6dfd-46dc-bb07-9b14e508611e', 'd61628a4-182b-437a-bff0-3211a898273d', N'Address2', 'def15eda-7381-4099-a4f4-741121c9ec93', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('28ff78fe-b93e-4351-850f-138ec5661a41', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'Hours', 'c17c9d5a-e939-45dc-9feb-e8e020c06bcb', 6, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('66f1baff-bed2-4d14-8c27-9c5f3a243a4f', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Amount', '806569d9-0172-4b0e-8cfc-b727f38a0e9b', 6, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportDataSourceMapping] WHERE [AccountReportId] = '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc')
BEGIN
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('1bccc207-432d-49d5-b441-36cc22a6d466', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('c3986726-9f2d-40c3-bbe0-bfbe617acbe0', 'd61628a4-182b-437a-bff0-3211a898273d', 'd8b6136f-4e25-4323-85be-e3f62fe405b1')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('ac9d3531-d0af-4fe7-a841-475de3939522', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', 'a5187c80-820c-4092-ae6d-630645bb8f0a')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('f319c032-88a9-4a29-b6f1-40a815a4c0b2', '15c648e0-35a3-415d-8856-449b4bb05292', '3a080202-6842-4eca-8c79-a945978810b4')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('c305f635-49b3-4d8d-be29-cfa472410087', '479ce554-5ab3-4e0b-a552-ca1b233713c9', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('e6e9874f-d64b-4c7a-923f-e9c6c33d997a', '4b789064-55c6-4089-81ff-ade3ac159532', '96805a70-5415-44d8-a8db-5f0e148ea357')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('3e8c7e5c-a0a4-4b69-93db-a72f632632c6', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', '96805a70-5415-44d8-a8db-5f0e148ea357')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('95781363-782d-454b-b19e-9e0dd3d80a8e', '5085efde-cc24-440e-b0b3-9db1710f812c', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('9dcab675-363b-4346-9bd8-0a9ef70a5b30', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('c718d586-9511-4752-a1cc-347f56cebd30', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '1e657f0a-881b-4f50-839a-c3a962c9a460')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('e7c3d28a-7801-4c33-86eb-0d5decfdaafc', 'ca89b85b-177d-4ba6-9837-d0cfcd2de6c1', '725d942c-6e62-41b4-b785-5325f34bde2b')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('7928868e-1e29-4bc6-8430-09960da5870b', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('1fb164a0-3724-4b01-a10c-c1f1f226764f', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', '3a080202-6842-4eca-8c79-a945978810b4')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('12d328a4-b964-48dc-80c6-cb48bed1b8f7', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', '3a080202-6842-4eca-8c79-a945978810b4')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('bb52a1bb-a806-40c8-801d-ef5647654ce3', 'dbec5524-29bd-4ce4-8e13-61e5fd2ef92e', 'a59652ee-ae5c-44a2-8654-267204e3f248')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('409848cc-aaee-4ee3-a46f-0686706128d8', '5a61fbe5-082d-4f93-89bc-adc222896231', '44d99754-217d-400c-8847-8e46ca6b7641')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('a6c463d7-4b30-4be7-b1b5-d6320a10818e', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('db0a29de-3390-44ae-bdd6-548e672ed5ba', '4308f13b-1b4c-428b-87e0-65af707b2e17', '3a080202-6842-4eca-8c79-a945978810b4')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('9b9f56e0-c07b-4b16-991c-7f16ff4eb502', 'ef887385-b033-4aca-9108-0e9de53e3e1c', '3a080202-6842-4eca-8c79-a945978810b4')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('83901eeb-cc8c-4f8a-b6bd-4e759a10dfa2', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', 'a5187c80-820c-4092-ae6d-630645bb8f0a')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('956428f4-5edc-4a50-948f-7fd6b57acf6c', '0ea60546-726c-4713-959a-a92f5929af19', '14428dea-801b-4f8e-b2e3-afa8cb644ac8')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportGroup] WHERE [AccountReportId] = '7cfc50ba-232a-45e5-9d94-a2950eb9de67')
BEGIN
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('927cc808-f2b3-48da-b438-9b50825047bf', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', N'EmployeeName', N'Employee Name', 0, '290730e9-0ed6-47d2-9467-c44e8f8832cb')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('e76fec1f-a0a6-42ec-a57e-8058a6dfc539', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'ExpenseName', N'Expense Name', 1, 'be2ce330-d242-4841-a640-977a7c567115')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('79e35623-4b3d-4c14-9ed8-0f54f432b967', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'ExpenseType', N'Expense Type', 0, '8a16adec-0f14-4708-8abe-bb7b9bfa3e83')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('8ba24934-fb35-4350-9548-46a6fd338b7b', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'ProjectName', N'Project Name', 2, '8923323c-14ab-49aa-87c2-d12e950da53b')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('940ad639-d591-4c53-a679-3b30eaf739b4', 'ef887385-b033-4aca-9108-0e9de53e3e1c', N'EmployeeName', N'Employee Name', 0, '90cd938a-e0ab-469f-8bb7-7cbdf574b42a')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('6f2e453c-afee-4caf-b36e-d9bad4e93b81', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', N'EmployeeName', N'Employee Name', 1, '4643f6db-3c1f-4bb6-b787-0915fa68de45')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('a521b243-325b-41e1-9198-498823ea83aa', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', N'TaskStatus', N'Task Status', 0, 'aa6de240-ffae-4e45-b097-a900e3620e03')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('ed7c3d4b-773c-4b2f-a4dd-192028e8ecce', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'ProjectName', N'Project Name', 1, '8923323c-14ab-49aa-87c2-d12e950da53b')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', N'TaskName', N'Task Name', 0, '09085a9b-8edf-46e5-92b1-8fb673c10d62')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('c1304650-df9f-4a21-9671-9a6a12c25304', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'EmployeeName', N'Employee Name', 1, '90cd938a-e0ab-469f-8bb7-7cbdf574b42a')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('d714845a-4be9-40cb-95f8-c3d70cf4b9ee', '4b789064-55c6-4089-81ff-ade3ac159532', N'EmployeeName', N'Employee Name', 0, '4643f6db-3c1f-4bb6-b787-0915fa68de45')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('c7b0088c-d103-4784-aa88-619d9caf5805', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'ClientName', N'Client Name', 3, 'c85f2de8-5da8-4a15-8a5e-357b580c8f7b')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', N'ProjectName', N'Project Name', 1, '55fcc427-98b5-4bfe-bfd4-f758173dcf03')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('bf2331b7-86c3-4bbd-9241-b25858eb1ecb', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', N'DepartmentName', N'Department Name', 0, '1625598c-2b75-4cc7-95d0-67ae696b73e0')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('453e17bd-6b06-4ab1-be14-211b4e7ebcfa', '4308f13b-1b4c-428b-87e0-65af707b2e17', N'ProjectName', N'Project Name', 0, '55fcc427-98b5-4bfe-bfd4-f758173dcf03')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('b56fbac3-7534-40ea-b61f-ed89eb22cd74', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', N'ClientName', N'Client Name', 3, '093fbf2a-1067-4bee-a1c0-196e19ff2948')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('0c6321d2-79a3-49ca-9cc5-5b6aee3b52bc', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', N'EmployeeName', N'Employee Name', 0, '290730e9-0ed6-47d2-9467-c44e8f8832cb')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('915e2dd6-3c02-4f00-acc0-37c4e4a4edb1', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'EmployeeName', N'Employee Name', 0, '0088b092-6d2b-4ebf-8735-ade0ea17ad99')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('599713e6-c497-45fc-8a25-f8d7774c6f29', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', N'AbsenceDescription', N'Absence Type', 0, '033efa16-ee2e-4e9a-a5af-ba4d4a021d31')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', N'ClientName', N'Client Name', 2, 'c85f2de8-5da8-4a15-8a5e-357b580c8f7b')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('e48d1eeb-6c53-44e5-afaa-875dab1a39b2', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'ProjectName', N'Project Name', 2, '55fcc427-98b5-4bfe-bfd4-f758173dcf03')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('18610aec-b9db-42c2-8198-01e33fa23396', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', N'ProjectName', N'Project Name', 2, 'd833c94f-91f7-4980-89a0-b38f25ec656f')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('a0724ff1-c5c0-4527-9f95-4b70e9d28603', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', N'EmployeeName', N'Employee Name', 0, '0088b092-6d2b-4ebf-8735-ade0ea17ad99')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('6527b2f3-2dae-4c7f-a189-9e7b5a65a97a', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', N'TaskType', N'Task Type', 1, 'e9b30298-d25c-454e-b989-3a24be44e454')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('7686d2f4-d144-489a-b63d-79b6d8948e1b', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', N'TaskName', N'Task Name', 0, '09085a9b-8edf-46e5-92b1-8fb673c10d62')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportSummary] WHERE [AccountReportId] = '43af8d41-015b-4560-a66f-7e2b0fde1f7b')
BEGIN
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('afe12b02-7f69-44bd-a3ab-726f9a9d62ef', '8ba24934-fb35-4350-9548-46a6fd338b7b', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '988506ce-0c45-48bc-a08f-5ccf96746948', N'TaxAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('2728d505-2956-4884-bb14-83b3a986777c', 'b56fbac3-7534-40ea-b61f-ed89eb22cd74', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '784ec6ea-1b36-48a7-afc9-1e7dd5a481ba', N'NetAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('43d94007-ffdc-44ef-9b39-108614b5b6be', 'c1304650-df9f-4a21-9671-9a6a12c25304', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'cd462da3-ae55-456b-baeb-1e0e2f282d61', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('2e7d7007-8bed-4400-99f5-fc2218d037f0', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'e7722162-b923-4ae0-a2ca-cf4ab01bed7e', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('d4b0e307-6047-4dea-9e9e-de6bcbed33f6', '79e35623-4b3d-4c14-9ed8-0f54f432b967', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '5981e578-06c9-49d1-806e-94ca65be1d13', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b9333509-cfee-4ec6-80e8-1c1e626f4bdd', NULL, '5085efde-cc24-440e-b0b3-9db1710f812c', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'e27b6d5d-dcec-4876-87bd-7a64a81f65f7', N'(BC) Net Amount', 0, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b2d3e716-58d7-43db-9e1d-36a5f87e8443', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '6716663f-8dea-4e83-a8e6-edac0faa1d69', N'TotalTime', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a067dd1b-f209-45de-a95f-6337e4731712', '915e2dd6-3c02-4f00-acc0-37c4e4a4edb1', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'cf94d450-9452-49de-8ae1-ad5ea87e4cfa', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('ef8f0c1c-7fee-47e8-be23-12003b2c0da9', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '00000000-0000-0000-0000-000000000000', N'TotalTime', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b5c3de1e-16fd-47ce-bed2-9e475045e33c', 'e76fec1f-a0a6-42ec-a57e-8058a6dfc539', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8a18bebf-7c39-4604-a3f6-64ae820e8b12', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('6145211f-f722-47c3-af3f-2a75f231956b', 'a521b243-325b-41e1-9198-498823ea83aa', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '00000000-0000-0000-0000-000000000000', N'TaskName', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('9ceed72b-9421-4fb7-9555-034c898c3df1', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'eecbebcc-1975-46fb-9e01-aa4e3eadec7e', N'TotalHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('e1134630-24d6-4cf6-a7b7-5243b870202c', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'e7722162-b923-4ae0-a2ca-cf4ab01bed7e', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b63ac330-0f56-4ed6-8c8e-4fb15c939095', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'a6392155-d96d-42f9-95a8-cda072237394', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('ee3d6f34-08c4-4b77-a608-6b3cb9e22a7a', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'eecbebcc-1975-46fb-9e01-aa4e3eadec7e', N'TotalHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('058d5935-bafa-4b9f-97b2-69f2a68e526b', '0c6321d2-79a3-49ca-9cc5-5b6aee3b52bc', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', '40b98200-4657-42a6-9173-e563ac8683c2', '9669c27c-100c-45b0-b11a-e8f25772dab6', N'TimeIn', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('5c6b393c-2a3e-46ff-8789-5a985c8d717b', 'c1304650-df9f-4a21-9671-9a6a12c25304', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8b911cc3-30fc-474a-9cd0-ee3e407f5f56', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('70d25b40-2ca9-491b-94a2-248a12a6c7d2', '7686d2f4-d144-489a-b63d-79b6d8948e1b', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'cd462da3-ae55-456b-baeb-1e0e2f282d61', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('be8c0b43-c6d1-4263-a772-d9bb59f8aba8', '8ba24934-fb35-4350-9548-46a6fd338b7b', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '784ec6ea-1b36-48a7-afc9-1e7dd5a481ba', N'NetAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('17ec384b-9053-4c1e-aaea-b6556bf5d751', '79e35623-4b3d-4c14-9ed8-0f54f432b967', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '988506ce-0c45-48bc-a08f-5ccf96746948', N'TaxAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('3630e24f-2638-43f8-b5ee-0ef7dca8aa24', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0cce2bbf-6815-4339-b1c9-21fe24d396ee', N'EstimatedCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('03c44a51-10af-421e-a367-ac4368e8aef3', '915e2dd6-3c02-4f00-acc0-37c4e4a4edb1', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'fef9eb54-8c67-4b26-bb7a-39a9a3711866', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('534c2b54-c4da-4cb7-be7e-4ffc8da20958', 'e76fec1f-a0a6-42ec-a57e-8058a6dfc539', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '988506ce-0c45-48bc-a08f-5ccf96746948', N'TaxAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('7d67a657-5fd8-40ff-85d7-6386445493e2', '6f2e453c-afee-4caf-b36e-d9bad4e93b81', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', '40b98200-4657-42a6-9173-e563ac8683c2', '89763710-88f8-4407-903c-de7e4f836377', N'AbsenceDescription', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('79ddc25d-4a07-4547-ac52-3db6b78a3d23', 'c1304650-df9f-4a21-9671-9a6a12c25304', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '142e453c-35f8-4499-8697-01ba9b8ce46c', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('757e045e-8206-47e8-974a-e3047211e190', 'a0724ff1-c5c0-4527-9f95-4b70e9d28603', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '7ad98bcb-758e-4fdb-b06d-5c8d81ae38aa', N'TaxAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('fead555e-225c-4af5-9c85-805fc93852ac', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'eecbebcc-1975-46fb-9e01-aa4e3eadec7e', N'TotalHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('36c49060-9c7f-4ded-aff1-d10e217d2220', 'a521b243-325b-41e1-9198-498823ea83aa', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '8aa83efb-e4ca-4fb3-9811-cca0de4680af', N'TaskName', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('2559f360-378e-44d3-8c14-887b19d707b6', '940ad639-d591-4c53-a679-3b30eaf739b4', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'dab7b3bf-f0b6-4616-9364-334c7eee49c3', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('8e19b362-cd5a-4d22-b312-8745fd526361', '6527b2f3-2dae-4c7f-a189-9e7b5a65a97a', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '8aa83efb-e4ca-4fb3-9811-cca0de4680af', N'TaskName', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('94c3386a-8be8-45bc-9e74-cdca30d2b392', '915e2dd6-3c02-4f00-acc0-37c4e4a4edb1', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '38c1f23a-bc21-4d3e-a41e-1341e143d91d', N'TaxAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('6078a06e-7c5e-4a3d-9737-01f0d315d878', 'c7b0088c-d103-4784-aa88-619d9caf5805', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '142e453c-35f8-4499-8697-01ba9b8ce46c', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('034fb771-b2eb-4ef3-9380-850e57dff578', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'b0bba27d-77ce-4a8c-aa7a-9b9641a82eb2', N'EstimatedTimeSpent', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a2fe7a74-9c66-484d-b583-474a6bc391e4', '453e17bd-6b06-4ab1-be14-211b4e7ebcfa', '4308f13b-1b4c-428b-87e0-65af707b2e17', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'dcfcd478-0ee5-4456-82c5-ec28b86396af', N'Currency Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('69280577-099b-4ae5-94f7-ffb4089876fe', '7686d2f4-d144-489a-b63d-79b6d8948e1b', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8b911cc3-30fc-474a-9cd0-ee3e407f5f56', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a758b07b-29d7-43a8-9179-da0d86b3b606', '6527b2f3-2dae-4c7f-a189-9e7b5a65a97a', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '0b127d93-153d-403b-bdfa-8eb65d13c91b', N'TaskStatus', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('7e6f987c-c337-444a-85a8-45640a976d77', 'c7b0088c-d103-4784-aa88-619d9caf5805', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8b911cc3-30fc-474a-9cd0-ee3e407f5f56', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('7cc09d7d-a4eb-4771-9ef7-026e3b2826fb', 'e48d1eeb-6c53-44e5-afaa-875dab1a39b2', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8b911cc3-30fc-474a-9cd0-ee3e407f5f56', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('7c347980-d67a-4cbb-967d-0820bd572af1', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'b0bba27d-77ce-4a8c-aa7a-9b9641a82eb2', N'EstimatedTimeSpent', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('e21d9482-6b8c-48cf-b942-a53be540d93b', '927cc808-f2b3-48da-b438-9b50825047bf', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', '40b98200-4657-42a6-9173-e563ac8683c2', 'a43f04ed-8907-49f2-8a37-8d930115c519', N'TimeIn', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('94c0eb84-d6a4-4b8f-aaf5-5c04dee610ff', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4ca79b48-e756-478c-a6ff-f59ce4ae1433', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('8a487d86-953c-41e1-878c-1e78f96963e2', 'bf2331b7-86c3-4bbd-9241-b25858eb1ecb', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8f1902cd-2f85-402a-87ba-e6ca29c96761', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('fcf6b88c-399a-49b7-92e4-7e7d47ec4822', 'e76fec1f-a0a6-42ec-a57e-8058a6dfc539', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '784ec6ea-1b36-48a7-afc9-1e7dd5a481ba', N'NetAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('46770b8d-d960-411c-9f5b-623c5e3dcad8', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '00000000-0000-0000-0000-000000000000', N'TotalTime', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('4f72268e-f6d2-47d6-a88a-6ab8ae310c6f', 'bf2331b7-86c3-4bbd-9241-b25858eb1ecb', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'a96c6883-a9ff-472a-bcc4-dd7fb9277b58', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('837ed58f-4697-43c5-bb2f-e67ff80317e4', '599713e6-c497-45fc-8a25-f8d7774c6f29', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', '40b98200-4657-42a6-9173-e563ac8683c2', '89763710-88f8-4407-903c-de7e4f836377', N'AbsenceDescription', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a1d0ab92-a431-4dd3-95c9-ce8433d85333', '79e35623-4b3d-4c14-9ed8-0f54f432b967', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8a18bebf-7c39-4604-a3f6-64ae820e8b12', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('4cbab695-e75e-4d64-b2a6-692299dbc029', 'a0724ff1-c5c0-4527-9f95-4b70e9d28603', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '5e67eb94-799f-4c8f-bfdf-c62117ef7a52', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('4a0d0696-c92e-4948-a25e-f06d5488d1d8', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0cce2bbf-6815-4339-b1c9-21fe24d396ee', N'EstimatedCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('730b4598-3b3c-4434-8b19-02af6967131b', 'a0724ff1-c5c0-4527-9f95-4b70e9d28603', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '6095d819-aa0e-4f60-bbbe-2ed35e8b1438', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('c877f599-9c63-4f2e-80ff-373eb9ac6b74', 'c7b0088c-d103-4784-aa88-619d9caf5805', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'cd462da3-ae55-456b-baeb-1e0e2f282d61', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('2e217c9c-cb58-49c6-bd36-1a75670aedfa', '0c6321d2-79a3-49ca-9cc5-5b6aee3b52bc', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', '40b98200-4657-42a6-9173-e563ac8683c2', '9039a80a-b256-4be2-ad1e-e2f8097acaeb', N'AbsenceDescription', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('3f2ea59c-b79d-4eb2-8b47-7cbae6676c95', 'b56fbac3-7534-40ea-b61f-ed89eb22cd74', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '5981e578-06c9-49d1-806e-94ca65be1d13', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('78379e9d-08a2-4f51-9d82-bef816607a10', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'a6392155-d96d-42f9-95a8-cda072237394', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('7f1edd9e-b457-4f94-a6e5-afa194414d98', '18610aec-b9db-42c2-8198-01e33fa23396', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '00000000-0000-0000-0000-000000000000', N'TaskName', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('339057a0-3b4b-49cd-a27c-c3ce0fc7d330', '940ad639-d591-4c53-a679-3b30eaf739b4', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0037de48-2938-4327-b8b5-7712536967f3', N'BillingRate', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('fe7835a5-6296-42bb-abb9-30891376e296', NULL, '5085efde-cc24-440e-b0b3-9db1710f812c', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '85da351f-5c4d-43c6-b21b-4aa0687b0e64', N'Net Amount', 0, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b298b8a9-7032-44b3-b05c-9f73d60d63e1', '18610aec-b9db-42c2-8198-01e33fa23396', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '8aa83efb-e4ca-4fb3-9811-cca0de4680af', N'TaskName', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('973ae6ac-69b4-4d2e-8307-5e3613e515b0', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '00000000-0000-0000-0000-000000000000', N'TotalTime', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('bc363ab0-d909-4bcf-9f2b-617bc38dfccd', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0cce2bbf-6815-4339-b1c9-21fe24d396ee', N'EstimatedCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b27414b3-a2ba-4cab-b1ad-9e1441ccf6c5', '8ba24934-fb35-4350-9548-46a6fd338b7b', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8a18bebf-7c39-4604-a3f6-64ae820e8b12', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f02277b4-9ea4-45b4-b962-698e273f2f1b', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'e7722162-b923-4ae0-a2ca-cf4ab01bed7e', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b8c514b6-11ea-41c1-a309-1e647179fd7e', 'd714845a-4be9-40cb-95f8-c3d70cf4b9ee', '4b789064-55c6-4089-81ff-ade3ac159532', '40b98200-4657-42a6-9173-e563ac8683c2', '3297318e-95a0-4287-baab-98a9a63ee38a', N'AbsenceDescription', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b33715b6-7f66-4bc9-8ed9-0a4db28b38cf', '7686d2f4-d144-489a-b63d-79b6d8948e1b', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '142e453c-35f8-4499-8697-01ba9b8ce46c', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('4d1496b6-1ba8-493c-831d-8dad792dd56d', 'a0724ff1-c5c0-4527-9f95-4b70e9d28603', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '854751dc-04d2-4ec4-835e-d766983f05a8', N'NetAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f49e9db6-5b5b-477c-b528-75adcb006cf1', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'b0bba27d-77ce-4a8c-aa7a-9b9641a82eb2', N'EstimatedTimeSpent', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('d73d30bc-64eb-447f-b098-ce2ef19d5998', 'ed7c3d4b-773c-4b2f-a4dd-192028e8ecce', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '5e67eb94-799f-4c8f-bfdf-c62117ef7a52', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('730882c0-cb38-4130-a08a-f488691a25b0', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4ca79b48-e756-478c-a6ff-f59ce4ae1433', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('58970fc5-cae6-46e4-a7f4-621d8eff73a2', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '6716663f-8dea-4e83-a8e6-edac0faa1d69', N'TotalTime', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('74df7cc6-63ae-4238-b1fc-e62014df8016', '79e35623-4b3d-4c14-9ed8-0f54f432b967', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '784ec6ea-1b36-48a7-afc9-1e7dd5a481ba', N'NetAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('e7a11ecd-69e1-4282-a1b2-3a6fba0fc553', 'b56fbac3-7534-40ea-b61f-ed89eb22cd74', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8a18bebf-7c39-4604-a3f6-64ae820e8b12', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('602746ce-7ef8-4c76-9a55-1c6593ec4560', 'e76fec1f-a0a6-42ec-a57e-8058a6dfc539', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '5981e578-06c9-49d1-806e-94ca65be1d13', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('cb6d00cf-d15d-4b14-9bb4-6af1e6ff1422', '940ad639-d591-4c53-a679-3b30eaf739b4', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0849cae5-5e30-480d-a2ae-45422994c812', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('5f84bbd0-4cd2-4e90-a16c-158cd713f7d6', '940ad639-d591-4c53-a679-3b30eaf739b4', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '1bf5e001-1471-4073-817d-f3743f003d0e', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('5ca7d7d4-39be-47af-ba96-64be6b8c5069', NULL, '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '6b02f909-744d-4eba-93e0-4f25d7bae912', N'Total Hours', 0, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('c65292d6-3a45-4784-bc45-bd53ec76a0eb', '6527b2f3-2dae-4c7f-a189-9e7b5a65a97a', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '00000000-0000-0000-0000-000000000000', N'TaskName', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('3e1f33db-4b17-4dd8-af5a-7b4c4868d23f', 'e48d1eeb-6c53-44e5-afaa-875dab1a39b2', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '142e453c-35f8-4499-8697-01ba9b8ce46c', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('c6cc91dc-908d-4156-8325-488a7b087b46', 'bf2331b7-86c3-4bbd-9241-b25858eb1ecb', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'b048c8aa-3678-4324-b1e4-73ec7811ed7e', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('d713dfde-c3eb-4a8d-a00f-59192c7119d4', '453e17bd-6b06-4ab1-be14-211b4e7ebcfa', '4308f13b-1b4c-428b-87e0-65af707b2e17', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'e140f467-bf0f-4b8a-99f1-2052514030f4', N'Billing Rate', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('af4121e1-c93c-4910-a385-b10797fca71f', '18610aec-b9db-42c2-8198-01e33fa23396', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '0b127d93-153d-403b-bdfa-8eb65d13c91b', N'TaskStatus', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a6adf5e1-e501-4425-a7f3-29cc4feab0d0', '453e17bd-6b06-4ab1-be14-211b4e7ebcfa', '4308f13b-1b4c-428b-87e0-65af707b2e17', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '17aee244-ffbc-403e-b9fe-e5084fec4fd4', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('5237b6e2-df1c-4672-a3ea-9494cbf322a2', '453e17bd-6b06-4ab1-be14-211b4e7ebcfa', '4308f13b-1b4c-428b-87e0-65af707b2e17', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '28ff78fe-b93e-4351-850f-138ec5661a41', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('1fde4be3-8321-4e84-bd95-7107095a5f7f', 'ed7c3d4b-773c-4b2f-a4dd-192028e8ecce', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '854751dc-04d2-4ec4-835e-d766983f05a8', N'NetAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('30fdeae6-00d2-4a2f-8e81-97b292f8c131', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'a6392155-d96d-42f9-95a8-cda072237394', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('ca4d71e9-8388-49f5-b92f-8403d55966fb', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '6716663f-8dea-4e83-a8e6-edac0faa1d69', N'TotalTime', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('fe45e6e9-a3ac-4570-bdb0-5c547e8f0a2a', '8ba24934-fb35-4350-9548-46a6fd338b7b', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '5981e578-06c9-49d1-806e-94ca65be1d13', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('cf2300ed-ccf3-4a3b-9804-ee8f01062d73', 'e48d1eeb-6c53-44e5-afaa-875dab1a39b2', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'cd462da3-ae55-456b-baeb-1e0e2f282d61', N'CurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('e8d525ed-df0a-465e-9120-1f22f0500c74', 'ed7c3d4b-773c-4b2f-a4dd-192028e8ecce', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '6095d819-aa0e-4f60-bbbe-2ed35e8b1438', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('d02326f3-5f08-44c4-ab54-319bcd64041d', 'a521b243-325b-41e1-9198-498823ea83aa', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', '40b98200-4657-42a6-9173-e563ac8683c2', '0b127d93-153d-403b-bdfa-8eb65d13c91b', N'TaskStatus', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f085eaf6-fcd3-4e50-9081-00899ef2888d', 'b56fbac3-7534-40ea-b61f-ed89eb22cd74', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '988506ce-0c45-48bc-a08f-5ccf96746948', N'TaxAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a228a4f7-5b15-45bf-b64d-0df9beb4025c', 'ed7c3d4b-773c-4b2f-a4dd-192028e8ecce', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '7ad98bcb-758e-4fdb-b06d-5c8d81ae38aa', N'TaxAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('e78740f8-0a45-48f1-a202-5608431fc832', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4ca79b48-e756-478c-a6ff-f59ce4ae1433', N'Total Hours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('6ddd2efb-2808-4992-bfd7-d58d68ba45da', '915e2dd6-3c02-4f00-acc0-37c4e4a4edb1', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '66f1baff-bed2-4d14-8c27-9c5f3a243a4f', N'NetAmount', 1, 1)
END

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] CHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] CHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] CHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

GO

-- Add Column ReportOrder to AccountReport
Print 'Add Column ReportOrder to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ReportOrder' AND TABLE_NAME='AccountReport'))
ALTER TABLE [dbo].[AccountReport]
	ADD [ReportOrder] int NULL

GO
-- Create Table SystemReportPermission
Print 'Create Table SystemReportPermission'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemReportPermission' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemReportPermission] (
		[SystemReportPermissionId]     uniqueidentifier NOT NULL,
		[AccountReportId]              uniqueidentifier NOT NULL,
		[MasterAccountRoleId]          int NOT NULL,
		[ShowReport]                   bit NULL,
		[AllowCustomization]           bit NULL,
		[AllowAllUser]                 bit NULL,
		[AllowOwnReport]               bit NULL,
		[AllowOwnTeam]                 bit NULL,
		[AllowOwnProject]              bit NULL,
		[AllowOwnSubOrdinates]         bit NULL
)
GO
-- Add Primary Key PK_SystemReportPermission to SystemReportPermission
Print 'Add Primary Key PK_SystemReportPermission to SystemReportPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemReportPermission' AND TABLE_NAME='SystemReportPermission'))
ALTER TABLE [dbo].[SystemReportPermission]
	ADD
	CONSTRAINT [PK_SystemReportPermission]
	PRIMARY KEY
	([SystemReportPermissionId])
GO
-- Add Default Constraint DF_SystemReportPermission_SystemReportPermissionId to SystemReportPermission
Print 'Add Default Constraint DF_SystemReportPermission_SystemReportPermissionId to SystemReportPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_SystemReportPermission_SystemReportPermissionId'))
ALTER TABLE [dbo].[SystemReportPermission]
	ADD
	CONSTRAINT [DF_SystemReportPermission_SystemReportPermissionId]
	DEFAULT (newid()) FOR [SystemReportPermissionId]
GO
-- Create Foreign Key FK_AccountObjectPermission_AccountReport on AccountObjectPermission
Print 'Create Foreign Key FK_AccountObjectPermission_AccountReport on AccountObjectPermission'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountObjectPermission_AccountReport' AND TABLE_NAME='AccountObjectPermission')
BEGIN
		ALTER TABLE [dbo].[AccountObjectPermission]
			ADD CONSTRAINT [FK_AccountObjectPermission_AccountReport]
			FOREIGN KEY ([AccountReportId]) REFERENCES [dbo].[AccountReport] ([AccountReportId])
			ON DELETE CASCADE
END

GO
-- Drop View rptvueAccountEmployeeTimeEntry
Print 'Drop View rptvueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountEmployeeTimeEntry]
GO
-- Drop View rptvueAccountEmployees
Print 'Drop View rptvueAccountEmployees'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployees' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountEmployees]
GO
-- Drop View vueAccountReport
Print 'Drop View vueAccountReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountReport]
GO
-- Drop View vueAccountEmployeesForReport
Print 'Drop View vueAccountEmployeesForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeesForReport]
GO
-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Create View vueAccountWorkTypeBillingRate
Print 'Create View vueAccountWorkTypeBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountWorkTypeBillingRate' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountWorkTypeBillingRate
AS
SELECT     dbo.AccountWorkTypeBillingRate.AccountWorkTypeBillingRateId, dbo.AccountWorkTypeBillingRate.AccountId, 
                      dbo.AccountWorkTypeBillingRate.SystemBillingRateTypeId, dbo.AccountWorkTypeBillingRate.AccountEmployeeId, 
                      dbo.AccountWorkTypeBillingRate.AccountProjectEmployeeId, dbo.AccountWorkTypeBillingRate.AccountProjectRoleId, 
                      dbo.AccountWorkTypeBillingRate.AccountProjectTaskId, dbo.AccountWorkTypeBillingRate.AccountBillingRateId, 
                      dbo.AccountWorkTypeBillingRate.AccountWorkTypeId, dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountWorkType.AccountWorkType, 
                      dbo.AccountWorkType.SystemWorkTypeId, dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, 
                      dbo.AccountBillingRate.EmployeeRate, dbo.AccountBillingRate.BillingRateCurrencyId, dbo.AccountBillingRate.EmployeeRateCurrencyId, 
                      vueAccountCurrency_1.CurrencyCode AS EmployeeRateCurrencyCode, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode
FROM         dbo.AccountWorkTypeBillingRate INNER JOIN
                      dbo.AccountWorkType ON dbo.AccountWorkTypeBillingRate.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId INNER JOIN
                      dbo.AccountBillingRate ON dbo.AccountWorkTypeBillingRate.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.AccountBillingRate.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON dbo.AccountBillingRate.EmployeeRateCurrencyId = vueAccountCurrency_1.AccountCurrencyId'
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntry.BillingType, dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntry.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntry.DepartmentName, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) 
                      AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) AS Submitted, dbo.vueAccountEmployeeTimeEntry.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntry.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntry.TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntry.Comments AS ApproverComments, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, dbo.vueAccountEmployeeTimeEntry.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntry.PartyNick AS ClientNick, dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, 
                      vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, dbo.vueAccountEmployeeTimeEntry.ApprovedOn, 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRate, vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON 
                      dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId ON 
                      AccountEmployee_3.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View vueAccountEmployeesForReport
Print 'Create View vueAccountEmployeesForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeesForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, dbo.AccountEmployee.MiddleName, dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, 
                      dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.Notes, dbo.AccountEmployee.AddressLine1, dbo.AccountEmployee.AddressLine2, dbo.AccountEmployee.State, 
                      dbo.AccountEmployee.City, dbo.AccountEmployee.Zip, dbo.AccountEmployee.CountryId, dbo.AccountEmployee.HomePhoneNo, 
                      dbo.AccountEmployee.WorkPhoneNo, dbo.AccountEmployee.MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, dbo.AccountEmployee.StartDate, 
                      dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, dbo.AccountEmployee.CreatedOn, 
                      dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, dbo.AccountEmployee.ModifiedByEmployeeId, 
                      dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, dbo.AccountEmployee.EmployeeTypeId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountEmployee.Username, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      dbo.AccountDepartment.DepartmentCode, dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountLocation.AccountLocation, 
                      dbo.SystemCountry.Country, AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS EmployeeManager, 
                      dbo.vueAccountWorkTypeBillingRate.AccountWorkTypeCode, dbo.vueAccountWorkTypeBillingRate.AccountWorkType, 
                      dbo.vueAccountWorkTypeBillingRate.BillingRate, dbo.vueAccountWorkTypeBillingRate.EmployeeRate, 
                      dbo.vueAccountWorkTypeBillingRate.EmployeeRateCurrencyCode, dbo.vueAccountWorkTypeBillingRate.BillingRateCurrencyCode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId AND 
                      dbo.Account.AccountId = dbo.AccountDepartment.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId AND 
                      dbo.Account.AccountId = dbo.AccountRole.AccountId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId AND 
                      dbo.Account.AccountId = dbo.AccountLocation.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountEmployee.CountryId = dbo.SystemCountry.CountryId LEFT OUTER JOIN
                      dbo.vueAccountWorkTypeBillingRate ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountWorkTypeBillingRate.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.Account.AccountId = AccountEmployee_1.AccountId AND 
                      dbo.AccountEmployee.EmployeeManagerId = AccountEmployee_1.AccountEmployeeId
WHERE     (dbo.AccountEmployee.EmployeeTypeId IS NULL) AND (dbo.vueAccountWorkTypeBillingRate.SystemWorkTypeId = 1)'
GO
-- Create View vueSystemReportPermission
Print 'Create View vueSystemReportPermission'
GO
if not exists (select * from information_schema.tables where table_name = 'vueSystemReportPermission' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueSystemReportPermission
AS
SELECT     dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, dbo.MasterAccountRole.Role, dbo.AccountRole.AccountRoleId, 
                      dbo.SystemReportPermission.SystemReportPermissionId, dbo.SystemReportPermission.AccountReportId, 
                      dbo.SystemReportPermission.MasterAccountRoleId, dbo.SystemReportPermission.ShowReport, dbo.SystemReportPermission.AllowCustomization, 
                      dbo.SystemReportPermission.AllowAllUser, dbo.SystemReportPermission.AllowOwnReport, dbo.SystemReportPermission.AllowOwnTeam, 
                      dbo.SystemReportPermission.AllowOwnProject, dbo.SystemReportPermission.AllowOwnSubOrdinates, dbo.AccountRole.AccountId
FROM         dbo.SystemReportPermission INNER JOIN
                      dbo.MasterAccountRole ON dbo.SystemReportPermission.MasterAccountRoleId = dbo.MasterAccountRole.MasterAccountRoleId INNER JOIN
                      dbo.AccountRole ON dbo.MasterAccountRole.MasterAccountRoleId = dbo.AccountRole.MasterAccountRoleId LEFT OUTER JOIN
                      dbo.AccountReport ON dbo.SystemReportPermission.AccountReportId = dbo.AccountReport.AccountReportId'
GO
-- Create View vueAccountReport
Print 'Create View vueAccountReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReport
AS
SELECT     dbo.AccountReportCategory.AccountReportCategory, dbo.AccountReport.AccountReportId, dbo.AccountReport.AccountReportCategoryId, 
                      dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, dbo.AccountReport.ReportIconPath, dbo.AccountReport.AccountId, 
                      dbo.AccountReport.SystemReportTypeId, dbo.AccountReport.SystemReportId, dbo.AccountReport.IsConsolidated, dbo.AccountReport.ReportPageName, 
                      dbo.AccountReport.ReportOrder
FROM         dbo.AccountReport LEFT OUTER JOIN
                      dbo.AccountReportCategory ON dbo.AccountReport.AccountReportCategoryId = dbo.AccountReportCategory.AccountReportCategoryId'
GO
-- Create View rptvueAccountEmployees
Print 'Create View rptvueAccountEmployees'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployees' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployees
AS
SELECT     AccountEmployeeId, Password, Prefix, FirstName, LastName, MiddleName, EMailAddress, AccountId, AccountDepartmentId, AccountRoleId, 
                      AccountLocationId, Notes, AddressLine1, AddressLine2, State, City, Zip, CountryId, HomePhoneNo, WorkPhoneNo, MobilePhoneNo, 
                      TimeEntryApprovalPathId, BillingRateStateDate, BillingTypeId, StartDate, TerminationDate, StatusId, IsDeleted, IsDisabled, DefaultProjectId, 
                      TimeZoneId, DefaultEmployee, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, AllowedAccessFromIP, ExternalUserClientId, 
                      EmployeeTypeId, AccountBillingRateId, Username, EmployeeCode, EmployeeManagerId, EmployeeName, DepartmentCode, DepartmentName, Role, 
                      AccountLocation, Country, ISNULL(EmployeeManager, '''') AS EmployeeManager, AccountWorkTypeCode, AccountWorkType, BillingRate, EmployeeRate,
                       EmployeeRateCurrencyCode, BillingRateCurrencyCode
FROM         dbo.vueAccountEmployeesForReport'
GO
-- Create View rptvueAccountEmployeeTimeEntry
Print 'Create View rptvueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntry
AS
SELECT     dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskName, dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeadApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerApproved, dbo.vueAccountEmployeeTimeEntryForReport.AdministratorApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Description, dbo.vueAccountEmployeeTimeEntryForReport.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, dbo.vueAccountEmployeeTimeEntryForReport.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryForReport.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Submitted, dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenter, dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.Amount, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountBaseCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AmountCurrencyCode, CASE WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 1 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountEmployeeTimeEntryForReport.Approved = 1 THEN ''Approved''
                       WHEN vueAccountEmployeeTimeEntryForReport.Rejected = 1 THEN ''Rejected'' WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountPriorityId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskType, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.MilestoneDescription, dbo.vueAccountEmployeeTimeEntryForReport.Priority, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApprovedOn, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyCode, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeader, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManager, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeManager, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate, 0) AS EstimatedCurrencyExchangeRate
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.vueAccountEmployeeTimeEntryWithLastStatus ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryWithLastStatus.AccountEmployeeTimeEntryId'

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportPermission] WHERE SystemReportPermissionId = 'fe1c3304-7862-4fa8-98b3-71b77082c1ee')
BEGIN
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('fe1c3304-7862-4fa8-98b3-71b77082c1ee', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('a7eee508-99c7-4a1d-92d2-87c4171d1ad7', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('856ce10a-3b39-421d-8ec6-f0d1fda3bb1e', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('c7cee20b-fb5d-4177-b7bf-234ee0c36c98', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('b5563213-0ad9-4011-a5dc-227a0ca411f6', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('663ebe15-d715-4928-a058-fd9bfc2da327', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('6d2f3b17-31cd-4aef-a0f6-e070858e4666', '5085efde-cc24-440e-b0b3-9db1710f812c', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('e897cc18-66f4-4aa9-93c4-6b7ab3e4ef07', 'db046660-cb45-4adb-b103-27a00775d42a', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('d073e41b-51d3-4a6d-943f-7ac12fbaf1ba', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', 102, 1, NULL, NULL, NULL, NULL, NULL, 1)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('9dae4c23-d156-40b1-85fa-2e919aad19f6', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('76710b24-0511-43ed-b803-805a09440194', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('61a45a26-e34e-40db-bb05-579953e411a0', '15c648e0-35a3-415d-8856-449b4bb05292', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('07f6ce2a-e473-4204-9af0-ea1afdebc719', '15c648e0-35a3-415d-8856-449b4bb05292', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('eeaa8d2b-9b97-4c26-8c29-d9b9093c349c', '4b789064-55c6-4089-81ff-ade3ac159532', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('a0fd1e39-d4a5-4fe4-be56-4c9fc9f48244', '5085efde-cc24-440e-b0b3-9db1710f812c', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('ed20a739-0c5c-4430-98cc-30ba717dca90', 'db046660-cb45-4adb-b103-27a00775d42a', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('0063b342-3cfe-487e-8d6f-75f9ffe62f52', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('cf671843-2d27-40b4-8ca6-1e7a920364b9', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('f5cbf343-9bbd-46bf-a933-2bca8c51bf58', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('b6291849-96a0-41d7-aef2-ee8700c9a8e6', '4b789064-55c6-4089-81ff-ade3ac159532', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('f82d6d4b-8e32-480a-ad48-078b0842be19', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('a19fe050-7c68-4a2d-8f17-385e52f780fd', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('b4f0b154-b88f-40ed-9dc4-d946b86dede9', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('bf723555-2c96-4c45-8289-46f2499ac846', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('9273625a-13bc-480f-bc73-bbd8030be176', '43af8d41-015b-4560-a66f-7e2b0fde1f7b', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('01e4e25a-4e1a-49fd-a3d3-e18b3ec91c46', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('e05bce63-20f4-41b2-a089-348b4da93c59', '232d42fd-ab42-4e5b-9f44-d3ac04bebeb2', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('d1321c6e-5f5c-4e9e-82a7-e735d0f14132', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('69d6a66f-e0d5-4072-b0f4-697cf9bfb455', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('eac68771-f283-4324-8cd7-f0985660d33d', 'db046660-cb45-4adb-b103-27a00775d42a', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('ab080378-a231-411a-93d6-fcb6d204bfdc', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('1673eb7a-9aab-4d99-9d09-87c0ff78a285', '0ea60546-726c-4713-959a-a92f5929af19', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('5a97177b-f40b-4631-96b2-0bdc22fa0b02', '5085efde-cc24-440e-b0b3-9db1710f812c', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('13686484-bba4-479c-8eb3-93950e333aee', '5a61fbe5-082d-4f93-89bc-adc222896231', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('5aa29e84-98b6-4a08-a2c2-bb4efa6ccea1', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('35dcc484-30fb-41f6-b2fb-417efe6e28bc', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('3a82f390-2c3e-4e8e-9726-812f44ae896b', 'd61628a4-182b-437a-bff0-3211a898273d', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('8ab9069b-974d-4627-b6aa-a05bc49baa04', '479ce554-5ab3-4e0b-a552-ca1b233713c9', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('4f09eea5-9303-40f2-bd7f-effffd9e9220', '4308f13b-1b4c-428b-87e0-65af707b2e17', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('b4e63da6-15c8-4cbf-b369-89dcad1b50e2', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('b70089aa-990a-4e70-b628-537007d30227', '4b789064-55c6-4089-81ff-ade3ac159532', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('6eaf9caf-bedf-4f72-b2e5-a684f49d8ea8', '7cfc50ba-232a-45e5-9d94-a2950eb9de67', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('f5178fb0-bac4-4efc-af5b-1b22458ce662', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('cd0faab0-9682-4cb5-8ca8-91072a68c74d', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('1c7b86b5-a184-444b-8b87-354082cc85bd', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('90170bba-13f6-48b6-8405-2648384e7eda', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('867feac1-2179-48fe-9526-8c85b2c564c5', '232d42fd-ab42-4e5b-9f44-d3ac04bebeb2', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('884894c2-8a06-46f4-bef5-3999653d0c1c', '232d42fd-ab42-4e5b-9f44-d3ac04bebeb2', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('80c9b1c5-c896-46de-9d53-2d377bc13564', 'dbec5524-29bd-4ce4-8e13-61e5fd2ef92e', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('62d196c6-2a8c-490b-a717-cb958d0c77cc', 'bd8523a6-7927-4aab-9016-87ea86ea08b8', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('86922dc7-ec65-458b-bd1c-e2f516f42883', '4b789064-55c6-4089-81ff-ade3ac159532', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('6e7c3dc8-a825-4de7-af89-152010078313', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('a4298cca-514a-46dc-ac63-a55f1504644b', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('cae292ca-2097-4eea-836a-2eed07dad41b', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('47ec52cb-7a72-4ebf-895e-b9a51ff4876c', 'daf04d81-ed91-4466-ad42-811bc1dbe3fb', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('c6131dcc-c1d9-4ac9-98fd-eea9ddced8da', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('ef70a5d5-74bf-421e-8fe7-6fa5c20483d1', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('c7001cd9-d03a-4825-92d8-73e7c524493b', 'ca89b85b-177d-4ba6-9837-d0cfcd2de6c1', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('07d86fda-f6ce-4f5e-8987-fef98c316581', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('7f2091db-8088-4da6-ba24-50f7c572995c', 'ef887385-b033-4aca-9108-0e9de53e3e1c', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('7f33b9dc-da37-4391-82fe-33cc41e4c972', 'db046660-cb45-4adb-b103-27a00775d42a', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('816acae0-87e2-4117-8878-ee592ed900f2', '232d42fd-ab42-4e5b-9f44-d3ac04bebeb2', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('cd7332e8-f834-42c7-b68e-1ef3ea5749ab', '15c648e0-35a3-415d-8856-449b4bb05292', 2, 1, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('c34352e9-faf2-475b-81f2-92d6832ec0a5', '4308f13b-1b4c-428b-87e0-65af707b2e17', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('84a38deb-31c4-4bc0-9284-3d702ac0058d', '5085efde-cc24-440e-b0b3-9db1710f812c', 102, 1, NULL, NULL, NULL, NULL, NULL, 1)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('7a2a52f2-89bf-400f-b70c-d98636bcfbd5', '43ac1bc0-8062-4cc9-b611-4b7de6a9a833', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('e274f3f4-42e1-4cee-88ec-725349772f3a', '15c648e0-35a3-415d-8856-449b4bb05292', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('4cee67f5-d5cd-463f-be53-6c0e5081698a', '4308f13b-1b4c-428b-87e0-65af707b2e17', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('c54a25fe-7802-4e83-85c9-7915c6282b2c', '0f5e0931-bf73-42ec-9a21-323b7cd08aeb', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'

UPDATE [dbo].[AccountReport] SET [ReportOrder]=1 WHERE [AccountReportId]='dbec5524-29bd-4ce4-8e13-61e5fd2ef92e'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=4 WHERE [AccountReportId]='0f5e0931-bf73-42ec-9a21-323b7cd08aeb'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=1 WHERE [AccountReportId]='4308f13b-1b4c-428b-87e0-65af707b2e17'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=3 WHERE [AccountReportId]='43af8d41-015b-4560-a66f-7e2b0fde1f7b'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=4 WHERE [AccountReportId]='0ea60546-726c-4713-959a-a92f5929af19'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=2 WHERE [AccountReportId]='7059f446-69e6-46b4-a50f-b349a6fc4dc8'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=5 WHERE [AccountReportId]='479ce554-5ab3-4e0b-a552-ca1b233713c9'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=2 WHERE [AccountReportId]='ca89b85b-177d-4ba6-9837-d0cfcd2de6c1'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=8 WHERE [AccountReportId]='db046660-cb45-4adb-b103-27a00775d42a'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=4 WHERE [AccountReportId]='4b789064-55c6-4089-81ff-ade3ac159532'
UPDATE [dbo].[AccountReport] SET [ReportIconPath]='/Images/TimesheetApprovalActivity.gif', [ReportOrder]=1 WHERE [AccountReportId]='4db8fc6f-0bb7-46c9-a80a-11089eb0aebc'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=5 WHERE [AccountReportId]='daf04d81-ed91-4466-ad42-811bc1dbe3fb'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=1 WHERE [AccountReportId]='ef887385-b033-4aca-9108-0e9de53e3e1c'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=3 WHERE [AccountReportId]='d61628a4-182b-437a-bff0-3211a898273d'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=2 WHERE [AccountReportId]='bd8523a6-7927-4aab-9016-87ea86ea08b8'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=3 WHERE [AccountReportId]='7cfc50ba-232a-45e5-9d94-a2950eb9de67'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=6 WHERE [AccountReportId]='43ac1bc0-8062-4cc9-b611-4b7de6a9a833'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=7 WHERE [AccountReportId]='0a50ebcb-d26f-48d4-b330-63c1767f5eba'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=6 WHERE [AccountReportId]='97bf7ecd-f90b-4153-8caf-0f000c8545ad'
UPDATE [dbo].[AccountReport] SET [ReportIconPath]='/Images/ExpenseApprovalActivity.gif', [ReportOrder]=2 WHERE [AccountReportId]='5085efde-cc24-440e-b0b3-9db1710f812c'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=5 WHERE [AccountReportId]='15c648e0-35a3-415d-8856-449b4bb05292'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=6 WHERE [AccountReportId]='5a61fbe5-082d-4f93-89bc-adc222896231'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=9 WHERE [AccountReportId]='232d42fd-ab42-4e5b-9f44-d3ac04bebeb2'

GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
if exists (Select * from [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='e7722162-b923-4ae0-a2ca-cf4ab01bed7e')
BEGIN
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='e7722162-b923-4ae0-a2ca-cf4ab01bed7e'
END
if exists (Select * from [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='0cce2bbf-6815-4339-b1c9-21fe24d396ee')
BEGIN
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='0cce2bbf-6815-4339-b1c9-21fe24d396ee'
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
IF NOT EXISTS (Select * from [dbo].[AccountReportColumn] Where [AccountReportColumnId] = '4ebb0087-3bdc-46e0-930b-1be18206596e')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('4ebb0087-3bdc-46e0-930b-1be18206596e', '15c648e0-35a3-415d-8856-449b4bb05292', N'Actual Amount (BaseCurrency)', '2252853d-a1ea-4c39-a040-218f60b542c2', 5, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9668f389-5abd-4efa-8a56-0edab364565d', '15c648e0-35a3-415d-8856-449b4bb05292', N'Task Estimated Cost (Base Currency)', '35bffee2-4d28-46b2-8d67-1e1a39af45f8', 3, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Billing Amount' WHERE [AccountReportColumnId]='17aee244-ffbc-403e-b9fe-e5084fec4fd4'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Billing Amount (BaseCurrency)' WHERE [AccountReportColumnId]='dcfcd478-0ee5-4456-82c5-ec28b86396af'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Amount (BaseCurrency)' WHERE [AccountReportColumnId]='dab7b3bf-f0b6-4616-9364-334c7eee49c3'

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
IF NOT EXISTS (Select * from [dbo].[SystemReportDataSourceField] Where [SystemReportDataSourceFieldId] = '5d96f01a-1a62-4a19-a99a-eabb6d2c7091')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5d96f01a-1a62-4a19-a99a-eabb6d2c7091', '3a080202-6842-4eca-8c79-a945978810b4', N'EmployeeManager', 175, 0, NULL, NULL, 40, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Manager', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e73ed734-8b30-407f-bff1-6ccb0fec1edd', '3a080202-6842-4eca-8c79-a945978810b4', N'TeamLeader', 175, 0, NULL, NULL, 41, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Team Leader', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('69185539-66cc-4a33-bd5e-04e3fc50145b', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'AccountWorkTypeCode', 150, 0, NULL, NULL, 19, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Work Type Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('81ed0760-f927-4cfa-a908-413daca5c12c', '3a080202-6842-4eca-8c79-a945978810b4', N'EndTime', 65, 0, NULL, NULL, 24, '407f7b3f-ab83-4e95-a343-9bfafb746f4d', N'End Time', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('067e676e-0b12-45ce-b553-11db9af4b162', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'AccountWorkType', 150, 0, NULL, NULL, 20, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Work Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7955d06e-1eea-412f-ace6-4965d60961d9', '3a080202-6842-4eca-8c79-a945978810b4', N'StartTime', 70, 0, NULL, NULL, 23, '407f7b3f-ab83-4e95-a343-9bfafb746f4d', N'Start Time', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3b7544c3-7505-4002-8580-64e5601e4ab3', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'BillingRate', 150, 0, N'BillingRateCurrencyCode', NULL, 21, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Billing Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('35bffee2-4d28-46b2-8d67-1e1a39af45f8', '3a080202-6842-4eca-8c79-a945978810b4', N'BaseCurrencyEstimatedCost', 115, 0, N'ParameterCurrencyCode', N'IIF(EstimatedCurrencyExchangeRate = 0,0,(EstimatedCost/EstimatedCurrencyExchangeRate)*ParameterCurrencyExchangeRate)', 30, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Estimated Cost (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4f9343e9-2283-434a-9a5f-882fa0547511', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'EmployeeRate', 150, 0, N'EmployeeRateCurrencyCode', NULL, 22, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Employee Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('76dd32ef-6684-4fcf-8357-ef60f289c009', '3a080202-6842-4eca-8c79-a945978810b4', N'ProjectManager', 175, 0, NULL, NULL, 42, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Manager', 0, 0)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'

UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=25 WHERE [SystemReportDataSourceFieldId]='4bf2c409-81b1-4cd0-bfc9-bc33329c1e67'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=100 WHERE [SystemReportDataSourceFieldId]='6eae340e-e575-4745-a50f-fa8c18c91cec'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=37 WHERE [SystemReportDataSourceFieldId]='0d3baf1d-5836-4842-890f-0ff3392512cf'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=100 WHERE [SystemReportDataSourceFieldId]='fc090d23-e9b6-4832-a361-055cce9f14d1'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=39 WHERE [SystemReportDataSourceFieldId]='767f7132-026b-4b6f-aa8b-ea3fd79783cc'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceField]=N'BaseCurrencyAmount', [SystemReportDataSourceFieldCaption]=N'Amount (BaseCurrency)' WHERE [SystemReportDataSourceFieldId]='2252853d-a1ea-4c39-a040-218f60b542c2'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=31 WHERE [SystemReportDataSourceFieldId]='1b94b94b-8cd2-4726-ae14-e5737c133a80'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=26 WHERE [SystemReportDataSourceFieldId]='9302db54-cede-410b-a3cb-1807ce983873'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=100, [SystemReportDataSourceFieldCaption]=N'Hours' WHERE [SystemReportDataSourceFieldId]='c17c9d5a-e939-45dc-9feb-e8e020c06bcb'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=46 WHERE [SystemReportDataSourceFieldId]='236ad870-27f2-48d9-8964-ce8bedbc6cc0'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=27 WHERE [SystemReportDataSourceFieldId]='1798bb79-3de1-47a7-9376-4bec7f3e803b'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=47 WHERE [SystemReportDataSourceFieldId]='f662c779-a28f-4dc2-8621-69745b3ebe9d'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldCaption]=N'Department Name' WHERE [SystemReportDataSourceFieldId]='cfb16d85-b5ce-44b6-ae83-600a55224c87'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=35 WHERE [SystemReportDataSourceFieldId]='90cd938a-e0ab-469f-8bb7-7cbdf574b42a'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=38 WHERE [SystemReportDataSourceFieldId]='1625598c-2b75-4cc7-95d0-67ae696b73e0'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceField]=N'BaseCurrencyAmount', [SystemReportDataSourceFieldCaption]=N'Amount (BaseCurrency)' WHERE [SystemReportDataSourceFieldId]='f77505a2-78e9-468f-b364-b00d158022df'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=100 WHERE [SystemReportDataSourceFieldId]='3b1f66ae-4372-487a-a371-52bb7323b1f4'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=115, [SystemReportDataSourceFieldColumnOrder]=29 WHERE [SystemReportDataSourceFieldId]='710d7eba-65a6-40fd-bde1-b059480c1710'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=100, [SystemReportDataSourceFieldColumnOrder]=28 WHERE [SystemReportDataSourceFieldId]='1d7a8abb-cfa8-4c61-92e8-5344d2dff104'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=43 WHERE [SystemReportDataSourceFieldId]='96befdbb-67cd-4cad-a695-e534ebe0010a'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldCaption]=N'Hours' WHERE [SystemReportDataSourceFieldId]='d28454bc-def5-4654-845e-ece2ffcbe749'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=44 WHERE [SystemReportDataSourceFieldId]='9d93c3cc-81f2-48c9-b9fe-27031051e97a'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=100 WHERE [SystemReportDataSourceFieldId]='0f969ede-96c8-4243-a9f2-fe8fd6bf1851'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=34 WHERE [SystemReportDataSourceFieldId]='0177f8de-bec1-414e-8695-d504b3bee445'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceField]=N'BaseCurrencyNetAmount', [SystemReportDataSourceFieldCaption]=N'Net Amount (BaseCurrency)' WHERE [SystemReportDataSourceFieldId]='c29586e1-b31e-46ca-9d79-aa4faf77dd0f'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=33 WHERE [SystemReportDataSourceFieldId]='c85f2de8-5da8-4a15-8a5e-357b580c8f7b'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=36 WHERE [SystemReportDataSourceFieldId]='bcc8ccf0-40e7-4b00-9ba0-f10dbe7d2bd8'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=32 WHERE [SystemReportDataSourceFieldId]='43e990f9-3b8d-4660-8d0f-c9bbcca81dec'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=45 WHERE [SystemReportDataSourceFieldId]='2b7722fe-3b26-421f-bbf0-9d5612a81869'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=100 WHERE [SystemReportDataSourceFieldId]='64b8ecfe-72a9-43fe-a9ad-bcbe9ca9b829'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Net Amount (BaseCurrency)' WHERE [AccountReportColumnId]='cf94d450-9452-49de-8ae1-ad5ea87e4cfa'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Amount (BaseCurrency)' WHERE [AccountReportColumnId]='a96c6883-a9ff-472a-bcc4-dd7fb9277b58'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Task Estimated Cost (BaseCurrency)' WHERE [AccountReportColumnId]='9668f389-5abd-4efa-8a56-0edab364565d'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Net Amount (BaseCurrency)' WHERE [AccountReportColumnId]='5e67eb94-799f-4c8f-bfdf-c62117ef7a52'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Amount (BaseCurrency)' WHERE [AccountReportColumnId]='cd462da3-ae55-456b-baeb-1e0e2f282d61'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Amount (BaseCurrency)' WHERE [AccountReportColumnId]='8a18bebf-7c39-4604-a3f6-64ae820e8b12'

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

GO

delete from accountpagepermission where SystemSecurityCategoryPageId = 41
delete from accountpagepermission where SystemSecurityCategoryPageId = 43
delete from accountpagepermission where SystemSecurityCategoryPageId = 45
delete from accountpagepermission where SystemSecurityCategoryPageId = 50
delete from accountpagepermission where SystemSecurityCategoryPageId = 52
delete from accountpagepermission where SystemSecurityCategoryPageId = 53
delete from accountpagepermission where SystemSecurityCategoryPageId = 55
delete from accountpagepermission where SystemSecurityCategoryPageId = 56
delete from accountpagepermission where SystemSecurityCategoryPageId = 59
delete from accountpagepermission where SystemSecurityCategoryPageId = 60
delete from accountpagepermission where SystemSecurityCategoryPageId = 63
delete from accountpagepermission where SystemSecurityCategoryPageId = 64
delete from accountpagepermission where SystemSecurityCategoryPageId = 65
delete from accountpagepermission where SystemSecurityCategoryPageId = 67
delete from accountpagepermission where SystemSecurityCategoryPageId = 68
delete from accountpagepermission where SystemSecurityCategoryPageId = 110
delete from accountpagepermission where SystemSecurityCategoryPageId = 111
delete from accountpagepermission where SystemSecurityCategoryPageId = 115

GO

delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 41
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 43
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 45
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 50
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 52
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 53
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 55
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 56
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 59
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 60
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 63
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 64
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 65
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 67
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 68
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 110
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 111
delete from SystemSecurityCategoryPage where SystemSecurityCategoryPageId = 115

GO

--Insert those record whose exchangerate is deleted..
Print 'Insert those record whose exchangerate is deleted..'
Insert into dbo.AccountCurrencyExchangeRate (ExchangeRateEffectiveStartDate, ExchangeRateEffectiveEndDate, ExchangeRate , AccountId, AccountCurrencyId, MasterAccountCurrencyExchangeRateId) 
select getdate(), DATEADD(YYYY,1, getdate()),1, AccountId, AccountCurrencyId,NULL from AccountCurrency Where AccountCurrencyId in (select AccountCurrencyId from accountcurrency where accountcurrencyexchangerateid not in 
(select AccountCurrencyExchangeRateId from accountcurrencyexchangeRate))

GO

-- Update exchangerateid in accountcurrency where exchangerate is deleted..
print 'Update exchangerateid in accountcurrency where exchangerate is deleted..'
UPDATE AccountCurrency
Set AccountCurrencyExchangeRateId = dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId
FROM dbo.AccountCurrency INNER JOIN dbo.AccountCurrencyExchangeRate ON 
dbo.AccountCurrency.AccountCurrencyId = dbo.AccountCurrencyExchangeRate.AccountCurrencyId
WHERE (dbo.AccountCurrency.AccountCurrencyId IN 
(SELECT AccountCurrencyId FROM dbo.AccountCurrency WHERE (AccountCurrencyExchangeRateId NOT IN
(SELECT AccountCurrencyExchangeRateId FROM dbo.AccountCurrencyExchangeRate))))

GO

-- Alter Column AccountCurrencyExchangeRateId on AccountCurrency
Print 'Alter Column AccountCurrencyExchangeRateId on AccountCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountCurrencyExchangeRateId' AND TABLE_NAME='AccountCurrency'))

ALTER TABLE [dbo].[AccountCurrency]
	 ALTER COLUMN [AccountCurrencyExchangeRateId] int NULL
GO
-- Add Column DefaultAccountPageId to AccountRole
Print 'Add Column DefaultAccountPageId to AccountRole'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DefaultAccountPageId' AND TABLE_NAME='AccountRole'))
ALTER TABLE [dbo].[AccountRole]
	ADD [DefaultAccountPageId] int NULL

GO
-- Create Foreign Key FK_AccountCurrency_AccountCurrencyExchangeRate on AccountCurrency
Print 'Create Foreign Key FK_AccountCurrency_AccountCurrencyExchangeRate on AccountCurrency'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountCurrency_AccountCurrencyExchangeRate' AND TABLE_NAME='AccountCurrency')
BEGIN
		ALTER TABLE [dbo].[AccountCurrency]
			ADD CONSTRAINT [FK_AccountCurrency_AccountCurrencyExchangeRate]
			FOREIGN KEY ([AccountCurrencyExchangeRateId]) REFERENCES [dbo].[AccountCurrencyExchangeRate] ([AccountCurrencyExchangeRateId])
END
GO
-- Create Foreign Key FK_AccountCurrencyExchangeRate_AccountCurrencyExchangeRate on AccountCurrencyExchangeRate
Print 'Create Foreign Key FK_AccountCurrencyExchangeRate_AccountCurrencyExchangeRate on AccountCurrencyExchangeRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountCurrencyExchangeRate_AccountCurrencyExchangeRate' AND TABLE_NAME='AccountCurrencyExchangeRate')
BEGIN
		ALTER TABLE [dbo].[AccountCurrencyExchangeRate]
			ADD CONSTRAINT [FK_AccountCurrencyExchangeRate_AccountCurrencyExchangeRate]
			FOREIGN KEY ([AccountCurrencyExchangeRateId]) REFERENCES [dbo].[AccountCurrencyExchangeRate] ([AccountCurrencyExchangeRateId])
END
GO

-- Drop View vueAccountEmployeesForReport
Print 'Drop View vueAccountEmployeesForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeesForReport]
GO
-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Drop View vueAccountWorkTypeBillingRate
Print 'Drop View vueAccountWorkTypeBillingRate'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountWorkTypeBillingRate' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountWorkTypeBillingRate]
GO
-- Create View vueAccountWorkTypeBillingRate
Print 'Create View vueAccountWorkTypeBillingRate'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountWorkTypeBillingRate' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountWorkTypeBillingRate
AS
SELECT     dbo.AccountWorkTypeBillingRate.AccountWorkTypeBillingRateId, dbo.AccountWorkTypeBillingRate.AccountId, 
                      dbo.AccountWorkTypeBillingRate.SystemBillingRateTypeId, dbo.AccountWorkTypeBillingRate.AccountEmployeeId, 
                      dbo.AccountWorkTypeBillingRate.AccountProjectEmployeeId, dbo.AccountWorkTypeBillingRate.AccountProjectRoleId, 
                      dbo.AccountWorkTypeBillingRate.AccountProjectTaskId, dbo.AccountWorkTypeBillingRate.AccountBillingRateId, 
                      dbo.AccountWorkTypeBillingRate.AccountWorkTypeId, dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountWorkType.AccountWorkType, 
                      dbo.AccountWorkType.SystemWorkTypeId, dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, 
                      dbo.AccountBillingRate.EmployeeRate, dbo.AccountBillingRate.BillingRateCurrencyId, dbo.AccountBillingRate.EmployeeRateCurrencyId, 
                      vueAccountCurrency_1.CurrencyCode AS EmployeeRateCurrencyCode, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode
FROM         dbo.AccountWorkTypeBillingRate INNER JOIN
                      dbo.AccountWorkType ON dbo.AccountWorkTypeBillingRate.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId INNER JOIN
                      dbo.AccountBillingRate ON dbo.AccountWorkTypeBillingRate.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.AccountBillingRate.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.AccountBillingRate.EmployeeRateCurrencyId = vueAccountCurrency_1.AccountCurrencyId
WHERE     (dbo.AccountWorkType.SystemWorkTypeId = 1)'
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntry.BillingType, dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntry.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntry.DepartmentName, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) 
                      AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) AS Submitted, dbo.vueAccountEmployeeTimeEntry.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntry.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntry.TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntry.Comments AS ApproverComments, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountCurrency.ExchangeRate, 0) AS BillingRateExchangeRate, ISNULL(vueAccountCurrency_2.ExchangeRate, 0) 
                      AS EmployeeRateExchangeRate, dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, 
                      dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntry.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, 
                      dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountProjectMilestone.MilestoneDescription, 
                      dbo.AccountPriority.Priority, ROUND(CONVERT(float, dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentCode, dbo.vueAccountEmployeeTimeEntry.PartyNick AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON 
                      dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId ON 
                      AccountEmployee_3.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View vueAccountEmployeesForReport
Print 'Create View vueAccountEmployeesForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeesForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, dbo.AccountEmployee.MiddleName, dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, 
                      dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.Notes, dbo.AccountEmployee.AddressLine1, dbo.AccountEmployee.AddressLine2, dbo.AccountEmployee.State, 
                      dbo.AccountEmployee.City, dbo.AccountEmployee.Zip, dbo.AccountEmployee.CountryId, dbo.AccountEmployee.HomePhoneNo, 
                      dbo.AccountEmployee.WorkPhoneNo, dbo.AccountEmployee.MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, dbo.AccountEmployee.StartDate, 
                      dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, dbo.AccountEmployee.CreatedOn, 
                      dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, dbo.AccountEmployee.ModifiedByEmployeeId, 
                      dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, dbo.AccountEmployee.EmployeeTypeId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountEmployee.Username, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      dbo.AccountDepartment.DepartmentCode, dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountLocation.AccountLocation, 
                      dbo.SystemCountry.Country, AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS EmployeeManager, 
                      dbo.vueAccountWorkTypeBillingRate.AccountWorkTypeCode, dbo.vueAccountWorkTypeBillingRate.AccountWorkType, 
                      dbo.vueAccountWorkTypeBillingRate.BillingRate, dbo.vueAccountWorkTypeBillingRate.EmployeeRate, 
                      dbo.vueAccountWorkTypeBillingRate.EmployeeRateCurrencyCode, dbo.vueAccountWorkTypeBillingRate.BillingRateCurrencyCode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId AND 
                      dbo.Account.AccountId = dbo.AccountDepartment.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId AND 
                      dbo.Account.AccountId = dbo.AccountRole.AccountId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId AND 
                      dbo.Account.AccountId = dbo.AccountLocation.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountEmployee.CountryId = dbo.SystemCountry.CountryId LEFT OUTER JOIN
                      dbo.vueAccountWorkTypeBillingRate ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountWorkTypeBillingRate.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.Account.AccountId = AccountEmployee_1.AccountId AND 
                      dbo.AccountEmployee.EmployeeManagerId = AccountEmployee_1.AccountEmployeeId
WHERE     (dbo.AccountEmployee.EmployeeTypeId IS NULL)'

GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] NOCHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'

DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='ef8f0c1c-7fee-47e8-be23-12003b2c0da9'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='46770b8d-d960-411c-9f5b-623c5e3dcad8'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='339057a0-3b4b-49cd-a27c-c3ce0fc7d330'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='973ae6ac-69b4-4d2e-8307-5e3613e515b0'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='d713dfde-c3eb-4a8d-a00f-59192c7119d4'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='5981e578-06c9-49d1-806e-94ca65be1d13'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'
if not exists(Select * from [dbo].[AccountReportSummary] where AccountReportSummaryId = 'b3b3820e-9814-40a7-acae-5b45b17782bf')
BEGIN
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('b3b3820e-9814-40a7-acae-5b45b17782bf', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4ebb0087-3bdc-46e0-930b-1be18206596e', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('c244826a-dd4c-4996-bb5f-c8bb6742d1c0', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4ebb0087-3bdc-46e0-930b-1be18206596e', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a6c7c596-e1fd-4b84-ae49-7f8ab60bf136', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4ebb0087-3bdc-46e0-930b-1be18206596e', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a263229e-d2b5-4c9c-b9d8-53c9e1051d89', '9104c64e-7c11-45c5-8729-876de93f57b6', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '9668f389-5abd-4efa-8a56-0edab364565d', N'BaseCurrencyEstimatedCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a90ee4a6-7b31-4602-bc6d-854512f4c5e8', '6c6359a2-8c4f-47ef-a00c-f06fb899ca26', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '9668f389-5abd-4efa-8a56-0edab364565d', N'BaseCurrencyEstimatedCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('590cdde3-694b-4da0-ae25-06b4bad40544', 'f163fbe8-81e6-4825-9599-9418eb61bc36', '15c648e0-35a3-415d-8856-449b4bb05292', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '9668f389-5abd-4efa-8a56-0edab364565d', N'BaseCurrencyEstimatedCost', 1, 1)
END
GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSource]'

UPDATE [dbo].[SystemReportFilterSource] SET [Caption]=N'Status:' WHERE [SystemReportFilterSourceId]='8e41ac07-9d13-450a-b8b2-f37db3eeb32e'
UPDATE [dbo].[SystemReportFilterSource] SET [Caption]=N'Submission Status:' WHERE [SystemReportFilterSourceId]='40a2a9c4-d975-4167-91c7-c38fa497c9da'
UPDATE [dbo].[SystemReportFilterSource] SET [Caption]=N'Location:' WHERE [SystemReportFilterSourceId]='7feed6f5-67ab-4699-8866-8deddac27b9f'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

UPDATE [dbo].[AccountReportColumn] SET [SystemReportCalculationTypeId]=NULL WHERE [AccountReportColumnId]='0037de48-2938-4327-b8b5-7712536967f3'
UPDATE [dbo].[AccountReportColumn] SET [SystemReportCalculationTypeId]=NULL WHERE [AccountReportColumnId]='e140f467-bf0f-4b8a-99f1-2052514030f4'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Net Amount (BaseCurrency)', [ColumnOrder]=3 WHERE [AccountReportColumnId]='8a18bebf-7c39-4604-a3f6-64ae820e8b12'

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] CHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

GO
Delete From AccountEmployeeTimeEntry Where AccountProjectTaskId In (Select AccountProjectTaskId From AccountProjectTask Where AccountProjectId In (Select AccountProjectId From AccountProject Where AccountClientId Not In (Select AccountPartyId From AccountParty)))
GO
Delete From AccountExpenseEntry Where AccountProjectId In (Select AccountProjectId From AccountProject Where AccountClientId Not In (Select AccountPartyId From AccountParty))
GO
If Exists (Select * From AccountProjectTask Where AccountProjectId In (Select AccountProjectId From AccountProject Where AccountClientId Not In (Select AccountPartyId From AccountParty)))
Delete From AccountProjectTask Where AccountProjectId In (Select AccountProjectId From AccountProject Where AccountClientId Not In (Select AccountPartyId From AccountParty))
GO
Delete From AccountEmployeeTimeEntry Where AccountProjectId In (Select AccountProjectId From AccountProject Where AccountClientId Not In (Select AccountPartyId From AccountParty))
GO
Delete From AccountProject Where AccountClientId Not In (Select AccountPartyId From AccountParty)
GO
UPDATE    AccountRole
SET              DefaultAccountPageId = AccountPagePermission.DefaultAccountPageId
FROM         AccountRole INNER JOIN
                      AccountPagePermission ON AccountRole.AccountId = AccountPagePermission.AccountId AND 
                      AccountRole.AccountRoleId = AccountPagePermission.AccountRoleId
WHERE     (AccountPagePermission.DefaultAccountPageId IS NOT NULL) AND (AccountPagePermission.DefaultAccountPageId <> 0)
GO
-- Drop Column DefaultAccountPageId from AccountPagePermission
Print 'Drop Column DefaultAccountPageId from AccountPagePermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DefaultAccountPageId' AND TABLE_NAME='AccountPagePermission'))
ALTER TABLE [dbo].[AccountPagePermission] DROP COLUMN [DefaultAccountPageId]

GO

GO
-- Add Column SequenceNo to AccountReportCategory
Print 'Add Column SequenceNo to AccountReportCategory'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportCategory' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SequenceNo' AND TABLE_NAME='AccountReportCategory'))
ALTER TABLE [dbo].[AccountReportCategory]
	ADD [SequenceNo] int NULL

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPermission]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPermission]'

ALTER TABLE [dbo].[SystemSecurityCategoryPermission] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPermission_SystemPermission]
ALTER TABLE [dbo].[SystemSecurityCategoryPermission] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPermission_SystemSecurityCategory]

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPermission]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPermission] WHERE [SystemSecurityCategoryPermissionId]=20 AND [SystemSecurityCategoryId]=6 AND [SystemPermissionId] =2 AND [ShowMyData]  =1 AND [ShowMyTeamsData] Is NULL AND [ShowMyProjectsData] Is NULL AND [ShowAllData] Is NULL AND [TillDate] Is NULL AND [TillHours] Is NULL)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPermission] ([SystemSecurityCategoryPermissionId], [SystemSecurityCategoryId], [SystemPermissionId], [ShowMyData], [ShowMyTeamsData], [ShowMyProjectsData], [ShowAllData], [TillDate], [TillHours]) VALUES (20, 6, 2, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPermission] ([SystemSecurityCategoryPermissionId], [SystemSecurityCategoryId], [SystemPermissionId], [ShowMyData], [ShowMyTeamsData], [ShowMyProjectsData], [ShowAllData], [TillDate], [TillHours]) VALUES (21, 6, 3, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPermission] ([SystemSecurityCategoryPermissionId], [SystemSecurityCategoryId], [SystemPermissionId], [ShowMyData], [ShowMyTeamsData], [ShowMyProjectsData], [ShowAllData], [TillDate], [TillHours]) VALUES (22, 6, 4, 1, NULL, NULL, NULL, NULL, NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportCategory]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportCategory]'

UPDATE [dbo].[AccountReportCategory] SET [SequenceNo]=1 WHERE [AccountReportCategoryId]='98f4aa0d-7c01-466c-8b72-0e42e7f40f38'
UPDATE [dbo].[AccountReportCategory] SET [SequenceNo]=6 WHERE [AccountReportCategoryId]='6074e414-820a-4230-b44f-eb819d1f8eeb'
UPDATE [dbo].[AccountReportCategory] SET [SequenceNo]=3 WHERE [AccountReportCategoryId]='94d59168-8843-4312-9a8a-72e4bc02e189'
UPDATE [dbo].[AccountReportCategory] SET [SequenceNo]=4 WHERE [AccountReportCategoryId]='f69aedb2-1ccf-4845-9a1b-75830e69435f'
UPDATE [dbo].[AccountReportCategory] SET [SequenceNo]=2 WHERE [AccountReportCategoryId]='ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9'
UPDATE [dbo].[AccountReportCategory] SET [SequenceNo]=7 WHERE [AccountReportCategoryId]='10d3f4e2-81d2-4e6d-9b5a-c40c77a59d49'
UPDATE [dbo].[AccountReportCategory] SET [SequenceNo]=5 WHERE [AccountReportCategoryId]='1a70fbe4-8718-4a11-8b87-88161f524b06'

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPermission]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPermission]'

ALTER TABLE [dbo].[SystemSecurityCategoryPermission] CHECK CONSTRAINT [FK_SystemSecurityCategoryPermission_SystemPermission]
ALTER TABLE [dbo].[SystemSecurityCategoryPermission] CHECK CONSTRAINT [FK_SystemSecurityCategoryPermission_SystemSecurityCategory]

GO

-- Drop View vueAccountReport
Print 'Drop View vueAccountReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountReport]
GO
-- Create View vueAccountReport
Print 'Create View vueAccountReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReport
AS
SELECT     dbo.AccountReportCategory.AccountReportCategory, dbo.AccountReport.AccountReportId, dbo.AccountReport.AccountReportCategoryId, 
                      dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, dbo.AccountReport.ReportIconPath, dbo.AccountReport.AccountId, 
                      dbo.AccountReport.SystemReportTypeId, dbo.AccountReport.SystemReportId, dbo.AccountReport.IsConsolidated, dbo.AccountReport.ReportPageName, 
                      dbo.AccountReport.ReportOrder, dbo.AccountReportCategory.SequenceNo, CAST(dbo.AccountReportCategory.SequenceNo AS nvarchar(4000)) 
                      + '' - '' + dbo.AccountReportCategory.AccountReportCategory AS AccountReportCategorySequence
FROM         dbo.AccountReport LEFT OUTER JOIN
                      dbo.AccountReportCategory ON dbo.AccountReport.AccountReportCategoryId = dbo.AccountReportCategory.AccountReportCategoryId'

GO

-- Drop View vueAccountEmployeeTimeEntryApprovalPending
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPending]
GO

-- Drop View vueAccountExpenseEntryApprovalPending
Print 'Drop View vueAccountExpenseEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPending]
GO

-- Drop View vueAccountEmployeeTimeEntryApproval
Print 'Drop View vueAccountEmployeeTimeEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApproval]
GO

-- Drop View vueAccountExpenseEntryApproval
Print 'Drop View vueAccountExpenseEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApproval]
GO

-- Create View vueAccountExpenseEntryApproval
Print 'Create View vueAccountExpenseEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, dbo.AccountExpenseEntryApproval.Comments, 
                      dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpense.IsBillable, 
                      dbo.AccountExpenseEntry.AccountEmployeeId AS ExpenseEntryAccountEmployeeId, dbo.AccountExpenseEntry.Description, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseEntry.Rejected
FROM         dbo.AccountCurrency INNER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountExpenseEntry.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId'
GO

-- Create View vueAccountEmployeeTimeEntryApproval
Print 'Create View vueAccountEmployeeTimeEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntry.AccountEmployeeId AS TimeEntryAccountEmployeeId, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployee.EmployeeManagerId, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, dbo.AccountProjectTask.IsBillable, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 1 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS BillableTotalMinutes, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 0 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) WHEN dbo.AccountProjectTask.IsBillable IS NULL THEN DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS NonBillableTotalMinutes, 
                      dbo.AccountEmployeeTimeEntry.Rejected
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntry.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId'
GO

-- Create View vueAccountExpenseEntryApprovalPending
Print 'Create View vueAccountExpenseEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPending
AS
SELECT     dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, MAX(dbo.vueAccountExpenseEntryApproval.ExpenseApprovalId) 
                      AS ExpenseApprovalId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApproval.ProjectName, 
                      dbo.vueAccountExpenseEntryApproval.ProjectDescription, dbo.vueAccountExpenseEntryApproval.ProjectCode, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeName, dbo.vueAccountExpenseEntryApproval.Approved, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntryApproval.IsRejected, 
                      dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, 
                      dbo.vueAccountExpenseEntryApproval.EMailAddress, dbo.vueAccountExpenseEntryApproval.Submitted, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeManagerId, dbo.vueAccountExpenseEntryApproval.CurrencyCode, 
                      dbo.vueAccountExpenseEntryApproval.Rejected
FROM         dbo.vueAccountExpenseEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueExpenseApprovalSequence AS vueExpenseApprovalSequence_1
                            WHERE      (ExpenseApprovalId IS NULL) AND (AccountExpenseEntryId = dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId))) AND 
                      (dbo.vueAccountExpenseEntryApproval.Approved = 0) AND (dbo.vueAccountExpenseEntryApproval.Submitted = 1) AND 
                      (dbo.vueAccountExpenseEntryApproval.Rejected IS NULL OR
                      dbo.vueAccountExpenseEntryApproval.Rejected = 0)
GROUP BY dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectName, dbo.vueAccountExpenseEntryApproval.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApproval.ProjectCode, dbo.vueAccountExpenseEntryApproval.EmployeeName, 
                      dbo.vueAccountExpenseEntryApproval.Approved, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, dbo.vueAccountExpenseEntryApproval.Comments, 
                      dbo.vueAccountExpenseEntryApproval.IsRejected, dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, 
                      dbo.vueAccountExpenseEntryApproval.EMailAddress, dbo.vueAccountExpenseEntryApproval.Submitted, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeManagerId, dbo.vueAccountExpenseEntryApproval.CurrencyCode, 
                      dbo.vueAccountExpenseEntryApproval.Rejected'
GO

-- Create View vueAccountEmployeeTimeEntryApprovalPending
Print 'Create View vueAccountEmployeeTimeEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPending
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, MAX(dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalId) 
                      AS TimeSheetApprovalId, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, dbo.vueAccountEmployeeTimeEntryApproval.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, dbo.vueAccountEmployeeTimeEntryApproval.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, dbo.vueAccountEmployeeTimeEntryApproval.Comments, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsReject, dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountId, dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Description, dbo.vueAccountEmployeeTimeEntryApproval.Submitted, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId, dbo.vueAccountEmployeeTimeEntryApproval.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsBillable, dbo.vueAccountEmployeeTimeEntryApproval.BillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.NonBillableTotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.Rejected
FROM         dbo.vueAccountEmployeeTimeEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueTimesheetApprovalSequence
                            WHERE      (TimeSheetApprovalId IS NULL) AND 
                                                   (AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId))) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Approved = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.Submitted = 1) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Rejected IS NULL OR
                      dbo.vueAccountEmployeeTimeEntryApproval.Rejected = 0)
GROUP BY dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, dbo.vueAccountEmployeeTimeEntryApproval.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountApproverType.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, dbo.vueAccountEmployeeTimeEntryApproval.Description, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId, dbo.vueAccountEmployeeTimeEntryApproval.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsBillable, dbo.vueAccountEmployeeTimeEntryApproval.BillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.NonBillableTotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.Rejected, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Approved, dbo.vueAccountEmployeeTimeEntryApproval.Submitted'

GO
--Update DefaultAccountPage In AccountRole
UPDATE    AccountRole
SET              DefaultAccountPageId = NULL
FROM         AccountRole CROSS JOIN
                      SystemSecurityCategoryPage
WHERE     (AccountRole.DefaultAccountPageId NOT IN
                          (SELECT     SystemSecurityCategoryPageId
                            FROM          SystemSecurityCategoryPage AS SystemSecurityCategoryPage_1)) AND (AccountRole.DefaultAccountPageId IS NOT NULL) AND 
                      (AccountRole.DefaultAccountPageId <> 0)
GO
-- Add Column DefaultTimeEntryMode to AccountPreferences
Print 'Add Column DefaultTimeEntryMode to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DefaultTimeEntryMode' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [DefaultTimeEntryMode] nvarchar(50) NULL

GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'

GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Add Column PageSize to AccountPreferences
Print 'Add Column PageSize to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PageSize' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [PageSize] int NULL

GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode, 
                      dbo.AccountPreferences.PageSize
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'

GO
-- Drop View vueAccount
Print 'Drop View vueAccount'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccount' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccount]
GO
-- Add Column MachineId to Account
Print 'Add Column MachineId to Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MachineId' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	ADD [MachineId] nvarchar(100) NULL
GO
-- Add Column ActivationLicenseKey to Account
Print 'Add Column ActivationLicenseKey to Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ActivationLicenseKey' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	ADD [ActivationLicenseKey] nvarchar(100) NULL

GO
-- Add Column ActivationMachineKey to Account
Print 'Add Column ActivationMachineKey to Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ActivationMachineKey' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	ADD [ActivationMachineKey] nvarchar(100) NULL

GO
-- Add Column ActivationType to Account
Print 'Add Column ActivationType to Account'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ActivationType' AND TABLE_NAME='Account'))
ALTER TABLE [dbo].[Account]
	ADD [ActivationType] nvarchar(100) NULL

GO
-- Create View vueAccount
Print 'Create View vueAccount'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccount' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccount
AS
SELECT     dbo.Account.AccountId, dbo.Account.AccountTypeId, dbo.Account.AccountName, dbo.Account.Address1, dbo.Account.Address2, dbo.Account.ZipCode, 
                      dbo.Account.State, dbo.Account.City, dbo.Account.CountryId, dbo.Account.EMailAddress, dbo.Account.Telephone, dbo.Account.Fax, 
                      dbo.Account.DefaultCurrencyId, dbo.Account.TimeZoneId, dbo.Account.IsDisabled, dbo.Account.IsDeleted, dbo.Account.StatusId, 
                      dbo.Account.CreatedOn, dbo.Account.ModifiedOn, dbo.Account.ModifiedByEmployeeId, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.AccountPreferences.AccountPreferencesId, dbo.Account.LicenseKey, dbo.Account.SystemPackageTypeId, 
                      dbo.AccountPreferences.TimeEntryFormat, dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, 
                      dbo.Account.MachineId, dbo.Account.ActivationLicenseKey, dbo.Account.ActivationMachineKey, dbo.Account.ActivationType
FROM         dbo.Account INNER JOIN
                      dbo.AccountPreferences ON dbo.Account.AccountId = dbo.AccountPreferences.AccountId'

GO

-- Drop View rptvueAccountProjectTasks
Print 'Drop View rptvueAccountProjectTasks'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountProjectTasks]
GO

-- Drop View rptvueExpenseEntryApprovalActivity
Print 'Drop View rptvueExpenseEntryApprovalActivity'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueExpenseEntryApprovalActivity' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueExpenseEntryApprovalActivity]
GO

-- Drop View rptvueTimeEntryApprovalActivity
Print 'Drop View rptvueTimeEntryApprovalActivity'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueTimeEntryApprovalActivity' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueTimeEntryApprovalActivity]
GO

-- Drop View rptvueAccountExpenseEntry
Print 'Drop View rptvueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountExpenseEntry]
GO

-- Drop View rptvueAccountEmployeeTimeEntry
Print 'Drop View rptvueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountEmployeeTimeEntry]
GO

-- Drop View vueAccountProjectTaskForReport
Print 'Drop View vueAccountProjectTaskForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskForReport]
GO

-- Drop View vueExpenseEntryApprovalActivityForReport
Print 'Drop View vueExpenseEntryApprovalActivityForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueExpenseEntryApprovalActivityForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueExpenseEntryApprovalActivityForReport]
GO

-- Drop View vueTimeEntryApprovalActivityForReport
Print 'Drop View vueTimeEntryApprovalActivityForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueTimeEntryApprovalActivityForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueTimeEntryApprovalActivityForReport]
GO

-- Drop View vueAccountProjectTask
Print 'Drop View vueAccountProjectTask'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTask]
GO

-- Drop View vueAccountProjectTaskOnlyForReport
Print 'Drop View vueAccountProjectTaskOnlyForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskOnlyForReport]
GO

-- Drop View vueAccountExpenseEntryForReport
Print 'Drop View vueAccountExpenseEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryForReport]
GO

-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO

-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO

-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO

-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate, dbo.AccountRole.AccountRoleId, dbo.AccountRole.Role
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO

-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntry.BillingType, dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntry.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntry.DepartmentName, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) 
                      AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) AS Submitted, dbo.vueAccountEmployeeTimeEntry.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntry.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntry.TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntry.Comments AS ApproverComments, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, dbo.vueAccountEmployeeTimeEntry.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntry.PartyNick AS ClientNick, dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, 
                      vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, dbo.vueAccountEmployeeTimeEntry.ApprovedOn, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON 
                      dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId ON 
                      AccountEmployee_3.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO

-- Create View vueAccountProjectTask
Print 'Create View vueAccountProjectTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTask
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.CreatedOn, dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, 
                      dbo.AccountProjectTask.ModifiedByEmployeeId, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountEmployee.FirstName AS CreatedByFirstName, 
                      dbo.AccountEmployee.LastName AS CreatedByLastName, dbo.AccountPriority.Priority, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectCode, dbo.AccountTaskType.TaskType, dbo.AccountProject.AccountId, dbo.AccountProjectTask.AccountProjectMilestoneId, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountProjectTask.IsReOpen, AccountEmployee_1.FirstName AS ModifiedByFirstName, 
                      AccountEmployee_1.LastName AS ModifiedByLastName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountProjectTask.EstimatedTimeSpentUnit, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectTask.IsDisabled, 
                      dbo.AccountProjectTask.TaskCode, dbo.AccountProject.IsTemplate, dbo.AccountProjectTask.IsForAllProjectTask, dbo.AccountProjectTask.IsBillable, 
                      dbo.AccountProjectTask.EstimatedCurrencyId
FROM         dbo.AccountStatus RIGHT OUTER JOIN
                      dbo.AccountTaskType RIGHT OUTER JOIN
                      dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProjectTask.ModifiedByEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectTask.CreatedByEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.AccountProjectTask.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountTaskType.AccountTaskTypeId = dbo.AccountProjectTask.AccountTaskTypeId ON 
                      dbo.AccountStatus.AccountStatusId = dbo.AccountProjectTask.TaskStatusId LEFT OUTER JOIN
                      dbo.AccountPriority ON dbo.AccountProjectTask.AccountPriorityId = dbo.AccountPriority.AccountPriorityId'
GO

-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) 
                      AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountExpenseEntry.TimeSheetApprovalPathId, dbo.AccountEmployee.EMailAddress, dbo.AccountDepartment.DepartmentName, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountTaxZone.AccountTaxZone, dbo.AccountExpenseEntry.Quantity, dbo.AccountExpenseEntry.Rate, 
                      dbo.AccountPaymentMethod.PaymentMethod, dbo.AccountLocation.AccountLocationId, dbo.AccountParty.PartyNick, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountDepartment.DepartmentCode, 
                      dbo.vueAccountExpenseEntryApprovalLastAction.Comments, dbo.vueAccountExpenseEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountDepartment.AccountDepartmentId, dbo.AccountRole.Role, dbo.AccountRole.AccountRoleId
FROM         dbo.AccountDepartment RIGHT OUTER JOIN
                      dbo.AccountRole RIGHT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountRole.AccountRoleId = dbo.AccountEmployee.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId ON 
                      dbo.AccountDepartment.AccountDepartmentId = dbo.AccountEmployee.AccountDepartmentId RIGHT OUTER JOIN
                      dbo.AccountTaxZone RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntryApprovalLastAction RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId ON 
                      dbo.vueAccountExpenseEntryApprovalLastAction.AccountExpenseEntryId = dbo.AccountExpenseEntry.AccountExpenseEntryId LEFT OUTER JOIN
                      dbo.AccountPaymentMethod ON dbo.AccountExpenseEntry.AccountPaymentMethodId = dbo.AccountPaymentMethod.AccountPaymentMethodId ON 
                      dbo.AccountTaxZone.AccountTaxZoneId = dbo.AccountExpenseEntry.AccountTaxZoneId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId LEFT OUTER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId'
GO

-- Create View vueAccountExpenseEntryForReport
Print 'Create View vueAccountExpenseEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryForReport
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount AS NetAmount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, ISNULL(Approved, 
                      0) AS Approved, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, PartyName AS ClientName, AccountClientId, Description, 
                      ExpenseType, AccountExpenseTypeId, LeaderEmployeeId, IsBillable, ISNULL(Rejected, 0) AS Rejected, EmployeeCode, Reimburse, 
                      AccountCurrencyId, CurrencyCode, IsQuantityField, QuantityFieldCaption, AccountBaseCurrencyId, ISNULL(ExchangeRate, 0) AS ExchangeRate, 
                      TaxAmount, NetAmount AS Amount, ISNULL(Submitted, 0) AS Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, 
                      ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, 
                      PaymentMethod, AccountLocationId, PartyNick AS ClientNick, ProjectDescription, ProjectCode, DepartmentCode, Comments, ApprovedOn, 
                      AccountDepartmentId, Role, AccountRoleId, { fn DAYOFMONTH(AccountExpenseEntryDate) } AS DayNo, MONTH(AccountExpenseEntryDate) 
                      AS MonthNo, DATEPART(week, AccountExpenseEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, AccountExpenseEntryDate), 0)) 
                      + 1 AS WeekNo, YEAR(AccountExpenseEntryDate) AS Year, LEFT({ fn MONTHNAME(AccountExpenseEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(AccountExpenseEntryDate)) AS Period, { fn DAYNAME(AccountExpenseEntryDate) } AS WeekDayName
FROM         dbo.vueAccountExpenseEntry'
GO

-- Create View rptvueAccountEmployeeTimeEntry
Print 'Create View rptvueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntry
AS
SELECT     dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskName, dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeadApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerApproved, dbo.vueAccountEmployeeTimeEntryForReport.AdministratorApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Description, dbo.vueAccountEmployeeTimeEntryForReport.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, dbo.vueAccountEmployeeTimeEntryForReport.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryForReport.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Submitted, dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenter, dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.Amount, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountBaseCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AmountCurrencyCode, CASE WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 1 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountEmployeeTimeEntryForReport.Approved = 1 THEN ''Approved''
                       WHEN vueAccountEmployeeTimeEntryForReport.Rejected = 1 THEN ''Rejected'' WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountPriorityId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskType, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.MilestoneDescription, dbo.vueAccountEmployeeTimeEntryForReport.Priority, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApprovedOn, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyCode, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeader, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManager, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeManager, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost, dbo.vueAccountEmployeeTimeEntryForReport.AccountRoleId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Role, dbo.vueAccountEmployeeTimeEntryForReport.WeekDayName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Period, dbo.vueAccountEmployeeTimeEntryForReport.Year, 
                      dbo.vueAccountEmployeeTimeEntryForReport.WeekNo, dbo.vueAccountEmployeeTimeEntryForReport.MonthNo, 
                      dbo.vueAccountEmployeeTimeEntryForReport.DayNo, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 1 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS
                       BillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable
                       IS NULL THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS NonBillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.Amount / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate ELSE 0 END AS CurrencyBillingRate, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeRate
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.vueAccountEmployeeTimeEntryWithLastStatus ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryWithLastStatus.AccountEmployeeTimeEntryId'
GO

-- Create View vueAccountProjectTaskForReport
Print 'Create View vueAccountProjectTaskForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskForReport
AS
SELECT     dbo.vueAccountProjectTask.AccountProjectTaskId, dbo.vueAccountProjectTask.AccountProjectId, 
                      dbo.vueAccountProjectTask.ParentAccountProjectTaskId, dbo.vueAccountProjectTask.TaskName, dbo.vueAccountProjectTask.TaskDescription, 
                      dbo.vueAccountProjectTask.AccountTaskTypeId, dbo.vueAccountProjectTask.DeadlineDate, dbo.vueAccountProjectTask.CompletedPercent, 
                      dbo.vueAccountProjectTask.Completed, dbo.vueAccountProjectTask.IsParentTask, dbo.vueAccountProjectTask.IsForAllEmployees, 
                      dbo.vueAccountProjectTask.AccountPriorityId, dbo.vueAccountProjectTask.TaskStatusId, dbo.vueAccountProjectTask.CreatedOn, 
                      dbo.vueAccountProjectTask.CreatedByEmployeeId, dbo.vueAccountProjectTask.ModifiedOn, dbo.vueAccountProjectTask.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTask.TaskStatus, dbo.vueAccountProjectTask.CreatedByFirstName, dbo.vueAccountProjectTask.CreatedByLastName, 
                      dbo.vueAccountProjectTask.Priority, dbo.vueAccountProjectTask.ProjectName, dbo.vueAccountProjectTask.ProjectCode, 
                      dbo.vueAccountProjectTask.TaskType, dbo.vueAccountProjectTask.AccountId, dbo.vueAccountProjectTask.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTask.MilestoneDescription, dbo.vueAccountProjectTask.IsReOpen, dbo.vueAccountProjectTask.ModifiedByFirstName, 
                      dbo.vueAccountProjectTask.ModifiedByLastName, dbo.vueAccountProjectTask.EstimatedCost, 
                      dbo.vueAccountProjectTask.EstimatedTimeSpent AS EstimatedHours, dbo.vueAccountProjectTask.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTask.AccountEmployeeId, dbo.vueAccountProjectTask.IsDisabled, dbo.vueAccountProjectTask.TaskCode, 
                      dbo.vueAccountProjectTask.IsTemplate, dbo.vueAccountProjectTask.IsForAllProjectTask, dbo.vueAccountProjectTask.IsBillable, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyNick AS ClientNick, dbo.AccountParty.PartyName AS ClientName, 
                      CONVERT(nvarchar(200), dbo.vueAccountProjectTask.Duration) + '' - '' + dbo.vueAccountProjectTask.DurationUnit AS Duration, 
                      dbo.AccountProjectTask.TaskName AS ParentTaskName, dbo.vueAccountProjectTask.EstimatedCurrencyId, 
                      dbo.vueAccountCurrency.CurrencyCode AS EstimatedCurrencyCode
FROM         dbo.vueAccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.vueAccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountProjectTask.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.vueAccountProjectTask.ParentAccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId'
GO

-- Create View vueExpenseEntryApprovalActivityForReport
Print 'Create View vueExpenseEntryApprovalActivityForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueExpenseEntryApprovalActivityForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueExpenseEntryApprovalActivityForReport
AS
SELECT     dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId, dbo.AccountExpenseEntryApproval.ApprovedOn, 
                      dbo.AccountExpenseEntryApproval.Comments, dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, 
                      dbo.vueAccountExpenseEntryForReport.EmployeeName, dbo.vueAccountExpenseEntryForReport.AccountExpenseName, 
                      dbo.vueAccountExpenseEntryForReport.ProjectName, dbo.vueAccountExpenseEntryForReport.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryForReport.AccountId, dbo.vueAccountExpenseEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryForReport.AccountProjectId, dbo.vueAccountExpenseEntryForReport.AccountExpenseId, 
                      dbo.vueAccountExpenseEntryForReport.Amount AS NetAmount, dbo.vueAccountExpenseEntryForReport.Approved, 
                      dbo.vueAccountExpenseEntryForReport.ClientName, dbo.vueAccountExpenseEntryForReport.AccountClientId, 
                      dbo.vueAccountExpenseEntryForReport.Description, dbo.vueAccountExpenseEntryForReport.ExpenseType, 
                      dbo.vueAccountExpenseEntryForReport.AccountExpenseTypeId, dbo.vueAccountExpenseEntryForReport.IsBillable, 
                      dbo.vueAccountExpenseEntryForReport.Rejected, dbo.vueAccountExpenseEntryForReport.EmployeeCode, 
                      dbo.vueAccountExpenseEntryForReport.Reimburse, dbo.vueAccountExpenseEntryForReport.AccountCurrencyId, 
                      dbo.vueAccountExpenseEntryForReport.CurrencyCode, ISNULL(dbo.vueAccountExpenseEntryForReport.ExchangeRate, 0) AS ExchangeRate, 
                      dbo.vueAccountExpenseEntryForReport.AccountBaseCurrencyId, dbo.vueAccountExpenseEntryForReport.TaxAmount, 
                      dbo.vueAccountExpenseEntryForReport.NetAmount AS Amount, dbo.vueAccountExpenseEntryForReport.Submitted, 
                      dbo.vueAccountExpenseEntryForReport.EMailAddress, dbo.vueAccountExpenseEntryForReport.DepartmentName, 
                      dbo.vueAccountExpenseEntryForReport.AccountLocation, dbo.vueAccountExpenseEntryForReport.AccountTaxZone, 
                      dbo.vueAccountExpenseEntryForReport.Quantity, dbo.vueAccountExpenseEntryForReport.Rate, 
                      dbo.vueAccountExpenseEntryForReport.PaymentMethod, dbo.vueAccountExpenseEntryForReport.AccountLocationId, 
                      dbo.vueAccountExpenseEntryForReport.ClientNick, dbo.vueAccountExpenseEntryForReport.ProjectDescription, 
                      dbo.vueAccountExpenseEntryForReport.ProjectCode, dbo.vueAccountExpenseEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployee.EmployeeName AS ApproverEmployeeName, dbo.vueAccountEmployee.EMailAddress AS ApproverEMailAddress, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.SystemApproverType.SystemApproverType, 
                      CASE WHEN dbo.AccountExpenseEntryApproval.IsApproved = 1 THEN ''Approved'' WHEN dbo.AccountExpenseEntryApproval.IsRejected = 1 THEN ''Rejected''
                       END AS Status, dbo.vueAccountEmployee.Role, dbo.vueAccountEmployee.AccountRoleId, dbo.vueAccountEmployee.AccountDepartmentId
FROM         dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath ON dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId RIGHT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId LEFT OUTER JOIN
                      dbo.vueAccountEmployee ON 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId = dbo.vueAccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountExpenseEntryForReport ON 
                      dbo.AccountExpenseEntryApproval.AccountExpenseEntryId = dbo.vueAccountExpenseEntryForReport.AccountExpenseEntryId'
GO

-- Create View vueTimeEntryApprovalActivityForReport
Print 'Create View vueTimeEntryApprovalActivityForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueTimeEntryApprovalActivityForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueTimeEntryApprovalActivityForReport
AS
SELECT     dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, dbo.vueAccountEmployeeTimeEntryForReport.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.Description, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountId, dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.AccountApprovalType.ApprovalTypeName, 
                      dbo.SystemApproverType.SystemApproverType, dbo.vueAccountEmployee.EmployeeName AS ApproverEmployeeName, 
                      dbo.vueAccountEmployee.EMailAddress AS ApproverEmailAddress, dbo.vueAccountEmployeeTimeEntryForReport.Submitted, 
                      CASE WHEN AccountEmployeeTimeEntryApproval.IsApproved = 1 THEN ''Approved'' WHEN AccountEmployeeTimeEntryApproval.IsReject = 1 THEN ''Rejected''
                       END AS Status, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployee.Role, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, dbo.vueAccountEmployee.AccountLocationId, 
                      dbo.vueAccountEmployee.AccountRoleId
FROM         dbo.vueAccountEmployee RIGHT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.vueAccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId LEFT OUTER JOIN
                      dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath ON dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId = dbo.AccountApprovalPath.AccountApprovalPathId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryForReport ON 
                      dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId'
GO

-- Create View vueAccountProjectTaskOnlyForReport
Print 'Create View vueAccountProjectTaskOnlyForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskOnlyForReport
AS
SELECT     dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.TaskStatusId, dbo.vueAccountProjectTaskForReport.CreatedOn, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedOn, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, dbo.vueAccountProjectTaskForReport.ProjectCode, 
                      dbo.vueAccountProjectTaskForReport.TaskType, dbo.vueAccountProjectTaskForReport.AccountId, 
                      dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, dbo.vueAccountProjectTaskForReport.MilestoneDescription, 
                      dbo.vueAccountProjectTaskForReport.IsReOpen, dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByLastName, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0) AS EstimatedHours, dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTaskForReport.AccountEmployeeId, dbo.vueAccountProjectTaskForReport.IsDisabled, 
                      dbo.vueAccountProjectTaskForReport.TaskCode, dbo.vueAccountProjectTaskForReport.IsTemplate, 
                      dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, dbo.vueAccountProjectTaskForReport.IsBillable, 
                      dbo.vueAccountProjectTaskForReport.AccountClientId, dbo.vueAccountProjectTaskForReport.ClientNick, 
                      dbo.vueAccountProjectTaskForReport.ClientName, dbo.vueAccountProjectTaskForReport.Duration, 
                      dbo.vueAccountProjectTaskForReport.ParentTaskName, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.BillableTotalHours, 0)) 
                      AS BillableTotalHours, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.NonBillableTotalHours, 0)) AS NonBillableTotalHours, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.TotalHours, 0)) AS TotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyEmployeeCost, 0)) AS CurrencyEmployeeCost, 
                      ISNULL(dbo.vueAccountCurrency.ExchangeRate, 0) AS EstimatedCurrencyExchangeRate
FROM         dbo.vueAccountProjectTaskForReport LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.rptvueAccountEmployeeTimeEntry ON 
                      dbo.vueAccountProjectTaskForReport.AccountProjectTaskId = dbo.rptvueAccountEmployeeTimeEntry.AccountProjectTaskId
GROUP BY dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.CreatedOn, dbo.vueAccountProjectTaskForReport.TaskStatusId, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.ModifiedOn, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, dbo.vueAccountProjectTaskForReport.ProjectCode, 
                      dbo.vueAccountProjectTaskForReport.TaskType, dbo.vueAccountProjectTaskForReport.AccountId, 
                      dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, dbo.vueAccountProjectTaskForReport.IsReOpen, 
                      dbo.vueAccountProjectTaskForReport.MilestoneDescription, dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByLastName, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0), 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0), dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTaskForReport.AccountEmployeeId, dbo.vueAccountProjectTaskForReport.IsDisabled, 
                      dbo.vueAccountProjectTaskForReport.TaskCode, dbo.vueAccountProjectTaskForReport.IsTemplate, 
                      dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, dbo.vueAccountProjectTaskForReport.IsBillable, 
                      dbo.vueAccountProjectTaskForReport.AccountClientId, dbo.vueAccountProjectTaskForReport.ClientNick, 
                      dbo.vueAccountProjectTaskForReport.ClientName, dbo.vueAccountProjectTaskForReport.Duration, 
                      dbo.vueAccountProjectTaskForReport.ParentTaskName, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, dbo.vueAccountCurrency.ExchangeRate'
GO

-- Create View rptvueAccountExpenseEntry
Print 'Create View rptvueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountExpenseEntry
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, Approved, CreatedOn, 
                      CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, ClientName, AccountClientId, Description, ExpenseType, AccountExpenseTypeId, 
                      LeaderEmployeeId, IsBillable, Rejected, EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, QuantityFieldCaption, 
                      AccountBaseCurrencyId, ExchangeRate, TaxAmount, NetAmount, Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, 
                      ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, 
                      PaymentMethod, AccountLocationId, ClientNick, ProjectDescription, ProjectCode, DepartmentCode, 
                      CASE WHEN vueAccountExpenseEntryForReport.Submitted = 1 AND 
                      vueAccountExpenseEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountExpenseEntryForReport.Approved = 1 THEN ''Approved'' WHEN vueAccountExpenseEntryForReport.Rejected
                       = 1 THEN ''Rejected'' WHEN vueAccountExpenseEntryForReport.Submitted = 0 AND vueAccountExpenseEntryForReport.Approved = 0 AND 
                      vueAccountExpenseEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, Comments AS ApproverComments, ApprovedOn, 
                      AccountDepartmentId, Role, AccountRoleId, DayNo, MonthNo, WeekNo, Year, Period, WeekDayName, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.NetAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyNetAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.Amount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.TaxAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyTaxAmount
FROM         dbo.vueAccountExpenseEntryForReport'
GO

-- Create View rptvueExpenseEntryApprovalActivity
Print 'Create View rptvueExpenseEntryApprovalActivity'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueExpenseEntryApprovalActivity' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueExpenseEntryApprovalActivity
AS
SELECT     ExpenseApprovalId, AccountExpenseEntryId, ExpenseApprovalTypeId, ExpenseApprovalPathId, ApprovedByEmployeeId, ApprovedOn, Comments, 
                      IsRejected, IsApproved, EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount, Approved, ClientName, AccountClientId, Description, ExpenseType, AccountExpenseTypeId, IsBillable, 
                      Rejected, EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, ExchangeRate, AccountBaseCurrencyId, TaxAmount, NetAmount, Submitted, 
                      EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, PaymentMethod, AccountLocationId, ClientNick, ProjectDescription,
                       ProjectCode, DepartmentCode, ApproverEmployeeName, ApproverEMailAddress, ApprovalTypeName, SystemApproverType, Status, Role, 
                      AccountRoleId, AccountDepartmentId, 
                      CASE WHEN dbo.vueExpenseEntryApprovalActivityForReport.ExchangeRate > 0 THEN dbo.vueExpenseEntryApprovalActivityForReport.NetAmount / dbo.vueExpenseEntryApprovalActivityForReport.ExchangeRate
                       ELSE 0 END AS CurrencyNetAmount, 
                      CASE WHEN dbo.vueExpenseEntryApprovalActivityForReport.ExchangeRate > 0 THEN dbo.vueExpenseEntryApprovalActivityForReport.Amount / dbo.vueExpenseEntryApprovalActivityForReport.ExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueExpenseEntryApprovalActivityForReport.ExchangeRate > 0 THEN dbo.vueExpenseEntryApprovalActivityForReport.TaxAmount / dbo.vueExpenseEntryApprovalActivityForReport.ExchangeRate
                       ELSE 0 END AS CurrencyTaxAmount
FROM         dbo.vueExpenseEntryApprovalActivityForReport'
GO

-- Create View rptvueTimeEntryApprovalActivity
Print 'Create View rptvueTimeEntryApprovalActivity'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueTimeEntryApprovalActivity' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueTimeEntryApprovalActivity
AS
SELECT     TimeSheetApprovalId, AccountEmployeeTimeEntryId, TimeSheetApprovalTypeId, TimeSheetApprovalPathId, ApprovedByEmployeeId, ApprovedOn, 
                      Comments, IsReject, IsApproved, EmployeeName, ProjectName, TaskName, TotalTime, StartTime, EndTime, TimeEntryDate, ClientName, 
                      EMailAddress, ApproverComments, TotalHours, Approved, AccountEmployeeId, AccountProjectId, Description, AccountId, TotalMinutes, AccountClientId, 
                      AccountProjectTaskId, BillingType, IsBillable, Rejected, BillingRate, AccountDepartmentId, DepartmentName, ProjectCode, TaskCode, ClientNick, 
                      ApprovalTypeName, SystemApproverType, ApproverEmployeeName, ApproverEmailAddress, Submitted, Status, EmployeeCode, AccountLocation, 
                      Role, DepartmentCode, AccountLocationId, AccountRoleId
FROM         dbo.vueTimeEntryApprovalActivityForReport'
GO

-- Create View rptvueAccountProjectTasks
Print 'Create View rptvueAccountProjectTasks'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountProjectTasks
AS
SELECT     AccountProjectTaskId, AccountProjectId, ParentAccountProjectTaskId, TaskName, TaskDescription, AccountTaskTypeId, DeadlineDate, 
                      CompletedPercent, Completed, IsParentTask, IsForAllEmployees, AccountPriorityId, TaskStatusId, CreatedOn, CreatedByEmployeeId, ModifiedOn, 
                      ModifiedByEmployeeId, TaskStatus, CreatedByFirstName, CreatedByLastName, Priority, ProjectName, ProjectCode, TaskType, AccountId, 
                      AccountProjectMilestoneId, MilestoneDescription, IsReOpen, ModifiedByFirstName, ModifiedByLastName, ISNULL(EstimatedCost, 0) 
                      AS EstimatedCost, EstimatedHours, EstimatedTimeSpentUnit, AccountEmployeeId, IsDisabled, TaskCode, IsTemplate, IsForAllProjectTask, IsBillable, 
                      AccountClientId, ClientNick, ClientName, Duration, ParentTaskName, EstimatedCurrencyId, EstimatedCurrencyCode, BillableTotalHours, 
                      NonBillableTotalHours, TotalHours, CurrencyEmployeeCost, EstimatedCurrencyExchangeRate, 
                      CASE WHEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCost
                       / dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost
FROM         dbo.vueAccountProjectTaskOnlyForReport'

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] NOCHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] NOCHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] NOCHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='1bf5e001-1471-4073-817d-f3743f003d0e'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='0037de48-2938-4327-b8b5-7712536967f3'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='fef9eb54-8c67-4b26-bb7a-39a9a3711866'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='dab7b3bf-f0b6-4616-9364-334c7eee49c3'

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'

DELETE FROM [dbo].[SystemReportPermission] WHERE [SystemReportPermissionId]='856ce10a-3b39-421d-8ec6-f0d1fda3bb1e'
DELETE FROM [dbo].[SystemReportPermission] WHERE [SystemReportPermissionId]='ed20a739-0c5c-4430-98cc-30ba717dca90'
DELETE FROM [dbo].[SystemReportPermission] WHERE [SystemReportPermissionId]='d1321c6e-5f5c-4e9e-82a7-e735d0f14132'
DELETE FROM [dbo].[SystemReportPermission] WHERE [SystemReportPermissionId]='35dcc484-30fb-41f6-b2fb-417efe6e28bc'
DELETE FROM [dbo].[SystemReportPermission] WHERE [SystemReportPermissionId]='884894c2-8a06-46f4-bef5-3999653d0c1c'
DELETE FROM [dbo].[SystemReportPermission] WHERE [SystemReportPermissionId]='cd7332e8-f834-42c7-b68e-1ef3ea5749ab'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'
if not exists(Select * from [dbo].[AccountReport] where AccountReportId = '8decc776-b343-45ef-8661-e5cc08b53881')
BEGIN
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName], [ReportOrder]) VALUES ('8decc776-b343-45ef-8661-e5cc08b53881', 'ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', N'Detail Task Report', N'Detail Task Report', '/Images/DetailTaskReport.gif', NULL, NULL, NULL, 0, NULL, 4)
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName], [ReportOrder]) VALUES ('c157ada7-03ed-483f-8d38-7b82a915bd16', 'ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', N'Project Cost Report', N'Project Cost Report', '/Images/ProjectCostReport.gif', NULL, NULL, NULL, 1, NULL, 3)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '8b03b714-c209-4fb3-b7e5-ba20e1a5269e')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8b03b714-c209-4fb3-b7e5-ba20e1a5269e', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'DayNo', 50, 0, NULL, NULL, 32, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Day No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4c9bb714-da5f-4633-902a-2745728eea60', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'MonthNo', 50, 0, NULL, NULL, 35, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Month No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a1812017-3bb9-481b-946f-9db5704ef3c7', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'BaseCurrencyTaxAmount', 80, 0, N'ParameterCurrencyCode', N'CurrencyTaxAmount*ParameterCurrencyExchangeRate', 40, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Tax (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('91f66825-1d02-4390-9ef1-9e7e358aa0e3', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'DepartmentName', 175, 0, NULL, NULL, 26, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3d6d6526-fbfb-4674-bedf-1fd3dcb6aa3b', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'BaseCurrencyAmount', 110, 0, N'ParameterCurrencyCode', N'CurrencyAmount*ParameterCurrencyExchangeRate', 30, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('87ee9e36-48f9-451c-bc38-38493a2273ed', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'FormulaField2', 150, 0, NULL, NULL, 202, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e5dba941-8668-4d30-9320-b94638784485', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'BaseCurrencyAmount', 110, 0, N'ParameterCurrencyCode', N'CurrencyAmount*ParameterCurrencyExchangeRate', 39, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9fd68c4f-a759-47cc-9677-bd1608756e6d', '3a080202-6842-4eca-8c79-a945978810b4', N'MonthNo', 50, 0, NULL, NULL, 51, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Month No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b8034f69-b7e4-4a2b-b1a0-314a691c0515', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'Role', 120, 0, NULL, NULL, 24, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c33dbb6f-b8b7-445f-bff6-3120237ba745', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Reimburse', 70, 1, NULL, NULL, 38, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Reimburse', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5018bf70-d70b-4963-8344-8946728541e5', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'WeekDayName', 60, 0, NULL, NULL, 33, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Day', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('242c7274-b9c5-4ae1-8a50-5f1f890e081a', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'BaseCurrencyEstimatedCost', 130, 1, N'ParameterCurrencyCode', N'CurrencyEstimatedCost*ParameterCurrencyExchangeRate', 27, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Task Estimated Cost (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6b461278-34ef-4c0b-967f-d854a8f53ea1', '3a080202-6842-4eca-8c79-a945978810b4', N'DayNo', 50, 0, NULL, NULL, 48, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Day No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3f378f7b-8da1-4061-8685-03d6b75cd8e8', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', N'BaseCurrencyTaxAmount', 80, 0, N'ParameterCurrencyCode', N'CurrencyTaxAmount*ParameterCurrencyExchangeRate', 29, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Tax (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1a7ecb82-b588-4bf8-b6af-6c1d03e632ef', '3a080202-6842-4eca-8c79-a945978810b4', N'Year', 50, 0, NULL, NULL, 53, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Year', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('74983b89-4f3f-4da1-b711-c4503ed53787', '3a080202-6842-4eca-8c79-a945978810b4', N'BaseCurrencyEmployeeRate', 120, 0, N'ParameterCurrencyCode', N'CurrencyEmployeeRate*ParameterCurrencyExchangeRate', 44, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Employee Rate (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('dffc7c8a-eccb-4643-82ac-1d8c143845e7', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'BaseCurrencyEmployeeCost', 110, 1, N'ParameterCurrencyCode', N'CurrencyEmployeeCost*ParameterCurrencyExchangeRate', 28, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Actual Cost (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b6ee778e-ab12-4e1c-909a-9d2a09b0023a', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'BillableTotalHours', 80, 1, NULL, NULL, 23, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Billable Total Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0be9fe90-3ffe-4745-8647-2473a395ca9f', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'FormulaField4', 150, 0, NULL, NULL, 204, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0f167d93-b2ae-4b21-ba6d-1b6c715605d0', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Role', 120, 0, NULL, NULL, 31, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8cbc99b1-5299-4c51-bd36-7552b96b624e', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'AccountLocation', 150, 0, NULL, NULL, 27, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Location Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('76605eb4-8af4-48e5-86b6-b78cf7d38319', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'FormulaField5', 150, 0, NULL, NULL, 205, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b732d9b9-8369-4bfa-b9b4-2dc35ae02084', '3a080202-6842-4eca-8c79-a945978810b4', N'Period', 65, 0, NULL, NULL, 52, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Period', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a2b10bbc-1dcc-4fcf-9474-29440913f512', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Period', 65, 0, NULL, NULL, 36, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Period', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ac0fa1bd-f4c0-4cfe-bd4b-98fe71423c34', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'WeekNo', 50, 0, NULL, NULL, 34, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Week No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3bf790be-7a8b-41da-a596-8e0dc7ea91a6', '3a080202-6842-4eca-8c79-a945978810b4', N'EmployeeCost', 120, 0, N'EmployeeRateCurrencyCode', NULL, 45, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Employee Cost', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3a702fc3-b97c-4b96-adda-4f642f52c5d4', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'DepartmentCode', 115, 0, NULL, NULL, 25, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f086b1c5-f9a0-429d-aac2-33234849ee39', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Year', 50, 0, NULL, NULL, 37, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Year', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('04622ac6-851c-47e6-a5db-7854133cae73', '3a080202-6842-4eca-8c79-a945978810b4', N'BaseCurrencyEmployeeCost', 120, 0, N'ParameterCurrencyCode', N'CurrencyEmployeeCost*ParameterCurrencyExchangeRate', 46, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Employee Cost (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('696d03cf-bd25-45f7-9808-5970470988ad', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'FormulaField1', 150, 0, NULL, NULL, 201, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fcd8d6d5-e1e8-4940-bfde-eb597d991482', '3a080202-6842-4eca-8c79-a945978810b4', N'Role', 115, 0, NULL, NULL, 47, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('476622e6-4c07-4fcf-9fc1-ea031550809a', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'NonBillableTotalHours', 80, 1, NULL, NULL, 24, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Non-Billable Total Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('eb831bee-5e82-4764-88e2-3fe887f022b1', '3a080202-6842-4eca-8c79-a945978810b4', N'WeekDayName', 60, 0, NULL, NULL, 49, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Day', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9f61c8ee-db3f-4418-9f5c-a43d51ba0778', '3a080202-6842-4eca-8c79-a945978810b4', N'BaseCurrencyBillingRate', 115, 0, N'ParameterCurrencyCode', N'CurrencyBillingRate*ParameterCurrencyExchangeRate', 43, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Billing Rate (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6ed30ff1-ffa6-439d-b3a4-fdb3d9270035', '3a080202-6842-4eca-8c79-a945978810b4', N'WeekNo', 50, 0, NULL, NULL, 50, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Week No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e4b7f9f4-09b7-405e-a120-9fc644ef1c08', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'FormulaField3', 150, 0, NULL, NULL, 203, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ea0129fc-8e75-480f-b11f-131b478590b7', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'TotalHours', 80, 1, NULL, NULL, 25, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Actual Hours', 0, 0)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSource]'
if not exists(Select * from [dbo].[SystemReportFilterSource] where SystemReportFilterSourceId = '28f4a000-3a5b-402c-9c5f-f92af6310c5c')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('28f4a000-3a5b-402c-9c5f-f92af6310c5c', N'Reimbursement', NULL, NULL, NULL, N'Reimbursement Status:', NULL, NULL, N'Reimbursement', 1, N'Reimbursement', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('6f6881bc-6f4f-4b76-b096-93c32852dca9', N'Priority', NULL, NULL, NULL, N'Priority:', NULL, NULL, N'=', NULL, N'AccountPriorityId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('dee8c0de-a947-4984-98c1-a9fc28afb704', N'TaskStatus', NULL, NULL, NULL, N'Task Status:', NULL, NULL, N'=', NULL, N'TaskStatusId', NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'
if not exists(Select * from [dbo].[SystemReportFilterSourceMapping] where SystemReportFilterMappingId = 'fa81dc00-a3ac-4524-a327-55a75513893c')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('fa81dc00-a3ac-4524-a327-55a75513893c', '6f6881bc-6f4f-4b76-b096-93c32852dca9', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 1, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('ec7b0303-64b2-48ce-ba4f-ca11bf9828d3', '39e77f67-6659-45aa-8eef-6bc28103b617', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 1, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('56ddf608-d300-4d07-aefa-fa058e803c7c', 'dee8c0de-a947-4984-98c1-a9fc28afb704', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 1, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('72854528-d178-4f3f-9706-bb961494a89e', '7feed6f5-67ab-4699-8866-8deddac27b9f', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 1, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('dfad1a29-d822-48a7-b0ca-5c9a38763030', '39e77f67-6659-45aa-8eef-6bc28103b617', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 1, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('0b05754c-bee9-4504-8b2d-ee7620c8ea31', '9924da4a-2907-4368-a803-99c0c6f9ffff', '1e657f0a-881b-4f50-839a-c3a962c9a460', 0, 0, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('a19f385a-e99e-4e97-82ac-bff88aa246c5', '875614cd-c8ac-410d-aeae-af024a772739', '3a080202-6842-4eca-8c79-a945978810b4', 0, 1, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('f30097b5-18f7-4418-af58-d4608e7c62af', '875614cd-c8ac-410d-aeae-af024a772739', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 1, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('90d106bf-ca89-4af9-9d8b-b45ecede3e50', '875614cd-c8ac-410d-aeae-af024a772739', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 1, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('eed1dec7-5f60-4f3c-8720-fdaffe82d830', '7feed6f5-67ab-4699-8866-8deddac27b9f', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 0, 1, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('196f08f1-daff-406e-86e8-fbc2bc7514a7', '28f4a000-3a5b-402c-9c5f-f92af6310c5c', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 0, 13)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('46cacdf6-19a5-4bab-852f-7841b449dc26', '875614cd-c8ac-410d-aeae-af024a772739', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 1, 7)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'
if not exists(Select * from [dbo].[SystemReportPermission] where SystemReportPermissionId = 'd1520237-763c-4742-88a8-853d0b493c16')
BEGIN
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('d1520237-763c-4742-88a8-853d0b493c16', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('f3445446-c846-4560-a889-bf191534524e', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('56402462-afb3-4966-9094-bdb9c95aed4c', '0a50ebcb-d26f-48d4-b330-63c1767f5eba', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('6398157f-acb6-4f94-8e83-5c61ed2967a0', '8decc776-b343-45ef-8661-e5cc08b53881', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('de540fb3-cc58-48e8-a2c4-94106dabc83e', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 100, 1, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('7a4535cf-75cc-49da-90c8-13b3a212a489', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('7ee341e7-431c-4720-8310-547e9d4520d6', '8decc776-b343-45ef-8661-e5cc08b53881', 1, 1, 1, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates]) VALUES ('3234c4e7-c23c-483b-a16e-5d50a238d6ff', '8decc776-b343-45ef-8661-e5cc08b53881', 101, 1, NULL, NULL, NULL, NULL, 1, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
if not exists(Select * from [dbo].[AccountReportColumn] where AccountReportColumnId = 'dd902c07-2a9a-43c9-8f30-0d0c723c32cf')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('dd902c07-2a9a-43c9-8f30-0d0c723c32cf', '8decc776-b343-45ef-8661-e5cc08b53881', N'Is ReOpen', '859601c7-10ac-4805-9e59-87473ca02d37', 19, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f4e5b311-eaa6-44df-9fd7-eb9ec34bf35d', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Type', 'e9b30298-d25c-454e-b989-3a24be44e454', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('63e1e312-5143-4d66-a381-9d3964d73db8', '8decc776-b343-45ef-8661-e5cc08b53881', N'Priority', '42a00998-ed79-41ab-9836-b1898e899538', 12, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('028ad616-87db-408e-8c3a-7eea1c0d7173', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Description', 'e01b67b3-1db3-493a-8c9e-fa1690fe7c6c', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f6d8ee16-be82-4a28-9599-dcdf52703a3e', '8decc776-b343-45ef-8661-e5cc08b53881', N'Project Code', '15c7c46b-6ed7-428d-bc39-e8eb810b33df', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('79ef2225-44ed-4172-8b49-5a34a1786fb7', '8decc776-b343-45ef-8661-e5cc08b53881', N'Is Parent Task', 'fd0652fa-66f4-4cf4-8810-716746498fff', 16, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3eb42e2b-733e-4257-ac89-a224d8c684e4', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Estimated Cost', '73fa6a48-8bc7-46df-9bc2-4b477b0b511f', 25, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8de79b2c-f2dd-45a4-bc96-2130b5b08b05', '8decc776-b343-45ef-8661-e5cc08b53881', N'Is For All Employees', 'ec417b02-da3b-4846-9c8c-540397aec434', 17, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('1da35638-b69b-434b-a0dc-25abfe716038', '8decc776-b343-45ef-8661-e5cc08b53881', N'Actual Cost (BaseCurrency)', 'dffc7c8a-eccb-4643-82ac-1d8c143845e7', 27, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('61f4163d-81fd-45a6-a44f-b044cb6e62fc', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Estimated Cost (BaseCurrency)', '242c7274-b9c5-4ae1-8a50-5f1f890e081a', 26, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('bff9264e-ac1b-4414-861e-b5a33762d622', '8decc776-b343-45ef-8661-e5cc08b53881', N'Project Name', 'd833c94f-91f7-4980-89a0-b38f25ec656f', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('cf439152-1569-42a4-b2df-686f880e5aa2', '8decc776-b343-45ef-8661-e5cc08b53881', N'Is Billable', 'dcecfcd5-8f2d-4ab1-a337-0ce1eb07eb2b', 20, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('ed2f0f56-49b1-42bf-8d44-969b3a354868', '8decc776-b343-45ef-8661-e5cc08b53881', N'Client Nick', 'b6f51c36-b1eb-4a37-9592-ce2fd8284505', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('78eafc56-41e8-4ee1-bc9c-68e9c66886a9', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Task Name', '09085a9b-8edf-46e5-92b1-8fb673c10d62', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('58ca1a5e-07f0-4bf7-9f51-5d18f7c43689', '8decc776-b343-45ef-8661-e5cc08b53881', N'Duration', '2b125b2f-5d7e-4a44-b530-92a403060051', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('992f635e-232e-4b97-937c-b4fa5c10b13b', '8decc776-b343-45ef-8661-e5cc08b53881', N'Non-Billable Total Hours', '476622e6-4c07-4fcf-9fc1-ea031550809a', 23, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('68976d5e-dd46-4d40-84a1-d5996355495e', '8decc776-b343-45ef-8661-e5cc08b53881', N'Is For All Project Task', '89578745-857e-40f6-8fe5-8c94e9bfb0ed', 18, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e9adfc6c-98cf-4d60-96c0-ba4d719c9fbc', '8decc776-b343-45ef-8661-e5cc08b53881', N'Milestone Description', 'be16a042-e9b1-42fe-9be4-4a5256b0ddd3', 8, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('f84a3d6d-23ce-4e85-8bfb-899303645d53', '8decc776-b343-45ef-8661-e5cc08b53881', N'Billable Total Hours', 'b6ee778e-ab12-4e1c-909a-9d2a09b0023a', 22, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('c14c5882-7b41-44e5-b5aa-179b9a3fda5b', '8decc776-b343-45ef-8661-e5cc08b53881', N'Client Name', '8e95f8c0-05b4-4e69-a6df-05489181107f', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6bb3d082-ef1d-43a7-ba0a-5f4defeb6078', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Name', '6e406a20-0532-4f01-9268-227c6003fb13', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8d7c8583-f3ec-40dd-b035-210bc7c4c2ef', '8decc776-b343-45ef-8661-e5cc08b53881', N'Is Completed', 'b4aa2ce9-85d9-421a-92ff-567e19b472a6', 15, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('4c9eaf8e-9bf0-4689-a752-1e36a19a04da', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Client Amount (BaseCurrency)', '2252853d-a1ea-4c39-a040-218f60b542c2', 4, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d077489b-e95d-4ef5-98e9-d26227c47fbc', '8decc776-b343-45ef-8661-e5cc08b53881', N'Deadline', '2fa5708e-77e4-4352-bc39-02d12b55c140', 11, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0991a7c0-c06f-4c08-9496-e9f57d924265', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Status', 'aa6de240-ffae-4e45-b097-a900e3620e03', 13, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3a94f0c2-3a34-4075-9f16-b140fa153954', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Code', '3f662f48-264b-48fa-bb1d-dbfdafedaf05', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6aaef4c3-f560-4d8d-80b0-10294d1afee0', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Reimburse', 'c33dbb6f-b8b7-445f-bff6-3120237ba745', 10, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9ae393ce-16a3-4aea-a8e5-4172ef5a4def', '8decc776-b343-45ef-8661-e5cc08b53881', N'Actual Hours', 'ea0129fc-8e75-480f-b11f-131b478590b7', 24, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('335c3bd7-214b-4ab8-bf9d-571e8e0d46a8', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Employee Cost (BaseCurrency)', '04622ac6-851c-47e6-a5db-7854133cae73', 3, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('66bb00e6-6dd1-4129-b12f-211c292a6a49', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', N'Net Amount', '305bc0a1-54be-456e-8990-2ef92e6c1046', 8, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d4bebeeb-ab13-4f89-83c7-09956e92c384', '8decc776-b343-45ef-8661-e5cc08b53881', N'Task Estimated Hours', '85b75ac1-d0e5-4125-837e-46576fd59bb3', 21, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('dbb53af6-f560-432f-a7e3-45483a267a68', '8decc776-b343-45ef-8661-e5cc08b53881', N'Completed (%)', '0a15bd07-0ee1-4b06-9948-2d05d02fe468', 14, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('807c0afa-7710-4f2f-8440-5c1e9ba84a80', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Project Name', '55fcc427-98b5-4bfe-bfd4-f758173dcf03', 1, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]'
if not exists(Select * from [dbo].[AccountReportDataSourceMapping] where AccountReportDataSourceMappingId = 'd70c4669-c7f2-424e-8e59-b70f083c5226')
BEGIN
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('d70c4669-c7f2-424e-8e59-b70f083c5226', 'c157ada7-03ed-483f-8d38-7b82a915bd16', '3a080202-6842-4eca-8c79-a945978810b4')
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('244f198f-d356-4104-b508-109f58f8b65e', '8decc776-b343-45ef-8661-e5cc08b53881', '1e657f0a-881b-4f50-839a-c3a962c9a460')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'
if not exists(Select * from [dbo].[AccountReportGroup] where AccountReportGroupId = 'a42e5e0b-1275-4b1d-bed8-2b3198afb5c9')
BEGIN
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('a42e5e0b-1275-4b1d-bed8-2b3198afb5c9', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'ProjectName', N'Project Name', 1, '55fcc427-98b5-4bfe-bfd4-f758173dcf03')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('84be2120-7310-48f0-b847-23904471ef1f', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'TaskName', N'Task Name', 0, '09085a9b-8edf-46e5-92b1-8fb673c10d62')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'
if not exists(Select * from [dbo].[AccountReportSummary] where AccountReportSummaryId = 'cda3a228-4c95-441b-9222-b48929150860')
BEGIN
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('cda3a228-4c95-441b-9222-b48929150860', 'a42e5e0b-1275-4b1d-bed8-2b3198afb5c9', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '335c3bd7-214b-4ab8-bf9d-571e8e0d46a8', N'BaseCurrencyEmployeeCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f76dcf3a-804d-4122-aa6f-9343296049fe', '84be2120-7310-48f0-b847-23904471ef1f', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4c9eaf8e-9bf0-4689-a752-1e36a19a04da', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f8a0f7a4-194a-4ec9-b6a7-30f95314fc19', '84be2120-7310-48f0-b847-23904471ef1f', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '335c3bd7-214b-4ab8-bf9d-571e8e0d46a8', N'BaseCurrencyEmployeeCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('949a2aad-ce6b-4069-a42e-5253bfa52ddb', 'a42e5e0b-1275-4b1d-bed8-2b3198afb5c9', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '4c9eaf8e-9bf0-4689-a752-1e36a19a04da', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f0e51efd-e74f-456d-a95b-f208e1113af4', '915e2dd6-3c02-4f00-acc0-37c4e4a4edb1', '97bf7ecd-f90b-4153-8caf-0f000c8545ad', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '66bb00e6-6dd1-4129-b12f-211c292a6a49', N'NetAmount', 1, 1)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'

UPDATE [dbo].[AccountReport] SET [AccountReportCategoryId]='ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', [ReportOrder]=7 WHERE [AccountReportId]='db046660-cb45-4adb-b103-27a00775d42a'
UPDATE [dbo].[AccountReport] SET [ReportOrder]=5 WHERE [AccountReportId]='43ac1bc0-8062-4cc9-b611-4b7de6a9a833'
UPDATE [dbo].[AccountReport] SET [AccountReportCategoryId]='ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', [ReportOrder]=6 WHERE [AccountReportId]='0a50ebcb-d26f-48d4-b330-63c1767f5eba'
UPDATE [dbo].[AccountReport] SET [AccountReportCategoryId]='ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9' WHERE [AccountReportId]='15c648e0-35a3-415d-8856-449b4bb05292'
UPDATE [dbo].[AccountReport] SET [AccountReportCategoryId]='ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', [ReportOrder]=8 WHERE [AccountReportId]='232d42fd-ab42-4e5b-9f44-d3ac04bebeb2'

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountStatus]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountStatus]'

UPDATE [dbo].[MasterAccountStatus] SET [Status]=N'InActive' WHERE [MasterAccountStatusId]=16

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'

UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=205 WHERE [SystemReportDataSourceFieldId]='7d35a921-e28a-41e4-8afd-1da3705ced7c'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=205 WHERE [SystemReportDataSourceFieldId]='f1313626-05df-4f19-b5da-4d47b8e85c27'
UPDATE [dbo].[SystemReportDataSourceField] SET [Formula]=N'CurrencyAmount*ParameterCurrencyExchangeRate' WHERE [SystemReportDataSourceFieldId]='2252853d-a1ea-4c39-a040-218f60b542c2'
UPDATE [dbo].[SystemReportDataSourceField] SET [CurrencyField]=N'EstimatedCurrencyCode', [SystemReportDataSourceFieldColumnOrder]=26 WHERE [SystemReportDataSourceFieldId]='73fa6a48-8bc7-46df-9bc2-4b477b0b511f'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=202 WHERE [SystemReportDataSourceFieldId]='39427c4e-fa0b-4062-aac4-23bd230edbf3'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=204 WHERE [SystemReportDataSourceFieldId]='c182ab59-98dd-46ea-a0e2-49a9346d6cb3'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=204 WHERE [SystemReportDataSourceFieldId]='236ad870-27f2-48d9-8964-ce8bedbc6cc0'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=205 WHERE [SystemReportDataSourceFieldId]='f662c779-a28f-4dc2-8621-69745b3ebe9d'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=202 WHERE [SystemReportDataSourceFieldId]='7a47c67a-0c82-4d1b-b068-4fe36243a89b'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=201 WHERE [SystemReportDataSourceFieldId]='ba567681-ea7a-4454-84f2-5b350ffedd7f'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceField]=N'BaseCurrencyNetAmount', [Formula]=N'CurrencyNetAmount*ParameterCurrencyExchangeRate', [SystemReportDataSourceFieldCaption]=N'Net Amount (BaseCurrency)' WHERE [SystemReportDataSourceFieldId]='f77505a2-78e9-468f-b364-b00d158022df'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=201 WHERE [SystemReportDataSourceFieldId]='9d1724a4-ce8d-4be3-ac3f-89d9750385aa'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=204 WHERE [SystemReportDataSourceFieldId]='7d872eb2-7641-4a0e-b410-f128b8bcdb82'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=201 WHERE [SystemReportDataSourceFieldId]='96befdbb-67cd-4cad-a695-e534ebe0010a'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=22 WHERE [SystemReportDataSourceFieldId]='85b75ac1-d0e5-4125-837e-46576fd59bb3'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=203 WHERE [SystemReportDataSourceFieldId]='5f3371c4-8db6-4bcd-8c9b-571af8be5f4c'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=202 WHERE [SystemReportDataSourceFieldId]='9d93c3cc-81f2-48c9-b9fe-27031051e97a'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=203 WHERE [SystemReportDataSourceFieldId]='0474afd0-c430-4660-bdda-92ee33c0cc8d'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=205 WHERE [SystemReportDataSourceFieldId]='848c40d4-04a0-4acd-8ca8-660f7c14957f'
UPDATE [dbo].[SystemReportDataSourceField] SET [Formula]=N'CurrencyNetAmount*ParameterCurrencyExchangeRate' WHERE [SystemReportDataSourceFieldId]='c29586e1-b31e-46ca-9d79-aa4faf77dd0f'
UPDATE [dbo].[SystemReportDataSourceField] SET [Formula]=N'CurrencyEstimatedCost*ParameterCurrencyExchangeRate' WHERE [SystemReportDataSourceFieldId]='35bffee2-4d28-46b2-8d67-1e1a39af45f8'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=203 WHERE [SystemReportDataSourceFieldId]='5ce1a9ea-e22c-42c6-a817-50d9d9231106'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=201 WHERE [SystemReportDataSourceFieldId]='c87ac1ee-e30a-48a2-b1fd-ac50c945640b'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=202 WHERE [SystemReportDataSourceFieldId]='334a8ff5-c650-4d95-a1d5-c964fb5e39bd'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=204 WHERE [SystemReportDataSourceFieldId]='dd57b0fc-f686-4419-a689-73af36ef87ca'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=203 WHERE [SystemReportDataSourceFieldId]='2b7722fe-3b26-421f-bbf0-9d5612a81869'

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'

UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=13 WHERE [SystemReportFilterMappingId]='16550300-a599-4241-a0b4-8ecc9f02637a'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=8 WHERE [SystemReportFilterMappingId]='31d01917-0ef3-4fd4-b3bb-8185830d7b51'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=8 WHERE [SystemReportFilterMappingId]='98625533-41c6-4b8d-ae6c-6087eb628975'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=11 WHERE [SystemReportFilterMappingId]='36082f3f-c35d-4fd6-8d5c-29e0e12a8489'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='a2c3763f-7718-413b-b3ba-ecc6da558916'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='0641d840-c376-4dbc-a4a5-26c8c161f5f6'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='91d39141-a8e3-491f-a8e0-29c6f7923a2d'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=9 WHERE [SystemReportFilterMappingId]='040adb46-8f90-451b-a8f8-53022a151d50'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=9 WHERE [SystemReportFilterMappingId]='baa8f055-22ab-4c8e-ad45-86cfc3fd29f8'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=11 WHERE [SystemReportFilterMappingId]='ba79286f-6c4f-4b6e-a95b-a91365494cb2'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=9 WHERE [SystemReportFilterMappingId]='460a8b81-1b09-4081-b955-26be4cbbc17e'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=8 WHERE [SystemReportFilterMappingId]='cf407089-f92f-4924-9352-796769259ff5'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=9 WHERE [SystemReportFilterMappingId]='eb410d8f-bffb-4b61-b7c1-56356e1a0acb'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=14 WHERE [SystemReportFilterMappingId]='b10113af-d36f-42aa-bc23-56cb98be5aed'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=11 WHERE [SystemReportFilterMappingId]='812f1dba-47fd-4aaf-bc38-a6afb930e0fc'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=11 WHERE [SystemReportFilterMappingId]='c5a9bdc1-4242-4d12-a83e-e8a5dd2cbf04'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=13 WHERE [SystemReportFilterMappingId]='8b8434ca-c34a-4e0a-8cd3-e2ed79118293'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='00ded0d1-06a4-48a8-921d-41d134d06065'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='8cd491d6-5339-403d-9d22-dc07469ebee0'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=12 WHERE [SystemReportFilterMappingId]='c633f4fa-0039-44aa-8838-acbb6676c6d2'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=10 WHERE [AccountReportColumnId]='12827607-a63d-422b-a610-c1b68446b48a'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=13 WHERE [AccountReportColumnId]='15296553-dde1-4e01-a9dc-9c18eb41043b'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=14 WHERE [AccountReportColumnId]='86f71f57-80e3-4fa7-9303-6ba56789654b'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=9 WHERE [AccountReportColumnId]='20e78567-1c3f-49f6-9a3f-be1d5fd47a23'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=12 WHERE [AccountReportColumnId]='be949f6e-40ff-46c0-804b-41b3400fd191'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=12 WHERE [AccountReportColumnId]='9d085183-19ac-4bb6-a8aa-809e7e6adb9f'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=11 WHERE [AccountReportColumnId]='d70ef2c5-aeea-4237-abc0-264fe09c53a6'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=11 WHERE [AccountReportColumnId]='d18694d9-b34f-45d4-8343-656c6a1e6229'

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] CHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] CHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] CHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

GO

-- Drop View rptvueAccountProjectTasks
Print 'Drop View rptvueAccountProjectTasks'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountProjectTasks]
GO
-- Drop View vueAccountProjectTaskOnlyForReport
Print 'Drop View vueAccountProjectTaskOnlyForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskOnlyForReport]
GO
-- Create View vueAccountProjectTaskOnlyForReport
Print 'Create View vueAccountProjectTaskOnlyForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskOnlyForReport
AS
SELECT     dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.TaskStatusId, dbo.vueAccountProjectTaskForReport.CreatedOn, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedOn, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, dbo.vueAccountProjectTaskForReport.ProjectCode, 
                      dbo.vueAccountProjectTaskForReport.TaskType, dbo.vueAccountProjectTaskForReport.AccountId, 
                      dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, dbo.vueAccountProjectTaskForReport.MilestoneDescription, 
                      dbo.vueAccountProjectTaskForReport.IsReOpen, dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByLastName, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0) AS EstimatedHours, dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTaskForReport.AccountEmployeeId, dbo.vueAccountProjectTaskForReport.IsDisabled, 
                      dbo.vueAccountProjectTaskForReport.TaskCode, dbo.vueAccountProjectTaskForReport.IsTemplate, 
                      dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, dbo.vueAccountProjectTaskForReport.IsBillable, 
                      dbo.vueAccountProjectTaskForReport.AccountClientId, dbo.vueAccountProjectTaskForReport.ClientNick, 
                      dbo.vueAccountProjectTaskForReport.ClientName, dbo.vueAccountProjectTaskForReport.Duration, 
                      dbo.vueAccountProjectTaskForReport.ParentTaskName, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.BillableTotalHours, 0)) 
                      AS BillableTotalHours, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.NonBillableTotalHours, 0)) AS NonBillableTotalHours, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.TotalHours, 0)) AS TotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyEmployeeCost, 0)) AS CurrencyEmployeeCost, 
                      ISNULL(dbo.vueAccountCurrency.ExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyAmount, 0)) AS CurrencyAmount
FROM         dbo.vueAccountProjectTaskForReport LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.rptvueAccountEmployeeTimeEntry ON 
                      dbo.vueAccountProjectTaskForReport.AccountProjectTaskId = dbo.rptvueAccountEmployeeTimeEntry.AccountProjectTaskId
GROUP BY dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.CreatedOn, dbo.vueAccountProjectTaskForReport.TaskStatusId, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.ModifiedOn, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, dbo.vueAccountProjectTaskForReport.ProjectCode, 
                      dbo.vueAccountProjectTaskForReport.TaskType, dbo.vueAccountProjectTaskForReport.AccountId, 
                      dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, dbo.vueAccountProjectTaskForReport.IsReOpen, 
                      dbo.vueAccountProjectTaskForReport.MilestoneDescription, dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByLastName, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0), 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0), dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTaskForReport.AccountEmployeeId, dbo.vueAccountProjectTaskForReport.IsDisabled, 
                      dbo.vueAccountProjectTaskForReport.TaskCode, dbo.vueAccountProjectTaskForReport.IsTemplate, 
                      dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, dbo.vueAccountProjectTaskForReport.IsBillable, 
                      dbo.vueAccountProjectTaskForReport.AccountClientId, dbo.vueAccountProjectTaskForReport.ClientNick, 
                      dbo.vueAccountProjectTaskForReport.ClientName, dbo.vueAccountProjectTaskForReport.Duration, 
                      dbo.vueAccountProjectTaskForReport.ParentTaskName, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, dbo.vueAccountCurrency.ExchangeRate'
GO
-- Create View rptvueAccountProjectTasks
Print 'Create View rptvueAccountProjectTasks'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountProjectTasks
AS
SELECT     AccountProjectTaskId, AccountProjectId, ParentAccountProjectTaskId, TaskName, TaskDescription, AccountTaskTypeId, DeadlineDate, 
                      CompletedPercent, Completed, IsParentTask, IsForAllEmployees, AccountPriorityId, TaskStatusId, CreatedOn, CreatedByEmployeeId, ModifiedOn, 
                      ModifiedByEmployeeId, TaskStatus, CreatedByFirstName, CreatedByLastName, Priority, ProjectName, ProjectCode, TaskType, AccountId, 
                      AccountProjectMilestoneId, MilestoneDescription, IsReOpen, ModifiedByFirstName, ModifiedByLastName, ISNULL(EstimatedCost, 0) 
                      AS EstimatedCost, EstimatedHours, EstimatedTimeSpentUnit, AccountEmployeeId, IsDisabled, TaskCode, IsTemplate, IsForAllProjectTask, IsBillable, 
                      AccountClientId, ClientNick, ClientName, Duration, ParentTaskName, EstimatedCurrencyId, EstimatedCurrencyCode, BillableTotalHours, 
                      NonBillableTotalHours, TotalHours, CurrencyEmployeeCost, EstimatedCurrencyExchangeRate, 
                      CASE WHEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCost
                       / dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost, CurrencyAmount
FROM         dbo.vueAccountProjectTaskOnlyForReport'

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] NOCHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] NOCHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] NOCHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'

DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='2e7d7007-8bed-4400-99f5-fc2218d037f0'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='b3b3820e-9814-40a7-acae-5b45b17782bf'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='b2d3e716-58d7-43db-9e1d-36a5f87e8443'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='9ceed72b-9421-4fb7-9555-034c898c3df1'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='e1134630-24d6-4cf6-a7b7-5243b870202c'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='b63ac330-0f56-4ed6-8c8e-4fb15c939095'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='ee3d6f34-08c4-4b77-a608-6b3cb9e22a7a'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='f76dcf3a-804d-4122-aa6f-9343296049fe'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='3630e24f-2638-43f8-b5ee-0ef7dca8aa24'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='fead555e-225c-4af5-9c85-805fc93852ac'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='c244826a-dd4c-4996-bb5f-c8bb6742d1c0'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='034fb771-b2eb-4ef3-9380-850e57dff578'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='7c347980-d67a-4cbb-967d-0820bd572af1'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='94c0eb84-d6a4-4b8f-aaf5-5c04dee610ff'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='4a0d0696-c92e-4948-a25e-f06d5488d1d8'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='a6c7c596-e1fd-4b84-ae49-7f8ab60bf136'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='2e217c9c-cb58-49c6-bd36-1a75670aedfa'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='78379e9d-08a2-4f51-9d82-bef816607a10'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='a263229e-d2b5-4c9c-b9d8-53c9e1051d89'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='f8a0f7a4-194a-4ec9-b6a7-30f95314fc19'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='a90ee4a6-7b31-4602-bc6d-854512f4c5e8'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='bc363ab0-d909-4bcf-9f2b-617bc38dfccd'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='f02277b4-9ea4-45b4-b962-698e273f2f1b'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='f49e9db6-5b5b-477c-b528-75adcb006cf1'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='730882c0-cb38-4130-a08a-f488691a25b0'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='58970fc5-cae6-46e4-a7f4-621d8eff73a2'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='590cdde3-694b-4da0-ae25-06b4bad40544'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='30fdeae6-00d2-4a2f-8e81-97b292f8c131'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='ca4d71e9-8388-49f5-b92f-8403d55966fb'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='e78740f8-0a45-48f1-a202-5608431fc832'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'

DELETE FROM [dbo].[AccountReportGroup] WHERE [AccountReportGroupId]='84be2120-7310-48f0-b847-23904471ef1f'
DELETE FROM [dbo].[AccountReportGroup] WHERE [AccountReportGroupId]='9104c64e-7c11-45c5-8729-876de93f57b6'
DELETE FROM [dbo].[AccountReportGroup] WHERE [AccountReportGroupId]='6c6359a2-8c4f-47ef-a00c-f06fb899ca26'
DELETE FROM [dbo].[AccountReportGroup] WHERE [AccountReportGroupId]='f163fbe8-81e6-4825-9599-9418eb61bc36'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]'

DELETE FROM [dbo].[AccountReportDataSourceMapping] WHERE [AccountReportDataSourceMappingId]='f319c032-88a9-4a29-b6f1-40a815a4c0b2'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='4ca79b48-e756-478c-a6ff-f59ce4ae1433'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='b0bba27d-77ce-4a8c-aa7a-9b9641a82eb2'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='4ebb0087-3bdc-46e0-930b-1be18206596e'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='9668f389-5abd-4efa-8a56-0edab364565d'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='4fec56c1-f14f-43d9-8585-a4d150580a05'
DELETE FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId]='a8abdaf7-f4dd-4f04-98bc-b7b9996a3eb9'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'

DELETE FROM [dbo].[AccountReport] WHERE [AccountReportId]='15c648e0-35a3-415d-8856-449b4bb05292'

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'
if not exists(Select * from [dbo].[AccountReport] where AccountReportId = 'b587b323-9c39-443c-aad2-452924c0a3ea')
BEGIN
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName], [ReportOrder]) VALUES ('b587b323-9c39-443c-aad2-452924c0a3ea', 'ad7a0bca-b6e0-44e7-bdd2-3b1e9e7fa0d9', N'Task Summary Report', N'Task Summary Report', '/Images/TaskSummaryReport1.GIF', NULL, NULL, NULL, 1, NULL, 5)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '6d381e07-7e62-4267-8e71-a2d018cd8acb')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6d381e07-7e62-4267-8e71-a2d018cd8acb', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'BaseCurrencyAmount', 110, 1, N'ParameterCurrencyCode', N'CurrencyAmount*ParameterCurrencyExchangeRate', 29, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Actual Amount (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b026ba6f-cebf-48ba-aaa1-24b5ca648b74', '3a080202-6842-4eca-8c79-a945978810b4', N'BaseCurrencyProfit', 110, 0, N'ParameterCurrencyCode', N'(CurrencyAmount-CurrencyEmployeeCost)*ParameterCurrencyExchangeRate', 55, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Profit (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('879ffc95-1ce1-4583-9641-5a29066a7c38', '3a080202-6842-4eca-8c79-a945978810b4', N'Profit', 110, 0, NULL, N'CurrencyAmount-CurrencyEmployeeCost', 54, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Profit', 0, 0)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
if not exists(Select * from [dbo].[AccountReportColumn] where AccountReportColumnId = '3439a320-d33c-459c-86f4-ca5f5f2c00b3')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3439a320-d33c-459c-86f4-ca5f5f2c00b3', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Description', 'd515ed38-0c96-4742-a0c3-26aa0608ca80', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b1ca0435-46d5-4442-b596-26d7988c00f9', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Hours', 'c17c9d5a-e939-45dc-9feb-e8e020c06bcb', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e2fded54-f434-4df0-8d86-0c0f12b77970', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Date', '03245154-923d-4d6c-839c-dee71c70ce48', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('de928980-d5da-48f8-a1cf-f7b0e699d1e3', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'Actual Hours', 'ea0129fc-8e75-480f-b11f-131b478590b7', 2, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8e93d082-5cf5-4dde-8728-1df03e52802b', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Profit (BaseCurrency)', 'b026ba6f-cebf-48ba-aaa1-24b5ca648b74', 10, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('093bf384-a901-4ee7-ac72-5e8b3749abd1', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Employee Name', '90cd938a-e0ab-469f-8bb7-7cbdf574b42a', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('0ce241af-837c-452a-8bad-2a35931b65a1', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'Task Estimated Hours', '85b75ac1-d0e5-4125-837e-46576fd59bb3', 1, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b3a3b8b8-91ac-4ece-974a-034e9b6ef812', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'Actual Amount (BaseCurrency)', '6d381e07-7e62-4267-8e71-a2d018cd8acb', 4, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('28e0d1d0-054f-4532-a61b-af20e6586fb4', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'Task Estimated Amount (BaseCurrency)', '242c7274-b9c5-4ae1-8a50-5f1f890e081a', 3, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('199304ee-eb91-4110-b9d9-8210398c6bcb', 'c157ada7-03ed-483f-8d38-7b82a915bd16', N'Employee Code', '0177f8de-bec1-414e-8695-d504b3bee445', 2, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]'
if not exists(Select * from [dbo].[AccountReportDataSourceMapping] where AccountReportDataSourceMappingId = '8cc3210d-5ebc-4536-9238-aeadc3db1582')
BEGIN
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('8cc3210d-5ebc-4536-9238-aeadc3db1582', 'b587b323-9c39-443c-aad2-452924c0a3ea', '1e657f0a-881b-4f50-839a-c3a962c9a460')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'
if not exists(Select * from [dbo].[AccountReportGroup] where AccountReportGroupId = 'cacc0778-1ea2-4d28-be6c-809301558fcb')
BEGIN
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('cacc0778-1ea2-4d28-be6c-809301558fcb', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'ProjectName', N'Project Name', 1, 'd833c94f-91f7-4980-89a0-b38f25ec656f')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('a7c0f67b-dc66-4e74-a75b-d32da381fcc2', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'TaskName', N'Task Name', 0, '6e406a20-0532-4f01-9268-227c6003fb13')
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('ef735ebb-d447-4027-9721-00cfaf289081', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'ClientName', N'Client Name', 2, '8e95f8c0-05b4-4e69-a6df-05489181107f')
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'
if not exists(Select * from [dbo].[AccountReportSummary] where AccountReportSummaryId = '8ac59a25-2e19-4ecb-ac6d-1dae90a85768')
BEGIN
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('8ac59a25-2e19-4ecb-ac6d-1dae90a85768', 'a7c0f67b-dc66-4e74-a75b-d32da381fcc2', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '28e0d1d0-054f-4532-a61b-af20e6586fb4', N'BaseCurrencyEstimatedCost', 1, 1)
END

GO

if not exists(Select * from [dbo].[AccountReportSummary] where AccountReportSummaryId = 'f70a5426-c35d-4157-a430-0b9f65967e59')
BEGIN
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f70a5426-c35d-4157-a430-0b9f65967e59', 'ef735ebb-d447-4027-9721-00cfaf289081', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0b3b2104-e4fb-4d96-80dd-77066af06edd', N'BaseCurrencyEmployeeCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('79e2414e-b960-4804-bffd-abd4cc5715e8', 'ef735ebb-d447-4027-9721-00cfaf289081', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0ce241af-837c-452a-8bad-2a35931b65a1', N'EstimatedHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('96bfee64-e9d8-486f-a7f8-037bc9582202', 'cacc0778-1ea2-4d28-be6c-809301558fcb', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '28e0d1d0-054f-4532-a61b-af20e6586fb4', N'BaseCurrencyEstimatedCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('9018f165-66de-47b5-a8c8-02a54758183b', 'a7c0f67b-dc66-4e74-a75b-d32da381fcc2', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'b3a3b8b8-91ac-4ece-974a-034e9b6ef812', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('ed2bea66-15fb-4a3f-b393-b733bc7a3316', 'a42e5e0b-1275-4b1d-bed8-2b3198afb5c9', 'c157ada7-03ed-483f-8d38-7b82a915bd16', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '8e93d082-5cf5-4dde-8728-1df03e52802b', N'BaseCurrencyProfit', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('18b81869-0c42-4d95-83d5-195c023ce605', 'cacc0778-1ea2-4d28-be6c-809301558fcb', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'b3a3b8b8-91ac-4ece-974a-034e9b6ef812', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('51149676-39c6-4e0e-b2a3-c091614623d4', 'a7c0f67b-dc66-4e74-a75b-d32da381fcc2', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0ce241af-837c-452a-8bad-2a35931b65a1', N'EstimatedHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('59eaf887-ae06-4c4f-ac3d-aafe9fc3559f', 'ef735ebb-d447-4027-9721-00cfaf289081', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '28e0d1d0-054f-4532-a61b-af20e6586fb4', N'BaseCurrencyEstimatedCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('757b78a0-39d0-4a68-8589-61a798514fd9', 'cacc0778-1ea2-4d28-be6c-809301558fcb', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0ce241af-837c-452a-8bad-2a35931b65a1', N'EstimatedHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('d0df6bbc-aa4e-4d18-ba26-8fd5fc5c3a6c', 'a7c0f67b-dc66-4e74-a75b-d32da381fcc2', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'de928980-d5da-48f8-a1cf-f7b0e699d1e3', N'TotalHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('53831dc6-36df-4d73-8cab-c8257c9bed5a', 'a7c0f67b-dc66-4e74-a75b-d32da381fcc2', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0b3b2104-e4fb-4d96-80dd-77066af06edd', N'BaseCurrencyEmployeeCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('517a5cd3-b4ab-42b6-9c32-aa40d964f923', 'ef735ebb-d447-4027-9721-00cfaf289081', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'b3a3b8b8-91ac-4ece-974a-034e9b6ef812', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('99ba57d5-ca03-4dbe-8118-e26223bd04a0', 'ef735ebb-d447-4027-9721-00cfaf289081', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'de928980-d5da-48f8-a1cf-f7b0e699d1e3', N'TotalHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('a9310ef4-b0f2-47a5-8f18-933e8759d2f2', 'cacc0778-1ea2-4d28-be6c-809301558fcb', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '0b3b2104-e4fb-4d96-80dd-77066af06edd', N'BaseCurrencyEmployeeCost', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('69a3c9ff-eee2-4cdd-96fe-85530a49de5d', 'cacc0778-1ea2-4d28-be6c-809301558fcb', 'b587b323-9c39-443c-aad2-452924c0a3ea', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'de928980-d5da-48f8-a1cf-f7b0e699d1e3', N'TotalHours', 1, 1)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'

UPDATE [dbo].[AccountReport] SET [ReportName]=N'Project Cost And Revenue Report', [ReportDescription]=N'Project Cost And Revenue Report' WHERE [AccountReportId]='c157ada7-03ed-483f-8d38-7b82a915bd16'

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'

UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=1 WHERE [SystemReportFilterMappingId]='1380400b-7163-4cc7-ace0-52c9ca941b89'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=4 WHERE [SystemReportFilterMappingId]='5ae29e2b-5ab6-4ec1-b234-08ae3b58643c'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=4 WHERE [SystemReportFilterMappingId]='f6e6d92d-487b-4722-a08a-511f9414c732'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=4 WHERE [SystemReportFilterMappingId]='acf3ad39-a789-4520-98b1-b989cbba276d'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=2 WHERE [SystemReportFilterMappingId]='e7ddce6a-ec8e-4e45-b97f-5bc00f6b8aeb'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=2 WHERE [SystemReportFilterMappingId]='67f5c373-6d25-49a1-be0b-caae945be896'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=5 WHERE [SystemReportFilterMappingId]='3b5ca780-e710-49e2-ad30-0d7cd984d9f1'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=5 WHERE [SystemReportFilterMappingId]='d2afee82-4d01-4e25-8600-f47413619fb9'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=2 WHERE [SystemReportFilterMappingId]='a7b07985-975b-453a-8993-d8348592a334'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=3 WHERE [SystemReportFilterMappingId]='04d271a4-d25e-460b-a330-0ba3e0732661'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=3 WHERE [SystemReportFilterMappingId]='79cdfaad-5aac-4421-a2a6-3373163786dc'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=3 WHERE [SystemReportFilterMappingId]='cdbba5b0-6259-44a1-8974-11117acb823c'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=2 WHERE [SystemReportFilterMappingId]='8ef6f0bc-e840-49f6-8b90-02420c77a315'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=3 WHERE [SystemReportFilterMappingId]='032186d8-2794-4172-81f8-32e55ae25792'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=3 WHERE [SystemReportFilterMappingId]='5dac23de-99c8-430f-8815-74bff30a8f62'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=4 WHERE [SystemReportFilterMappingId]='54eaeaf9-ed01-48a4-b31e-cbcedfeb74b4'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=2 WHERE [SystemReportFilterMappingId]='b5fdccfc-3dc0-4b58-b7a8-d1b12f31089a'

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'

UPDATE [dbo].[SystemReportPermission] SET [AccountReportId]='b587b323-9c39-443c-aad2-452924c0a3ea' WHERE [SystemReportPermissionId]='61a45a26-e34e-40db-bb05-579953e411a0'
UPDATE [dbo].[SystemReportPermission] SET [AccountReportId]='b587b323-9c39-443c-aad2-452924c0a3ea' WHERE [SystemReportPermissionId]='07f6ce2a-e473-4204-9af0-ea1afdebc719'
UPDATE [dbo].[SystemReportPermission] SET [AccountReportId]='b587b323-9c39-443c-aad2-452924c0a3ea' WHERE [SystemReportPermissionId]='e274f3f4-42e1-4cee-88ec-725349772f3a'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

UPDATE [dbo].[AccountReportColumn] SET [SystemReportCalculationTypeId]=NULL WHERE [AccountReportColumnId]='9039a80a-b256-4be2-ad1e-e2f8097acaeb'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=5 WHERE [AccountReportColumnId]='78eafc56-41e8-4ee1-bc9c-68e9c66886a9'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=8 WHERE [AccountReportColumnId]='4c9eaf8e-9bf0-4689-a752-1e36a19a04da'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=9 WHERE [AccountReportColumnId]='335c3bd7-214b-4ab8-bf9d-571e8e0d46a8'
UPDATE [dbo].[AccountReportColumn] SET [Caption]=N'Present Days' WHERE [AccountReportColumnId]='a43f04ed-8907-49f2-8a37-8d930115c519'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=4 WHERE [AccountReportColumnId]='807c0afa-7710-4f2f-8440-5c1e9ba84a80'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'

UPDATE [dbo].[AccountReportGroup] SET [ReportGroupFieldOrder]=0 WHERE [AccountReportGroupId]='a42e5e0b-1275-4b1d-bed8-2b3198afb5c9'

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] CHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] CHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] CHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] NOCHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] NOCHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'

DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='8ac59a25-2e19-4ecb-ac6d-1dae90a85768'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='9018f165-66de-47b5-a8c8-02a54758183b'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='51149676-39c6-4e0e-b2a3-c091614623d4'
DELETE FROM [dbo].[AccountReportSummary] WHERE [AccountReportSummaryId]='d0df6bbc-aa4e-4d18-ba26-8fd5fc5c3a6c'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'

DELETE FROM [dbo].[AccountReportGroup] WHERE [AccountReportGroupId]='a7c0f67b-dc66-4e74-a75b-d32da381fcc2'

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
if not exists(Select * from [dbo].[AccountReportColumn] where AccountReportColumnId = 'a4d00131-02c0-496f-9abb-bc4fe8377323')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('a4d00131-02c0-496f-9abb-bc4fe8377323', 'b587b323-9c39-443c-aad2-452924c0a3ea', N'Task Name', '6e406a20-0532-4f01-9268-227c6003fb13', 1, NULL, NULL)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'

UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=100 WHERE [SystemReportDataSourceFieldId]='b6ee778e-ab12-4e1c-909a-9d2a09b0023a'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=100 WHERE [SystemReportDataSourceFieldId]='85b75ac1-d0e5-4125-837e-46576fd59bb3'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=100 WHERE [SystemReportDataSourceFieldId]='476622e6-4c07-4fcf-9fc1-ea031550809a'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=100 WHERE [SystemReportDataSourceFieldId]='ea0129fc-8e75-480f-b11f-131b478590b7'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'

UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=3 WHERE [AccountReportColumnId]='de928980-d5da-48f8-a1cf-f7b0e699d1e3'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=2 WHERE [AccountReportColumnId]='0ce241af-837c-452a-8bad-2a35931b65a1'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=5 WHERE [AccountReportColumnId]='b3a3b8b8-91ac-4ece-974a-034e9b6ef812'
UPDATE [dbo].[AccountReportColumn] SET [ColumnOrder]=4 WHERE [AccountReportColumnId]='28e0d1d0-054f-4532-a61b-af20e6586fb4'

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'

UPDATE [dbo].[AccountReportGroup] SET [ReportGroupFieldOrder]=0 WHERE [AccountReportGroupId]='cacc0778-1ea2-4d28-be6c-809301558fcb'
UPDATE [dbo].[AccountReportGroup] SET [ReportGroupFieldOrder]=1 WHERE [AccountReportGroupId]='ef735ebb-d447-4027-9721-00cfaf289081'

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] CHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] CHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

GO

-- Drop View vueAccountProjectTaskOnlyForReport
Print 'Drop View vueAccountProjectTaskOnlyForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskOnlyForReport]
GO
-- Create View vueAccountProjectTaskOnlyForReport
Print 'Create View vueAccountProjectTaskOnlyForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskOnlyForReport
AS
SELECT     dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.TaskStatusId, dbo.vueAccountProjectTaskForReport.CreatedOn, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedOn, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, dbo.vueAccountProjectTaskForReport.ProjectCode, 
                      dbo.vueAccountProjectTaskForReport.TaskType, dbo.vueAccountProjectTaskForReport.AccountId, 
                      dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, dbo.vueAccountProjectTaskForReport.MilestoneDescription, 
                      dbo.vueAccountProjectTaskForReport.IsReOpen, dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByLastName, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0) AS EstimatedHours, dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTaskForReport.AccountEmployeeId, dbo.vueAccountProjectTaskForReport.IsDisabled, 
                      dbo.vueAccountProjectTaskForReport.TaskCode, dbo.vueAccountProjectTaskForReport.IsTemplate, 
                      dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, dbo.vueAccountProjectTaskForReport.IsBillable, 
                      dbo.vueAccountProjectTaskForReport.AccountClientId, dbo.vueAccountProjectTaskForReport.ClientNick, 
                      dbo.vueAccountProjectTaskForReport.ClientName, dbo.vueAccountProjectTaskForReport.Duration, 
                      dbo.vueAccountProjectTaskForReport.ParentTaskName, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.BillableTotalHours, 0)) 
                      AS BillableTotalHours, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.NonBillableTotalHours, 0)) AS NonBillableTotalHours, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.TotalHours, 0)) AS TotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyEmployeeCost, 0)) AS CurrencyEmployeeCost, 
                      ISNULL(dbo.vueAccountCurrency.ExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyAmount, 0)) AS CurrencyAmount
FROM         dbo.vueAccountProjectTaskForReport LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.rptvueAccountEmployeeTimeEntry ON 
                      dbo.vueAccountProjectTaskForReport.AccountProjectTaskId = dbo.rptvueAccountEmployeeTimeEntry.AccountProjectTaskId
WHERE     (dbo.vueAccountProjectTaskForReport.IsParentTask <> 1)
GROUP BY dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.CreatedOn, dbo.vueAccountProjectTaskForReport.TaskStatusId, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.ModifiedOn, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, dbo.vueAccountProjectTaskForReport.ProjectCode, 
                      dbo.vueAccountProjectTaskForReport.TaskType, dbo.vueAccountProjectTaskForReport.AccountId, 
                      dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, dbo.vueAccountProjectTaskForReport.IsReOpen, 
                      dbo.vueAccountProjectTaskForReport.MilestoneDescription, dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByLastName, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0), 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0), dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTaskForReport.AccountEmployeeId, dbo.vueAccountProjectTaskForReport.IsDisabled, 
                      dbo.vueAccountProjectTaskForReport.TaskCode, dbo.vueAccountProjectTaskForReport.IsTemplate, 
                      dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, dbo.vueAccountProjectTaskForReport.IsBillable, 
                      dbo.vueAccountProjectTaskForReport.AccountClientId, dbo.vueAccountProjectTaskForReport.ClientNick, 
                      dbo.vueAccountProjectTaskForReport.ClientName, dbo.vueAccountProjectTaskForReport.Duration, 
                      dbo.vueAccountProjectTaskForReport.ParentTaskName, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, dbo.vueAccountCurrency.ExchangeRate'

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSource]'

UPDATE [dbo].[SystemReportFilterSource] SET [FilterOperator]=N'=All' WHERE [SystemReportFilterSourceId]='8f7f0cc7-e5e4-4f40-924a-60a126092cc0'

GO

-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Drop View rptvueAccountEmployeeTimeEntry
Print 'Drop View rptvueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountEmployeeTimeEntry]
GO
-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate, dbo.AccountRole.AccountRoleId, dbo.AccountRole.Role, 
                      dbo.AccountProject.AccountProjectTypeId
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntry.BillingType, dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntry.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntry.DepartmentName, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) 
                      AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) AS Submitted, dbo.vueAccountEmployeeTimeEntry.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntry.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntry.TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntry.Comments AS ApproverComments, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, dbo.vueAccountEmployeeTimeEntry.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntry.PartyNick AS ClientNick, dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, 
                      vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, dbo.vueAccountEmployeeTimeEntry.ApprovedOn, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, 
                      dbo.AccountRole.Role AS ProjectRole, dbo.AccountProjectType.ProjectType
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON 
                      dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId LEFT OUTER JOIN
                      dbo.AccountRole INNER JOIN
                      dbo.AccountProjectRole ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectRole.AccountRoleId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProjectRole.AccountProjectId ON 
                      AccountEmployee_3.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View rptvueAccountEmployeeTimeEntry
Print 'Create View rptvueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntry
AS
SELECT     dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskName, dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeadApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerApproved, dbo.vueAccountEmployeeTimeEntryForReport.AdministratorApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Description, dbo.vueAccountEmployeeTimeEntryForReport.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, dbo.vueAccountEmployeeTimeEntryForReport.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryForReport.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Submitted, dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenter, dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.Amount, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountBaseCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AmountCurrencyCode, CASE WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 1 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountEmployeeTimeEntryForReport.Approved = 1 THEN ''Approved''
                       WHEN vueAccountEmployeeTimeEntryForReport.Rejected = 1 THEN ''Rejected'' WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountPriorityId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskType, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.MilestoneDescription, dbo.vueAccountEmployeeTimeEntryForReport.Priority, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApprovedOn, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyCode, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeader, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManager, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeManager, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost, dbo.vueAccountEmployeeTimeEntryForReport.AccountRoleId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Role, dbo.vueAccountEmployeeTimeEntryForReport.WeekDayName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Period, dbo.vueAccountEmployeeTimeEntryForReport.Year, 
                      dbo.vueAccountEmployeeTimeEntryForReport.WeekNo, dbo.vueAccountEmployeeTimeEntryForReport.MonthNo, 
                      dbo.vueAccountEmployeeTimeEntryForReport.DayNo, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 1 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS
                       BillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable
                       IS NULL THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS NonBillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.Amount / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate ELSE 0 END AS CurrencyBillingRate, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectRole, dbo.vueAccountEmployeeTimeEntryForReport.ProjectType
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.vueAccountEmployeeTimeEntryWithLastStatus ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryWithLastStatus.AccountEmployeeTimeEntryId'

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '73d1f151-53ed-4ffa-b6e7-a3e8f6b2e9f3')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('73d1f151-53ed-4ffa-b6e7-a3e8f6b2e9f3', '3a080202-6842-4eca-8c79-a945978810b4', N'ProjectRole', 115, 0, NULL, NULL, 56, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6c5c85a9-12fa-4b3d-8229-cdfda209c6f5', '3a080202-6842-4eca-8c79-a945978810b4', N'ProjectType', 130, 0, NULL, NULL, 57, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Type', 0, 0)
END

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'

UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=110 WHERE [SystemReportDataSourceFieldId]='73fa6a48-8bc7-46df-9bc2-4b477b0b511f'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldWidth]=110 WHERE [SystemReportDataSourceFieldId]='242c7274-b9c5-4ae1-8a50-5f1f890e081a'

GO

-- Drop View rptvueAccountDepartments
Print 'Drop View rptvueAccountDepartments'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountDepartments' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountDepartments]
GO

-- Drop View vueAccountProjectTaskOnlyForReport
Print 'Drop View vueAccountProjectTaskOnlyForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskOnlyForReport]
GO

-- Drop View vueAccountProjectsForReport
Print 'Drop View vueAccountProjectsForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectsForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectsForReport]
GO

-- Drop View vueAccountExternalUserForReport
Print 'Drop View vueAccountExternalUserForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExternalUserForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExternalUserForReport]
GO

-- Drop View vueAccountEmployeeAbsenceForReport
Print 'Drop View vueAccountEmployeeAbsenceForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAbsenceForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeAbsenceForReport]
GO

-- Drop View vueAccountClientForReport
Print 'Drop View vueAccountClientForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountClientForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountClientForReport]
GO

-- Drop View vueAccountEmployeeAttendanceForReport
Print 'Drop View vueAccountEmployeeAttendanceForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAttendanceForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeAttendanceForReport]
GO

-- Drop View vueAccountEmployeesForReport
Print 'Drop View vueAccountEmployeesForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeesForReport]
GO

-- Drop View vueAccountExpenseEntryForReport
Print 'Drop View vueAccountExpenseEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryForReport]
GO

-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO

-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Description, N'''') AS Description, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes, dbo.vueAccountEmployeeTimeEntry.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingType, N'''') AS BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeCode, N'''') AS EmployeeCode, dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentName, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) 
                      AS Submitted, ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkType, N'''') AS AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, N'''') AS AccountCostCenter, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, N'''') AS AccountCostCenterCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectCode, N'''') AS ProjectCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskCode, N'''') 
                      AS TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, ISNULL(dbo.vueAccountEmployeeTimeEntry.Comments, N'''') 
                      AS ApproverComments, ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.DepartmentCode, N'''') 
                      AS DepartmentCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.PartyNick, N'''') AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      ISNULL(dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName, N'''') AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, ISNULL(dbo.AccountRole.Role, N'''') 
                      AS ProjectRole, dbo.AccountProjectType.ProjectType
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON 
                      dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId LEFT OUTER JOIN
                      dbo.AccountRole INNER JOIN
                      dbo.AccountProjectRole ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectRole.AccountRoleId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProjectRole.AccountProjectId ON 
                      AccountEmployee_3.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View vueAccountExpenseEntryForReport
Print 'Create View vueAccountExpenseEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryForReport
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount AS NetAmount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, ISNULL(Approved, 
                      0) AS Approved, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, PartyName AS ClientName, AccountClientId, 
                      ISNULL(Description, N'''') AS Description, ExpenseType, AccountExpenseTypeId, LeaderEmployeeId, IsBillable, ISNULL(Rejected, 0) AS Rejected, 
                      ISNULL(EmployeeCode, N'''') AS EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, ISNULL(QuantityFieldCaption, N'''') 
                      AS QuantityFieldCaption, AccountBaseCurrencyId, ISNULL(ExchangeRate, 0) AS ExchangeRate, TaxAmount, NetAmount AS Amount, ISNULL(Submitted, 
                      0) AS Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, 
                      DepartmentName, AccountLocation, ISNULL(AccountTaxZone, N'''') AS AccountTaxZone, ISNULL(Quantity, 0) AS Quantity, ISNULL(Rate, 0) AS Rate, 
                      ISNULL(PaymentMethod, N'''') AS PaymentMethod, AccountLocationId, ISNULL(PartyNick, N'''') AS ClientNick, ProjectDescription, ISNULL(ProjectCode, 
                      N'''') AS ProjectCode, ISNULL(DepartmentCode, N'''') AS DepartmentCode, ISNULL(Comments, N'''') AS Comments, ApprovedOn, AccountDepartmentId, 
                      Role, AccountRoleId, { fn DAYOFMONTH(AccountExpenseEntryDate) } AS DayNo, MONTH(AccountExpenseEntryDate) AS MonthNo, DATEPART(week, 
                      AccountExpenseEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, AccountExpenseEntryDate), 0)) + 1 AS WeekNo, 
                      YEAR(AccountExpenseEntryDate) AS Year, LEFT({ fn MONTHNAME(AccountExpenseEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(AccountExpenseEntryDate)) AS Period, { fn DAYNAME(AccountExpenseEntryDate) } AS WeekDayName
FROM         dbo.vueAccountExpenseEntry'
GO
-- Create View vueAccountEmployeeAttendanceForReport
Print 'Create View vueAccountEmployeeAttendanceForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAttendanceForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeAttendanceForReport
AS
SELECT     AbsenceDescription, AttendanceDate, CASE WHEN [In] = ''In'' THEN [In] ELSE NULL END AS [In], CASE WHEN [In] = ''In'' THEN TimeIn ELSE NULL 
                      END AS TimeIn, CASE WHEN Out = ''Out'' THEN Out ELSE NULL END AS Out, CASE WHEN Out = ''Out'' THEN TimeOut ELSE NULL END AS TimeOut, 
                      EmployeeName, ISNULL(EmployeeCode, N'''') AS EmployeeCode, AccountEmployeeId, AccountId
FROM         dbo.vueAccountEmployeeAttendanceDetail'
GO
-- Create View vueAccountEmployeesForReport
Print 'Create View vueAccountEmployeesForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeesForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, ISNULL(dbo.AccountEmployee.MiddleName, N'''') AS MiddleName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountLocationId, ISNULL(dbo.AccountEmployee.Notes, N'''') AS Notes, ISNULL(dbo.AccountEmployee.AddressLine1, N'''') 
                      AS AddressLine1, ISNULL(dbo.AccountEmployee.AddressLine2, N'''') AS AddressLine2, ISNULL(dbo.AccountEmployee.State, N'''') AS State, 
                      ISNULL(dbo.AccountEmployee.City, N'''') AS City, ISNULL(dbo.AccountEmployee.Zip, N'''') AS Zip, dbo.AccountEmployee.CountryId, 
                      ISNULL(dbo.AccountEmployee.HomePhoneNo, N'''') AS HomePhoneNo, ISNULL(dbo.AccountEmployee.WorkPhoneNo, N'''') AS WorkPhoneNo, 
                      ISNULL(dbo.AccountEmployee.MobilePhoneNo, N'''') AS MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, dbo.AccountEmployee.StartDate, 
                      dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, dbo.AccountEmployee.CreatedOn, 
                      dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, dbo.AccountEmployee.ModifiedByEmployeeId, 
                      dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, dbo.AccountEmployee.EmployeeTypeId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountEmployee.Username, ISNULL(dbo.AccountEmployee.EmployeeCode, N'''') AS EmployeeCode, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      ISNULL(dbo.AccountDepartment.DepartmentCode, N'''') AS DepartmentCode, dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, 
                      dbo.AccountLocation.AccountLocation, ISNULL(dbo.SystemCountry.Country, N'''') AS Country, 
                      ISNULL(AccountEmployee_1.FirstName + N'' '' + AccountEmployee_1.LastName, N'''') AS EmployeeManager, 
                      ISNULL(dbo.vueAccountWorkTypeBillingRate.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountWorkTypeBillingRate.AccountWorkType, N'''') AS AccountWorkType, ISNULL(dbo.vueAccountWorkTypeBillingRate.BillingRate, 0)
                       AS BillingRate, ISNULL(dbo.vueAccountWorkTypeBillingRate.EmployeeRate, 0) AS EmployeeRate, 
                      dbo.vueAccountWorkTypeBillingRate.EmployeeRateCurrencyCode, dbo.vueAccountWorkTypeBillingRate.BillingRateCurrencyCode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId AND 
                      dbo.Account.AccountId = dbo.AccountDepartment.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId AND 
                      dbo.Account.AccountId = dbo.AccountRole.AccountId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId AND 
                      dbo.Account.AccountId = dbo.AccountLocation.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountEmployee.CountryId = dbo.SystemCountry.CountryId LEFT OUTER JOIN
                      dbo.vueAccountWorkTypeBillingRate ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountWorkTypeBillingRate.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.Account.AccountId = AccountEmployee_1.AccountId AND 
                      dbo.AccountEmployee.EmployeeManagerId = AccountEmployee_1.AccountEmployeeId
WHERE     (dbo.AccountEmployee.EmployeeTypeId IS NULL)'
GO
-- Create View vueAccountEmployeeAbsenceForReport
Print 'Create View vueAccountEmployeeAbsenceForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAbsenceForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeAbsenceForReport
AS
SELECT     dbo.AccountEmployeeAttendance.AccountEmployeeAttendanceId, dbo.AccountEmployeeAttendance.AccountId, 
                      dbo.AccountEmployeeAttendance.AccountEmployeeId, dbo.AccountEmployeeAttendance.AttendanceDate, 
                      dbo.AccountEmployeeAttendance.AccountAbsenceTypeId, dbo.AccountEmployeeAttendance.AttendanceTime, dbo.AccountEmployeeAttendance.InOut, 
                      dbo.AccountEmployeeAttendance.CreatedByEmployeeId, dbo.AccountEmployeeAttendance.CreatedOn, 
                      dbo.AccountEmployeeAttendance.ModifiedByEmployeeId, dbo.AccountEmployeeAttendance.ModifiedOn, dbo.AccountAbsenceType.AbsenceDescription, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode, N'''') AS EmployeeCode, 
                      dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName
FROM         dbo.AccountEmployeeAttendance INNER JOIN
                      dbo.AccountAbsenceType ON dbo.AccountEmployeeAttendance.AccountAbsenceTypeId = dbo.AccountAbsenceType.AccountAbsenceTypeId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeAttendance.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountClientForReport
Print 'Create View vueAccountClientForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountClientForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountClientForReport
AS
SELECT     dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyTypeId AS ClientTypeId, dbo.AccountParty.AccountId, 
                      dbo.AccountParty.PartyName AS ClientName, ISNULL(dbo.AccountParty.PartyNick, N'''') AS ClientNick, ISNULL(dbo.AccountParty.EMailAddress, N'''') 
                      AS EMailAddress, ISNULL(dbo.AccountParty.Address1, N'''') AS Address1, ISNULL(dbo.AccountParty.Address2, N'''') AS Address2, 
                      dbo.AccountParty.CountryId, ISNULL(dbo.AccountParty.State, N'''') AS State, ISNULL(dbo.AccountParty.City, N'''') AS City, 
                      ISNULL(dbo.AccountParty.ZipCode, N'''') AS ZipCode, ISNULL(dbo.AccountParty.Telephone1, N'''') AS Telephone1, ISNULL(dbo.AccountParty.Telephone2, 
                      N'''') AS Telephone2, ISNULL(dbo.AccountParty.Fax, N'''') AS Fax, dbo.AccountParty.DefaultCurrencyId, ISNULL(dbo.AccountParty.DefaultBillingRate, 0) 
                      AS DefaultBillingRate, ISNULL(dbo.AccountParty.Website, N'''') AS Website, ISNULL(dbo.AccountParty.Notes, N'''') AS Notes, 
                      dbo.AccountParty.IsDisabled, dbo.AccountParty.IsDeleted, dbo.AccountParty.CreatedOn, dbo.AccountParty.CreatedByEmployeeId, 
                      dbo.AccountParty.ModifiedOn, dbo.AccountParty.ModifiedByEmployeeId, ISNULL(dbo.SystemCountry.Country, N'''') AS Country
FROM         dbo.AccountParty INNER JOIN
                      dbo.Account ON dbo.AccountParty.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountParty.CountryId = dbo.SystemCountry.CountryId'
GO
-- Create View vueAccountExternalUserForReport
Print 'Create View vueAccountExternalUserForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExternalUserForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExternalUserForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId AS ExternalUserId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, 
                      dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, ISNULL(dbo.AccountEmployee.MiddleName, N'''') AS MiddleName, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountEmployee.AccountRoleId, dbo.AccountEmployee.AccountLocationId, dbo.AccountEmployee.Notes, dbo.AccountEmployee.AddressLine1, 
                      dbo.AccountEmployee.AddressLine2, dbo.AccountEmployee.State, dbo.AccountEmployee.City, dbo.AccountEmployee.Zip, 
                      dbo.AccountEmployee.CountryId, dbo.AccountEmployee.HomePhoneNo, dbo.AccountEmployee.WorkPhoneNo, dbo.AccountEmployee.MobilePhoneNo, 
                      dbo.AccountEmployee.TimeEntryApprovalPathId, dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, 
                      dbo.AccountEmployee.StartDate, dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, 
                      dbo.AccountEmployee.IsDisabled, dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, 
                      dbo.AccountEmployee.CreatedOn, dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, 
                      dbo.AccountEmployee.ModifiedByEmployeeId, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountEmployee.ExternalUserClientId AS AccountClientId, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.AccountBillingRateId, 
                      dbo.AccountEmployee.Username, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.EmployeeManagerId, 
                      ISNULL(dbo.AccountParty.PartyNick, N'''') AS ClientNick, dbo.AccountParty.PartyName AS ClientName, dbo.AccountRole.Role, 
                      dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS ExternalUser
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountParty ON dbo.AccountEmployee.ExternalUserClientId = dbo.AccountParty.AccountPartyId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
WHERE     (dbo.AccountEmployee.EmployeeTypeId = 2)'
GO
-- Create View vueAccountProjectTaskOnlyForReport
Print 'Create View vueAccountProjectTaskOnlyForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskOnlyForReport
AS
SELECT     dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.TaskStatusId, dbo.vueAccountProjectTaskForReport.CreatedOn, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedOn, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ProjectCode, N'''') AS ProjectCode, dbo.vueAccountProjectTaskForReport.TaskType, 
                      dbo.vueAccountProjectTaskForReport.AccountId, dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTaskForReport.MilestoneDescription, dbo.vueAccountProjectTaskForReport.IsReOpen, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, dbo.vueAccountProjectTaskForReport.ModifiedByLastName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0) 
                      AS EstimatedHours, dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, dbo.vueAccountProjectTaskForReport.AccountEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.IsDisabled, ISNULL(dbo.vueAccountProjectTaskForReport.TaskCode, N'''') AS TaskCode, 
                      dbo.vueAccountProjectTaskForReport.IsTemplate, ISNULL(dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, 0) AS IsForAllProjectTask, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.IsBillable, 0) AS IsBillable, dbo.vueAccountProjectTaskForReport.AccountClientId, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ClientNick, N'''') AS ClientNick, dbo.vueAccountProjectTaskForReport.ClientName, 
                      dbo.vueAccountProjectTaskForReport.Duration, ISNULL(dbo.vueAccountProjectTaskForReport.ParentTaskName, N'''') AS ParentTaskName, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.BillableTotalHours, 0)) AS BillableTotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.NonBillableTotalHours, 0)) AS NonBillableTotalHours, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.TotalHours, 0)) AS TotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyEmployeeCost, 0)) AS CurrencyEmployeeCost, 
                      ISNULL(dbo.vueAccountCurrency.ExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyAmount, 0)) AS CurrencyAmount
FROM         dbo.vueAccountProjectTaskForReport LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.rptvueAccountEmployeeTimeEntry ON 
                      dbo.vueAccountProjectTaskForReport.AccountProjectTaskId = dbo.rptvueAccountEmployeeTimeEntry.AccountProjectTaskId
WHERE     (dbo.vueAccountProjectTaskForReport.IsParentTask <> 1)
GROUP BY dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.CreatedOn, dbo.vueAccountProjectTaskForReport.TaskStatusId, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.ModifiedOn, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ProjectCode, N''''), dbo.vueAccountProjectTaskForReport.TaskType, 
                      dbo.vueAccountProjectTaskForReport.AccountId, dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTaskForReport.IsReOpen, dbo.vueAccountProjectTaskForReport.MilestoneDescription, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, dbo.vueAccountProjectTaskForReport.ModifiedByLastName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0), ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0), 
                      dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, dbo.vueAccountProjectTaskForReport.AccountEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.IsDisabled, ISNULL(dbo.vueAccountProjectTaskForReport.TaskCode, N''''), 
                      dbo.vueAccountProjectTaskForReport.IsTemplate, ISNULL(dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, 0), 
                      ISNULL(dbo.vueAccountProjectTaskForReport.IsBillable, 0), dbo.vueAccountProjectTaskForReport.AccountClientId, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ClientNick, N''''), dbo.vueAccountProjectTaskForReport.ClientName, 
                      dbo.vueAccountProjectTaskForReport.Duration, ISNULL(dbo.vueAccountProjectTaskForReport.ParentTaskName, N''''), 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountCurrency.ExchangeRate'
GO
-- Create View vueAccountProjectsForReport
Print 'Create View vueAccountProjectsForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectsForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectsForReport
AS
SELECT     AccountProjectId, AccountId, AccountProjectTypeId, AccountClientId, ProjectBillingTypeId, ProjectName, ProjectDescription, StartDate, 
                      AccountMilestoneId, Deadline, LeaderEmployeeId, ProjectManagerEmployeeId, EstimatedTime, EstimatedDurationUnit, ISNULL(ProjectCode, N'''') 
                      AS ProjectCode, DefaultBillingRate, IsActive, ProjectStatusId, AccountPriorityId, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId,
                       ProjectBillingRateTypeId, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, IsDisabled, IsTemplate, IsProject, AccountProjectTemplateId, 
                      ISNULL(ClientNick, N'''') AS ClientNick, ClientName, ProjectType, BillingType, Status, 
                      EstimatedDuration + '' - '' + EstimatedDurationUnit AS EstimatedDuration, AccountClientContactId, AccountClientDepartmentId, 
                      ISNULL(ClientDepartmentCode, N'''') AS ClientDepartmentCode, ISNULL(ClientDepartmentName, N'''') AS ClientDepartmentName, 
                      ISNULL(ClientDepartmentLocation, N'''') AS ClientDepartmentLocation, ISNULL(ExpenseApprovalTypeName, N'''') AS ExpenseApprovalTypeName, 
                      ISNULL(TimesheetApprovalTypeName, N'''') AS TimesheetApprovalTypeName, ISNULL(ClientContactName, N'''') AS ClientContactName, TeamLead, 
                      ProjectManager, ProjectBillingRateType
FROM         dbo.vueAccountProjectsOnlyForReport'
GO
-- Create View rptvueAccountDepartments
Print 'Create View rptvueAccountDepartments'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountDepartments' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountDepartments
AS
SELECT     dbo.AccountDepartment.AccountDepartmentId, dbo.AccountDepartment.AccountId, ISNULL(dbo.AccountDepartment.DepartmentCode, N'''') 
                      AS DepartmentCode, dbo.AccountDepartment.DepartmentName, dbo.AccountDepartment.IsDisabled
FROM         dbo.AccountDepartment INNER JOIN
                      dbo.Account ON dbo.AccountDepartment.AccountId = dbo.Account.AccountId'

GO

-- Drop View vueAccountProjectEmployee
Print 'Drop View vueAccountProjectEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectEmployee]
GO
-- Drop View vueAccountProjectEmployeFullJoin
Print 'Drop View vueAccountProjectEmployeFullJoin'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployeFullJoin' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectEmployeFullJoin]
GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode, 
                      dbo.AccountPreferences.PageSize, dbo.AccountEmployee.TimeZoneId AS EmployeeTimeZoneId
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Create View vueAccountProjectEmployeFullJoin
Print 'Create View vueAccountProjectEmployeFullJoin'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployeFullJoin' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectEmployeFullJoin
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountEmployee.Password, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectEmployee.AccountProjectEmployeeId, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS FullName, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployee.IsDisabled
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountProject.AccountId = dbo.AccountEmployee.AccountId INNER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountProject.AccountProjectId = dbo.AccountProjectEmployee.AccountProjectId AND 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectEmployee.AccountEmployeeId'
GO
-- Create View vueAccountProjectEmployee
Print 'Create View vueAccountProjectEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectEmployee
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProjectEmployee.AccountProjectEmployeeId, dbo.AccountProjectEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS FullName, dbo.AccountEmployee.AccountId, 
                      dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, dbo.AccountBillingRate.EmployeeRate, 
                      dbo.AccountBillingRate.AccountBillingRateId, dbo.vueAccountEmployeeWithBillingRate.BillingRate AS EmployeeBillingRate, 
                      dbo.vueAccountEmployeeWithBillingRate.EmployeeRate AS EmployeeEmployeeRate, dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId, 
                      dbo.AccountBillingRate.SystemBillingRateTypeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, 
                      dbo.AccountBillingRate.BillingRateCurrencyId, dbo.AccountBillingRate.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeWithBillingRate.BillingRateCurrencyId AS EmployeeBillingRateCurrencyId, 
                      dbo.vueAccountEmployeeWithBillingRate.EmployeeRateCurrencyId AS EmployeeEmployeeRateCurrencyId, dbo.AccountEmployee.IsDisabled
FROM         dbo.AccountWorkType INNER JOIN
                      dbo.vueAccountEmployeeWithBillingRate ON 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployee.AccountId = dbo.AccountProject.AccountId ON 
                      dbo.vueAccountEmployeeWithBillingRate.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectEmployee.AccountEmployeeId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectEmployee.AccountProjectId AND 
                      dbo.AccountWorkType.AccountId = dbo.AccountProjectEmployee.AccountId LEFT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON 
                      dbo.AccountProjectEmployee.AccountProjectEmployeeId = dbo.AccountWorkTypeBillingRate.AccountProjectEmployeeId AND 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.AccountWorkTypeBillingRate.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountBillingRate ON dbo.AccountWorkTypeBillingRate.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId'

GO

--Update DefaultAccountPageId in AccountRole for external user
Update AccountRole Set DefaultAccountPageId = 38 Where MasterAccountRoleId = 102 and (DefaultAccountPageId is null or DefaultAccountPageId = 0)
GO
-- Drop View vueAccountProjectTask
Print 'Drop View vueAccountProjectTask'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTask]
GO
-- Create View vueAccountProjectTask
Print 'Create View vueAccountProjectTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTask
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.CreatedOn, dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, 
                      dbo.AccountProjectTask.ModifiedByEmployeeId, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountEmployee.FirstName AS CreatedByFirstName, 
                      dbo.AccountEmployee.LastName AS CreatedByLastName, dbo.AccountPriority.Priority, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectCode, dbo.AccountTaskType.TaskType, dbo.AccountProject.AccountId, dbo.AccountProjectTask.AccountProjectMilestoneId, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountProjectTask.IsReOpen, AccountEmployee_1.FirstName AS ModifiedByFirstName, 
                      AccountEmployee_1.LastName AS ModifiedByLastName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountProjectTask.EstimatedTimeSpentUnit, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectTask.IsDisabled, 
                      dbo.AccountProjectTask.TaskCode, dbo.AccountProject.IsTemplate, dbo.AccountProjectTask.IsForAllProjectTask, dbo.AccountProjectTask.IsBillable, 
                      dbo.AccountProjectTask.EstimatedCurrencyId, dbo.AccountParty.PartyName, dbo.AccountParty.PartyNick, dbo.AccountProject.AccountClientId
FROM         dbo.AccountTaskType RIGHT OUTER JOIN
                      dbo.AccountProjectMilestone RIGHT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId RIGHT OUTER JOIN
                      dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProjectTask.ModifiedByEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectTask.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountProjectTask.CreatedByEmployeeId = dbo.AccountEmployee.AccountEmployeeId ON 
                      dbo.AccountProjectMilestone.AccountProjectMilestoneId = dbo.AccountProjectTask.AccountProjectMilestoneId ON 
                      dbo.AccountTaskType.AccountTaskTypeId = dbo.AccountProjectTask.AccountTaskTypeId LEFT OUTER JOIN
                      dbo.AccountStatus ON dbo.AccountProjectTask.TaskStatusId = dbo.AccountStatus.AccountStatusId LEFT OUTER JOIN
                      dbo.AccountPriority ON dbo.AccountProjectTask.AccountPriorityId = dbo.AccountPriority.AccountPriorityId'

GO

-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Description, N'''') AS Description, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes, dbo.vueAccountEmployeeTimeEntry.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingType, N'''') AS BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeCode, N'''') AS EmployeeCode, dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentName, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) 
                      AS Submitted, ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkType, N'''') AS AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, N'''') AS AccountCostCenter, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, N'''') AS AccountCostCenterCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectCode, N'''') AS ProjectCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskCode, N'''') 
                      AS TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, ISNULL(dbo.vueAccountEmployeeTimeEntry.Comments, N'''') 
                      AS ApproverComments, ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.DepartmentCode, N'''') 
                      AS DepartmentCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.PartyNick, N'''') AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      ISNULL(dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName, N'''') AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, ISNULL(dbo.AccountRole.Role, N'''') 
                      AS ProjectRole, dbo.AccountProjectType.ProjectType
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON 
                      dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId LEFT OUTER JOIN
                      dbo.AccountRole INNER JOIN
                      dbo.AccountProjectRole ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectRole.AccountRoleId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountRoleId = dbo.AccountProjectRole.AccountRoleId AND 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProjectRole.AccountProjectId ON 
                      AccountEmployee_3.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Alter Column SystemBillingCategory on SystemBillingCategory
Print 'Alter Column SystemBillingCategory on SystemBillingCategory'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemBillingCategory' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemBillingCategory' AND TABLE_NAME='SystemBillingCategory'))
ALTER TABLE [dbo].[SystemBillingCategory]
	 ALTER COLUMN [SystemBillingCategory] nvarchar(300) NOT NULL

GO
-- Create Table SystemData
Print 'Create Table SystemData'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'SystemData' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[SystemData] (
		[SystemDataId]     int NOT NULL IDENTITY(1, 1),
		[Version]          nvarchar(50) NULL
)
GO
-- Add Primary Key PK_SystemData to SystemData
Print 'Add Primary Key PK_SystemData to SystemData'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemData' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_SystemData' AND TABLE_NAME='SystemData'))
ALTER TABLE [dbo].[SystemData]
	ADD
	CONSTRAINT [PK_SystemData]
	PRIMARY KEY
	([SystemDataId])
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemData]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemData]'

if not exists(Select * from [dbo].[SystemData])
BEGIN
SET IDENTITY_INSERT [dbo].[SystemData] ON
INSERT INTO [dbo].[SystemData] ([SystemDataId], [Version]) VALUES (1, NULL)
SET IDENTITY_INSERT [dbo].[SystemData] OFF
END
GO

--Insert Record for Report Permission By Role
If Exists(Select * From SystemData Where Version Is NULL)
BEGIN
INSERT INTO AccountObjectPermission
                      (AccountReportId, AccountRoleId, AccountId, ShowReport, AllowCustomization, AllowAllUser, AllowOwnReport, AllowOwnTeam, AllowOwnProject, 
                      AllowOwnSubOrdinates)
SELECT     SystemReportPermission.AccountReportId, AccountRole.AccountRoleId, AccountRole.AccountId, ISNULL(ShowReport, 0) AS Expr2, ISNULL(AllowCustomization, 0) AS Expr3, 
                      ISNULL(AllowAllUser, 0) AS Expr4, ISNULL(AllowOwnReport, 0) AS Expr5, ISNULL(AllowOwnTeam, 0) AS Expr6, ISNULL(AllowOwnProject, 0) AS Expr7, 
                      ISNULL(AllowOwnSubOrdinates, 0) AS Expr8
FROM         AccountRole CROSS JOIN
                      SystemReportPermission
WHERE     (SystemReportPermission.MasterAccountRoleId = 2) AND (AccountRole.MasterAccountRoleId IS NULL) 
And Not Exists(Select * From AccountObjectPermission Where AccountObjectPermission.AccountRoleId = AccountRole.AccountRoleId And AccountObjectPermission.AccountReportId = SystemReportPermission.AccountReportId And AccountObjectPermission.AccountId = AccountRole.AccountId)
END

GO

--Update SystemData Version 
Update SystemData Set Version = '3.0.1' Where Version Is NULL And SystemDataId = 1

GO

-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Description, N'''') AS Description, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes, dbo.vueAccountEmployeeTimeEntry.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingType, N'''') AS BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeCode, N'''') AS EmployeeCode, dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentName, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) 
                      AS Submitted, ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkType, N'''') AS AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, N'''') AS AccountCostCenter, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, N'''') AS AccountCostCenterCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectCode, N'''') AS ProjectCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskCode, N'''') 
                      AS TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, ISNULL(dbo.vueAccountEmployeeTimeEntry.Comments, N'''') 
                      AS ApproverComments, ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.DepartmentCode, N'''') 
                      AS DepartmentCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.PartyNick, N'''') AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      ISNULL(dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName, N'''') AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, 
                      dbo.AccountProjectType.ProjectType, dbo.AccountRole.Role AS ProjectRole
FROM         dbo.AccountEmployee AS AccountEmployee_2 RIGHT OUTER JOIN
                      dbo.AccountRole INNER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectEmployee.AccountRoleId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId ON 
                      dbo.AccountProjectEmployee.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId AND 
                      dbo.AccountProjectEmployee.AccountProjectId = dbo.vueAccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      AccountEmployee_2.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = AccountEmployee_3.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Alter Column StatusId on AccountEmployee
Print 'Alter Column StatusId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='StatusId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	 ALTER COLUMN [StatusId] int NULL
GO
-- Add Column JobTitle to AccountEmployee
Print 'Add Column JobTitle to AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='JobTitle' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	ADD [JobTitle] nvarchar(200) NULL

GO
-- Add Column EmployeePayTypeId to AccountEmployee
Print 'Add Column EmployeePayTypeId to AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EmployeePayTypeId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	ADD [EmployeePayTypeId] uniqueidentifier NULL

GO
-- Add Column HiredDate to AccountEmployee
Print 'Add Column HiredDate to AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='HiredDate' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	ADD [HiredDate] datetime NULL

GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode, 
                      dbo.AccountPreferences.PageSize, dbo.AccountEmployee.TimeZoneId AS EmployeeTimeZoneId, dbo.AccountEmployee.TerminationDate, 
                      dbo.AccountEmployee.StatusId, dbo.AccountEmployee.JobTitle, dbo.AccountEmployee.EmployeePayTypeId, dbo.AccountEmployee.HiredDate
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Create Table MasterEmployeeType
Print 'Create Table MasterEmployeeType'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'MasterEmployeeType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterEmployeeType] (
		[MasterEmployeeTypeId]     uniqueidentifier NOT NULL,
		[MasterEmployeeType]       nvarchar(100) NOT NULL
)
GO
-- Add Primary Key PK_MasterEmployeeType to MasterEmployeeType
Print 'Add Primary Key PK_MasterEmployeeType to MasterEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_MasterEmployeeType' AND TABLE_NAME='MasterEmployeeType'))
ALTER TABLE [dbo].[MasterEmployeeType]
	ADD
	CONSTRAINT [PK_MasterEmployeeType]
	PRIMARY KEY
	([MasterEmployeeTypeId])
GO
-- Add Default Constraint DF_MasterEmployeeType_MasterEmployeeTypeId to MasterEmployeeType
Print 'Add Default Constraint DF_MasterEmployeeType_MasterEmployeeTypeId to MasterEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_MasterEmployeeType_MasterEmployeeTypeId'))
ALTER TABLE [dbo].[MasterEmployeeType]
	ADD
	CONSTRAINT [DF_MasterEmployeeType_MasterEmployeeTypeId]
	DEFAULT (newid()) FOR [MasterEmployeeTypeId]
GO
-- Create Table AccountEmployeeType
Print 'Create Table AccountEmployeeType'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountEmployeeType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountEmployeeType] (
		[AccountEmployeeTypeId]     uniqueidentifier NOT NULL,
		[AccountEmployeeType]       nvarchar(100) NOT NULL,
		[AccountId]                 int NOT NULL,
		[CreatedOn]                 datetime NOT NULL,
		[CreatedByEmployeeId]       int NOT NULL,
		[ModifiedOn]                datetime NOT NULL,
		[ModifiedByEmployeeId]      int NOT NULL,
		[IsDisabled]                bit NOT NULL,
		[MasterEmployeeTypeId]      uniqueidentifier NULL
)
GO
-- Add Primary Key PK_AccountEmployeeType to AccountEmployeeType
Print 'Add Primary Key PK_AccountEmployeeType to AccountEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountEmployeeType' AND TABLE_NAME='AccountEmployeeType'))
ALTER TABLE [dbo].[AccountEmployeeType]
	ADD
	CONSTRAINT [PK_AccountEmployeeType]
	PRIMARY KEY
	([AccountEmployeeTypeId])
GO
-- Add Default Constraint DF_AccountEmployeeType_AccountEmployeeTypeId to AccountEmployeeType
Print 'Add Default Constraint DF_AccountEmployeeType_AccountEmployeeTypeId to AccountEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeType_AccountEmployeeTypeId'))
ALTER TABLE [dbo].[AccountEmployeeType]
	ADD
	CONSTRAINT [DF_AccountEmployeeType_AccountEmployeeTypeId]
	DEFAULT (newid()) FOR [AccountEmployeeTypeId]
GO
-- Add Default Constraint DF_AccountEmployeeType_CreatedOn to AccountEmployeeType
Print 'Add Default Constraint DF_AccountEmployeeType_CreatedOn to AccountEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeType_CreatedOn'))
ALTER TABLE [dbo].[AccountEmployeeType]
	ADD
	CONSTRAINT [DF_AccountEmployeeType_CreatedOn]
	DEFAULT (getdate()) FOR [CreatedOn]
GO
-- Add Default Constraint DF_AccountEmployeeType_IsDisabled to AccountEmployeeType
Print 'Add Default Constraint DF_AccountEmployeeType_IsDisabled to AccountEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeType_IsDisabled'))
ALTER TABLE [dbo].[AccountEmployeeType]
	ADD
	CONSTRAINT [DF_AccountEmployeeType_IsDisabled]
	DEFAULT ((0)) FOR [IsDisabled]
GO
-- Add Default Constraint DF_AccountEmployeeType_ModifiedOn to AccountEmployeeType
Print 'Add Default Constraint DF_AccountEmployeeType_ModifiedOn to AccountEmployeeType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeType_ModifiedOn'))
ALTER TABLE [dbo].[AccountEmployeeType]
	ADD
	CONSTRAINT [DF_AccountEmployeeType_ModifiedOn]
	DEFAULT (getdate()) FOR [ModifiedOn]
GO
-- Create Foreign Key FK_AccountEmployee_AccountEmployeeType on AccountEmployee
Print 'Create Foreign Key FK_AccountEmployee_AccountEmployeeType on AccountEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployee_AccountEmployeeType' AND TABLE_NAME='AccountEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountEmployee]
			ADD CONSTRAINT [FK_AccountEmployee_AccountEmployeeType]
			FOREIGN KEY ([EmployeePayTypeId]) REFERENCES [dbo].[AccountEmployeeType] ([AccountEmployeeTypeId])
END
GO
-- Create Foreign Key FK_AccountEmployee_AccountStatus on AccountEmployee
Print 'Create Foreign Key FK_AccountEmployee_AccountStatus on AccountEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployee_AccountStatus' AND TABLE_NAME='AccountEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountEmployee]
			ADD CONSTRAINT [FK_AccountEmployee_AccountStatus]
			FOREIGN KEY ([StatusId]) REFERENCES [dbo].[AccountStatus] ([AccountStatusId])
END
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountEmployee]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountEmployee]'

ALTER TABLE [dbo].[AccountEmployee] NOCHECK CONSTRAINT [FK_AccountEmployee_AccountStatus]
GO
-- Delete Record from AccountStatus for employee old data
if exists(Select * from systemdata where Version = '3.0.1')
BEGIN
delete from AccountStatus where statustypeid in (Select StatusTypeId from masteraccountstatus where statustypeid = 2)
delete from MasterAccountStatus where statustypeid = 2
END
GO
-- =======================================================
-- Foreign Key Constraint checks's for Table: [dbo].[AccountEmployee]
-- =======================================================
Print ' Foreign Key Constraint checks''s for Table: [dbo].[AccountEmployee]'

ALTER TABLE [dbo].[AccountEmployee] CHECK CONSTRAINT [FK_AccountEmployee_AccountStatus]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountStatus]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountStatus]'
If not Exists(Select * from [dbo].[MasterAccountStatus] Where MasterAccountStatusId = 20)
BEGIN
INSERT INTO [dbo].[MasterAccountStatus] ([MasterAccountStatusId], [AccountTemplateId], [StatusTypeId], [Status]) VALUES (20, 1, 2, N'Employed')
INSERT INTO [dbo].[MasterAccountStatus] ([MasterAccountStatusId], [AccountTemplateId], [StatusTypeId], [Status]) VALUES (21, 1, 2, N'Resigned')
INSERT INTO [dbo].[MasterAccountStatus] ([MasterAccountStatusId], [AccountTemplateId], [StatusTypeId], [Status]) VALUES (22, 1, 2, N'Terminated')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterEmployeeType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterEmployeeType]'
If not Exists(Select * from [dbo].[MasterEmployeeType])
BEGIN
INSERT INTO [dbo].[MasterEmployeeType] ([MasterEmployeeTypeId], [MasterEmployeeType]) VALUES ('e13dba1d-e94a-45a2-b9fe-0281217d4ef5', N'Full-time Salaried')
INSERT INTO [dbo].[MasterEmployeeType] ([MasterEmployeeTypeId], [MasterEmployeeType]) VALUES ('95ca4b30-9afc-4997-88e1-1533cce32899', N'Full-time Hourly')
INSERT INTO [dbo].[MasterEmployeeType] ([MasterEmployeeTypeId], [MasterEmployeeType]) VALUES ('d4e76d64-f364-4850-a537-b8d4523df945', N'Part-time Salaried')
INSERT INTO [dbo].[MasterEmployeeType] ([MasterEmployeeTypeId], [MasterEmployeeType]) VALUES ('1c681477-2896-484c-a581-26d3671bf78e', N'Contractor')
INSERT INTO [dbo].[MasterEmployeeType] ([MasterEmployeeTypeId], [MasterEmployeeType]) VALUES ('116e529e-5416-4800-b651-4b2016df3d02', N'Consultant')
INSERT INTO [dbo].[MasterEmployeeType] ([MasterEmployeeTypeId], [MasterEmployeeType]) VALUES ('86f2bfc3-8367-4132-b12e-22f4d8e3b599', N'Part-time Hourly')
INSERT INTO [dbo].[MasterEmployeeType] ([MasterEmployeeTypeId], [MasterEmployeeType]) VALUES ('17e8c6f5-f021-4687-8c3b-7d301fdc52b0', N'Administrator')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] = 128)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (128, 1, N'2184012855', N'AccountAdmin', N'AccountEmployeeType.aspx', N'Employee Type', 15, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
END
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]


--END 2.95.1
--Start 3.0.3
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingEMail
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingEMail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEMail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingEMail]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingApprover
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingApprover'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingApprover' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingApprover]
GO
-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO
-- Add Column AccountEmployeeTimeEntryPeriodId to AccountEmployeeTimeEntryApproval
Print 'Add Column AccountEmployeeTimeEntryPeriodId to AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountEmployeeTimeEntryPeriodId' AND TABLE_NAME='AccountEmployeeTimeEntryApproval'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryApproval]
	ADD [AccountEmployeeTimeEntryPeriodId] uniqueidentifier NULL

GO
-- Add Column AccountEmployeeTimeEntryPeriodId to AccountEmployeeTimeEntry
Print 'Add Column AccountEmployeeTimeEntryPeriodId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountEmployeeTimeEntryPeriodId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [AccountEmployeeTimeEntryPeriodId] uniqueidentifier NULL

GO
-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId, dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployeeTimeEntry.AccountWorkTypeId, 
                      dbo.AccountEmployeeTimeEntry.AccountCostCenterId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedByEmployeeId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, dbo.AccountCostCenter.AccountCostCenter, 
                      dbo.AccountWorkType.AccountWorkType
FROM         dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'
GO
-- Alter Column SystemProjectBillingRateType on SystemProjectBillingRateType
Print 'Alter Column SystemProjectBillingRateType on SystemProjectBillingRateType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemProjectBillingRateType' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemProjectBillingRateType' AND TABLE_NAME='SystemProjectBillingRateType'))
ALTER TABLE [dbo].[SystemProjectBillingRateType]
	 ALTER COLUMN [SystemProjectBillingRateType] nvarchar(300) NOT NULL
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPendingApprover
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingApprover'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingApprover' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover
AS
SELECT     AccountProjectId, LeaderEmployeeId, ProjectManagerEmployeeId, ApprovalTypeName, AccountApprovalPathId, AccountApprovalTypeId, 
                      SystemApproverTypeId, AccountExternalUserId, AccountEmployeeId, ApprovalPathSequence, AccountEmployeeTimeEntryId, TimeSheetApprovalId, 
                      TimeSheetApprovalPathId, ProjectName, ProjectDescription, ProjectCode, TaskName, AccountProjectTaskId, TaskDescription, EmployeeName, 
                      Approved, TimeSheetApprovalTypeId, TotalTime, TimeEntryDate, Comments, IsReject, IsApproved, MaxApprovalPathSequence, 
                      TimeEntryAccountEmployeeId, AccountId, EMailAddress, EmployeeManagerId, 
                      CASE WHEN systemapprovertypeid = 1 THEN LeaderEmployeeId WHEN systemapprovertypeid = 2 THEN ProjectManagerEmployeeId WHEN systemapprovertypeid
                       = 3 THEN AccountEmployeeId WHEN systemapprovertypeid = 4 THEN AccountExternalUserId WHEN systemapprovertypeid = 5 THEN EmployeeManagerId
                       END AS ApproverEmployeeId, Description, TotalMinutes, NonBillableTotalMinutes, BillableTotalMinutes
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPending'
GO
-- Create Function CombineValuesForSiteMap
Print 'Create Function CombineValuesForSiteMap'
GO
if not exists (select * from information_schema.routines where specific_name = 'CombineValuesForSiteMap' and routine_type = 'FUNCTION') 
EXEC sp_executesql N'
    CREATE FUNCTION [dbo].[CombineValuesForSiteMap]
    (
    @FK_ID INT, @ACC_ID INT --The foreign key from TableA which is used to fetch corresponding records
    )
    RETURNS NVARCHAR(4000)
    AS
    BEGIN
    DECLARE @SomeColumnList NVARCHAR(4000);

    SELECT @SomeColumnList = COALESCE(@SomeColumnList + '', '', '''') + CAST(C.Role AS nvarchar(100)) 
    FROM vueSystemPagesWithRolesForSiteMap C
    WHERE C.SystemSecurityCategoryPageId = @FK_ID And C.AccountId = @ACC_ID;

    RETURN 
    (
    SELECT @SomeColumnList
    )
    END'
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPendingEMail
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingEMail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEMail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ProjectCode, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Comments, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.IsApproved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountId, dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApproverEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.Description, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.EmployeeManagerId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.NonBillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.BillableTotalMinutes
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.ApproverEmployeeId = dbo.AccountEMailNotificationPreference.AccountEmployeeId LEFT
                       OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountProjectId = AccountEMailNotificationPreference_2.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingApprover.AccountId = AccountEMailNotificationPreference_1.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 11) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 12) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 13) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create Table AccountEmployeeTimeEntryPeriod
Print 'Create Table AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountEmployeeTimeEntryPeriod' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountEmployeeTimeEntryPeriod] (
		[AccountEmployeeTimeEntryPeriodId]     uniqueidentifier NOT NULL,
		[AccountId]                            int NOT NULL,
		[AccountEmployeeId]                    int NOT NULL,
		[TimeEntryStartDate]                   datetime NOT NULL,
		[TimeEntryEndDate]                     datetime NOT NULL,
		[TimeEntryViewType]                    nvarchar(50) NOT NULL,
		[Submitted]                            bit NOT NULL,
		[Approved]                             bit NOT NULL,
		[Rejected]                             bit NOT NULL,
		[InApproval]                           bit NOT NULL,
		[SubmittedDate]                        datetime NULL
)
GO
-- Add Primary Key PK_AccountEmployeeTimeEntryPeriod to AccountEmployeeTimeEntryPeriod
Print 'Add Primary Key PK_AccountEmployeeTimeEntryPeriod to AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountEmployeeTimeEntryPeriod' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
	ADD
	CONSTRAINT [PK_AccountEmployeeTimeEntryPeriod]
	PRIMARY KEY
	([AccountEmployeeTimeEntryPeriodId])
GO
-- Add Default Constraint DF_AccountEmployeeTimeEntryWeek_AccountEmployeeTimeEntryWeekId to AccountEmployeeTimeEntryPeriod
Print 'Add Default Constraint DF_AccountEmployeeTimeEntryPeriod_AccountEmployeeTimeEntryPeriodId to AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeTimeEntryPeriod_AccountEmployeeTimeEntryPeriodId'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
	ADD
	CONSTRAINT [DF_AccountEmployeeTimeEntryPeriod_AccountEmployeeTimeEntryPeriodId]
	DEFAULT (newid()) FOR [AccountEmployeeTimeEntryPeriodId]
GO
-- Create Index IX_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeTimeEntryPeriod'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriod]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([AccountId], [AccountEmployeeId], [TimeEntryStartDate], [TimeEntryEndDate], [TimeEntryViewType])
GO
-- Create View vueSystemPagesWithRolesForSiteMap
Print 'Create View vueSystemPagesWithRolesForSiteMap'
GO
if not exists (select * from information_schema.tables where table_name = 'vueSystemPagesWithRolesForSiteMap' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueSystemPagesWithRolesForSiteMap
AS
SELECT     dbo.AccountPagePermission.SystemSecurityCategoryPageId, dbo.AccountPagePermission.AccountId, dbo.AccountRole.Role, 
                      dbo.AccountPagePermission.AccountRoleId
FROM         dbo.AccountPagePermission INNER JOIN
                      dbo.AccountRole ON dbo.AccountPagePermission.AccountRoleId = dbo.AccountRole.AccountRoleId AND 
                      dbo.AccountPagePermission.AccountId = dbo.AccountRole.AccountId
GROUP BY dbo.AccountPagePermission.SystemSecurityCategoryPageId, dbo.AccountPagePermission.AccountId, dbo.AccountRole.Role, 
                      dbo.AccountPagePermission.AccountRoleId'
GO
-- Create View vueSystemPagesSiteMap
Print 'Create View vueSystemPagesSiteMap'
GO
if not exists (select * from information_schema.tables where table_name = 'vueSystemPagesSiteMap' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueSystemPagesSiteMap
AS
SELECT     SystemSecurityCategoryPageId, AccountId
FROM         dbo.AccountPagePermission
GROUP BY SystemSecurityCategoryPageId, AccountId'
GO
-- Create View vueAccountPageSecuritySiteMap
Print 'Create View vueAccountPageSecuritySiteMap'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountPageSecuritySiteMap' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountPageSecuritySiteMap
AS
SELECT     dbo.CombineValuesForSiteMap(dbo.vueSystemPagesSiteMap.SystemSecurityCategoryPageId, dbo.vueSystemPagesSiteMap.AccountId) AS Roles, 
                      dbo.vueSystemPagesSiteMap.AccountId, dbo.vueSystemPagesSiteMap.SystemSecurityCategoryPageId, 
                      dbo.SystemSecurityCategoryPage.SequenceNumber, dbo.SystemSecurityCategoryPage.Folder, 
                      dbo.SystemSecurityCategoryPage.SystemCategoryPage, dbo.SystemSecurityCategoryPage.SystemCategoryPageDescription, 
                      dbo.SystemSecurityCategoryPage.ParentSystemSecurityCateogoryPageId, dbo.SystemSecurityCategoryPage.IsSiteMapPage, 
                      dbo.SystemSecurityCategoryPage.IsCustomizeable, dbo.SystemSecurityCategoryPage.IsAllowAdd, dbo.SystemSecurityCategoryPage.IsAllowEdit, 
                      dbo.SystemSecurityCategoryPage.IsAllowDelete, dbo.SystemSecurityCategoryPage.IsAllowList, dbo.SystemSecurityCategoryPage.IsShowDataOptions, 
                      dbo.SystemSecurityCategoryPage.IsShowTillOptions, dbo.SystemSecurityCategoryPage.IsSystemPage, 
                      dbo.SystemSecurityCategoryPage.ControlLevelPermission, dbo.SystemSecurityCategoryPage.NotShowInPermission, 
                      dbo.SystemSecurityCategoryPage.SystemSecurityCategoryId, dbo.SystemSecurityCategory.SystemSecurityCategory, 
                      SystemSecurityCategoryPage_1.Folder AS ParentFolder, SystemSecurityCategoryPage_1.SystemCategoryPage AS ParentSystemCategoryPage, 
                      SystemSecurityCategoryPage_1.SystemCategoryPageDescription AS ParentSystemCategoryPageDescription, 
                      SystemSecurityCategoryPage_1.IsSiteMapPage AS ParentIsSiteMapPage
FROM         dbo.vueSystemPagesSiteMap INNER JOIN
                      dbo.SystemSecurityCategoryPage ON 
                      dbo.vueSystemPagesSiteMap.SystemSecurityCategoryPageId = dbo.SystemSecurityCategoryPage.SystemSecurityCategoryPageId INNER JOIN
                      dbo.SystemSecurityCategory ON 
                      dbo.SystemSecurityCategoryPage.SystemSecurityCategoryId = dbo.SystemSecurityCategory.SystemSecurityCategoryId AND 
                      dbo.SystemSecurityCategoryPage.SystemSecurityCategoryId = dbo.SystemSecurityCategory.SystemSecurityCategoryId LEFT OUTER JOIN
                      dbo.SystemSecurityCategoryPage AS SystemSecurityCategoryPage_1 ON 
                      dbo.SystemSecurityCategoryPage.ParentSystemSecurityCateogoryPageId = SystemSecurityCategoryPage_1.SystemSecurityCategoryPageId'
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EmployeeName, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TotalTime, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Comments, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsApproved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.EMailAddress AS ApproverEMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Description, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EmployeeManagerId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.NonBillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.BillableTotalMinutes
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail LEFT OUTER JOIN
                      dbo.AccountEmployee ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId = dbo.AccountPreferences.AccountId'
GO
--Update SystemData Version 
Update SystemData Set Version = '3.0.3' Where Version = '3.0.1' And SystemDataId = 1
GO
if exists(Select * from systemdata where Version = '3.0.3')
BEGIN
Update AccountPreferences Set DefaultTimeEntryMode = 'Week View'
END
GO
--Update SystemData Version 
Update SystemData Set Version = '3.0.4' Where Version = '3.0.3' And SystemDataId = 1
GO
-- Drop View vueExpenseEntryApprovalActivityForReport
Print 'Drop View vueExpenseEntryApprovalActivityForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueExpenseEntryApprovalActivityForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueExpenseEntryApprovalActivityForReport]
GO
-- Create View vueExpenseEntryApprovalActivityForReport
Print 'Create View vueExpenseEntryApprovalActivityForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueExpenseEntryApprovalActivityForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueExpenseEntryApprovalActivityForReport
AS
SELECT     dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId, dbo.AccountExpenseEntryApproval.ApprovedOn, 
                      dbo.AccountExpenseEntryApproval.Comments, dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, 
                      dbo.vueAccountExpenseEntryForReport.EmployeeName, dbo.vueAccountExpenseEntryForReport.AccountExpenseName, 
                      dbo.vueAccountExpenseEntryForReport.ProjectName, dbo.vueAccountExpenseEntryForReport.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryForReport.AccountId, dbo.vueAccountExpenseEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryForReport.AccountProjectId, dbo.vueAccountExpenseEntryForReport.AccountExpenseId, 
                      dbo.vueAccountExpenseEntryForReport.Amount, dbo.vueAccountExpenseEntryForReport.Approved, 
                      dbo.vueAccountExpenseEntryForReport.ClientName, dbo.vueAccountExpenseEntryForReport.AccountClientId, 
                      dbo.vueAccountExpenseEntryForReport.Description, dbo.vueAccountExpenseEntryForReport.ExpenseType, 
                      dbo.vueAccountExpenseEntryForReport.AccountExpenseTypeId, dbo.vueAccountExpenseEntryForReport.IsBillable, 
                      dbo.vueAccountExpenseEntryForReport.Rejected, dbo.vueAccountExpenseEntryForReport.EmployeeCode, 
                      dbo.vueAccountExpenseEntryForReport.Reimburse, dbo.vueAccountExpenseEntryForReport.AccountCurrencyId, 
                      dbo.vueAccountExpenseEntryForReport.CurrencyCode, ISNULL(dbo.vueAccountExpenseEntryForReport.ExchangeRate, 0) AS ExchangeRate, 
                      dbo.vueAccountExpenseEntryForReport.AccountBaseCurrencyId, dbo.vueAccountExpenseEntryForReport.TaxAmount, 
                      dbo.vueAccountExpenseEntryForReport.NetAmount, dbo.vueAccountExpenseEntryForReport.Submitted, 
                      dbo.vueAccountExpenseEntryForReport.EMailAddress, dbo.vueAccountExpenseEntryForReport.DepartmentName, 
                      dbo.vueAccountExpenseEntryForReport.AccountLocation, dbo.vueAccountExpenseEntryForReport.AccountTaxZone, 
                      dbo.vueAccountExpenseEntryForReport.Quantity, dbo.vueAccountExpenseEntryForReport.Rate, 
                      dbo.vueAccountExpenseEntryForReport.PaymentMethod, dbo.vueAccountExpenseEntryForReport.AccountLocationId, 
                      dbo.vueAccountExpenseEntryForReport.ClientNick, dbo.vueAccountExpenseEntryForReport.ProjectDescription, 
                      dbo.vueAccountExpenseEntryForReport.ProjectCode, dbo.vueAccountExpenseEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployee.EmployeeName AS ApproverEmployeeName, dbo.vueAccountEmployee.EMailAddress AS ApproverEMailAddress, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.SystemApproverType.SystemApproverType, 
                      CASE WHEN dbo.AccountExpenseEntryApproval.IsApproved = 1 THEN ''Approved'' WHEN dbo.AccountExpenseEntryApproval.IsRejected = 1 THEN ''Rejected''
                       END AS Status, dbo.vueAccountEmployee.Role, dbo.vueAccountEmployee.AccountRoleId, dbo.vueAccountEmployee.AccountDepartmentId
FROM         dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath ON dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId RIGHT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId LEFT OUTER JOIN
                      dbo.vueAccountEmployee ON 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId = dbo.vueAccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountExpenseEntryForReport ON 
                      dbo.AccountExpenseEntryApproval.AccountExpenseEntryId = dbo.vueAccountExpenseEntryForReport.AccountExpenseEntryId'
GO
-- Drop View rptvueAccountProjectTasks
Print 'Drop View rptvueAccountProjectTasks'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountProjectTasks]
GO
-- Drop View rptvueTimeEntryApprovalActivity
Print 'Drop View rptvueTimeEntryApprovalActivity'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueTimeEntryApprovalActivity' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueTimeEntryApprovalActivity]
GO
-- Drop View vueAccountProjectTaskOnlyForReport
Print 'Drop View vueAccountProjectTaskOnlyForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskOnlyForReport]
GO
-- Drop View vueTimeEntryApprovalActivityForReport
Print 'Drop View vueTimeEntryApprovalActivityForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueTimeEntryApprovalActivityForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueTimeEntryApprovalActivityForReport]
GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Drop View vueAccountProjectTaskForReport
Print 'Drop View vueAccountProjectTaskForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskForReport]
GO
-- Drop View rptvueAccountEmployeeTimeEntry
Print 'Drop View rptvueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountEmployeeTimeEntry]
GO
-- Drop View vueAccountProjectTask
Print 'Drop View vueAccountProjectTask'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTask]
GO
-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Create View vueAccountProjectTask
Print 'Create View vueAccountProjectTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTask
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, 
                      dbo.AccountProjectTask.Duration, dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, 
                      dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, dbo.AccountProjectTask.IsParentTask, 
                      dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.CreatedOn, dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, 
                      dbo.AccountProjectTask.ModifiedByEmployeeId, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountEmployee.FirstName AS CreatedByFirstName, 
                      dbo.AccountEmployee.LastName AS CreatedByLastName, dbo.AccountPriority.Priority, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectCode, dbo.AccountTaskType.TaskType, dbo.AccountProject.AccountId, dbo.AccountProjectTask.AccountProjectMilestoneId, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountProjectTask.IsReOpen, AccountEmployee_1.FirstName AS ModifiedByFirstName, 
                      AccountEmployee_1.LastName AS ModifiedByLastName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountProjectTask.EstimatedTimeSpentUnit, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectTask.IsDisabled, 
                      dbo.AccountProjectTask.TaskCode, dbo.AccountProject.IsTemplate, dbo.AccountProjectTask.IsForAllProjectTask, dbo.AccountProjectTask.IsBillable, 
                      dbo.AccountProjectTask.EstimatedCurrencyId, dbo.AccountParty.PartyName, dbo.AccountParty.PartyNick, dbo.AccountProject.AccountClientId, 
                      dbo.AccountProject.ProjectDescription
FROM         dbo.AccountTaskType RIGHT OUTER JOIN
                      dbo.AccountProjectMilestone RIGHT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId RIGHT OUTER JOIN
                      dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProjectTask.ModifiedByEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectTask.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountProjectTask.CreatedByEmployeeId = dbo.AccountEmployee.AccountEmployeeId ON 
                      dbo.AccountProjectMilestone.AccountProjectMilestoneId = dbo.AccountProjectTask.AccountProjectMilestoneId ON 
                      dbo.AccountTaskType.AccountTaskTypeId = dbo.AccountProjectTask.AccountTaskTypeId LEFT OUTER JOIN
                      dbo.AccountStatus ON dbo.AccountProjectTask.TaskStatusId = dbo.AccountStatus.AccountStatusId LEFT OUTER JOIN
                      dbo.AccountPriority ON dbo.AccountProjectTask.AccountPriorityId = dbo.AccountPriority.AccountPriorityId'
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate, dbo.AccountRole.AccountRoleId, dbo.AccountRole.Role, dbo.AccountProject.AccountProjectTypeId, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProjectTask.TaskDescription
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Description, N'''') AS Description, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes, dbo.vueAccountEmployeeTimeEntry.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingType, N'''') AS BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeCode, N'''') AS EmployeeCode, dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentName, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) 
                      AS Submitted, ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkType, N'''') AS AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, N'''') AS AccountCostCenter, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, N'''') AS AccountCostCenterCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectCode, N'''') AS ProjectCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskCode, N'''') 
                      AS TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, ISNULL(dbo.vueAccountEmployeeTimeEntry.Comments, N'''') 
                      AS ApproverComments, ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.DepartmentCode, N'''') 
                      AS DepartmentCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.PartyNick, N'''') AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      ISNULL(dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName, N'''') AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, 
                      dbo.AccountProjectType.ProjectType, dbo.AccountRole.Role AS ProjectRole, ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectDescription, N'''') 
                      AS ProjectDescription, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskDescription, N'''') AS TaskDescription
FROM         dbo.AccountEmployee AS AccountEmployee_2 RIGHT OUTER JOIN
                      dbo.AccountRole INNER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectEmployee.AccountRoleId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId ON 
                      dbo.AccountProjectEmployee.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId AND 
                      dbo.AccountProjectEmployee.AccountProjectId = dbo.vueAccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      AccountEmployee_2.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = AccountEmployee_3.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View rptvueAccountEmployeeTimeEntry
Print 'Create View rptvueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntry
AS
SELECT     dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskName, dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeadApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerApproved, dbo.vueAccountEmployeeTimeEntryForReport.AdministratorApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Description, dbo.vueAccountEmployeeTimeEntryForReport.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, dbo.vueAccountEmployeeTimeEntryForReport.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryForReport.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Submitted, dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenter, dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.Amount, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountBaseCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AmountCurrencyCode, CASE WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 1 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountEmployeeTimeEntryForReport.Approved = 1 THEN ''Approved''
                       WHEN vueAccountEmployeeTimeEntryForReport.Rejected = 1 THEN ''Rejected'' WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountPriorityId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskType, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.MilestoneDescription, dbo.vueAccountEmployeeTimeEntryForReport.Priority, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApprovedOn, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyCode, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeader, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManager, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeManager, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost, dbo.vueAccountEmployeeTimeEntryForReport.AccountRoleId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Role, dbo.vueAccountEmployeeTimeEntryForReport.WeekDayName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Period, dbo.vueAccountEmployeeTimeEntryForReport.Year, 
                      dbo.vueAccountEmployeeTimeEntryForReport.WeekNo, dbo.vueAccountEmployeeTimeEntryForReport.MonthNo, 
                      dbo.vueAccountEmployeeTimeEntryForReport.DayNo, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 1 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS
                       BillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable
                       IS NULL THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS NonBillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.Amount / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate ELSE 0 END AS CurrencyBillingRate, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectRole, dbo.vueAccountEmployeeTimeEntryForReport.ProjectType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectDescription, dbo.vueAccountEmployeeTimeEntryForReport.TaskDescription
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.vueAccountEmployeeTimeEntryWithLastStatus ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryWithLastStatus.AccountEmployeeTimeEntryId'
GO
-- Create View vueAccountProjectTaskForReport
Print 'Create View vueAccountProjectTaskForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskForReport
AS
SELECT     dbo.vueAccountProjectTask.AccountProjectTaskId, dbo.vueAccountProjectTask.AccountProjectId, 
                      dbo.vueAccountProjectTask.ParentAccountProjectTaskId, dbo.vueAccountProjectTask.TaskName, dbo.vueAccountProjectTask.TaskDescription, 
                      dbo.vueAccountProjectTask.AccountTaskTypeId, dbo.vueAccountProjectTask.DeadlineDate, dbo.vueAccountProjectTask.CompletedPercent, 
                      dbo.vueAccountProjectTask.Completed, dbo.vueAccountProjectTask.IsParentTask, dbo.vueAccountProjectTask.IsForAllEmployees, 
                      dbo.vueAccountProjectTask.AccountPriorityId, dbo.vueAccountProjectTask.TaskStatusId, dbo.vueAccountProjectTask.CreatedOn, 
                      dbo.vueAccountProjectTask.CreatedByEmployeeId, dbo.vueAccountProjectTask.ModifiedOn, dbo.vueAccountProjectTask.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTask.TaskStatus, dbo.vueAccountProjectTask.CreatedByFirstName, dbo.vueAccountProjectTask.CreatedByLastName, 
                      dbo.vueAccountProjectTask.Priority, dbo.vueAccountProjectTask.ProjectName, dbo.vueAccountProjectTask.ProjectCode, 
                      dbo.vueAccountProjectTask.TaskType, dbo.vueAccountProjectTask.AccountId, dbo.vueAccountProjectTask.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTask.MilestoneDescription, dbo.vueAccountProjectTask.IsReOpen, dbo.vueAccountProjectTask.ModifiedByFirstName, 
                      dbo.vueAccountProjectTask.ModifiedByLastName, dbo.vueAccountProjectTask.EstimatedCost, 
                      dbo.vueAccountProjectTask.EstimatedTimeSpent AS EstimatedHours, dbo.vueAccountProjectTask.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTask.AccountEmployeeId, dbo.vueAccountProjectTask.IsDisabled, dbo.vueAccountProjectTask.TaskCode, 
                      dbo.vueAccountProjectTask.IsTemplate, dbo.vueAccountProjectTask.IsForAllProjectTask, dbo.vueAccountProjectTask.IsBillable, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyNick AS ClientNick, dbo.AccountParty.PartyName AS ClientName, 
                      CONVERT(nvarchar(200), dbo.vueAccountProjectTask.Duration) + '' - '' + dbo.vueAccountProjectTask.DurationUnit AS Duration, 
                      dbo.AccountProjectTask.TaskName AS ParentTaskName, dbo.vueAccountProjectTask.EstimatedCurrencyId, 
                      dbo.vueAccountCurrency.CurrencyCode AS EstimatedCurrencyCode, dbo.vueAccountProjectTask.ProjectDescription
FROM         dbo.vueAccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.vueAccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountProjectTask.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.vueAccountProjectTask.ParentAccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId'
GO
-- Create View vueAccountProjectTaskOnlyForReport
Print 'Create View vueAccountProjectTaskOnlyForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskOnlyForReport
AS
SELECT     dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.TaskStatusId, dbo.vueAccountProjectTaskForReport.CreatedOn, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedOn, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ProjectCode, N'''') AS ProjectCode, dbo.vueAccountProjectTaskForReport.TaskType, 
                      dbo.vueAccountProjectTaskForReport.AccountId, dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTaskForReport.MilestoneDescription, dbo.vueAccountProjectTaskForReport.IsReOpen, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, dbo.vueAccountProjectTaskForReport.ModifiedByLastName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0) 
                      AS EstimatedHours, dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, dbo.vueAccountProjectTaskForReport.AccountEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.IsDisabled, ISNULL(dbo.vueAccountProjectTaskForReport.TaskCode, N'''') AS TaskCode, 
                      dbo.vueAccountProjectTaskForReport.IsTemplate, ISNULL(dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, 0) AS IsForAllProjectTask, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.IsBillable, 0) AS IsBillable, dbo.vueAccountProjectTaskForReport.AccountClientId, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ClientNick, N'''') AS ClientNick, dbo.vueAccountProjectTaskForReport.ClientName, 
                      dbo.vueAccountProjectTaskForReport.Duration, ISNULL(dbo.vueAccountProjectTaskForReport.ParentTaskName, N'''') AS ParentTaskName, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.BillableTotalHours, 0)) AS BillableTotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.NonBillableTotalHours, 0)) AS NonBillableTotalHours, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.TotalHours, 0)) AS TotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyEmployeeCost, 0)) AS CurrencyEmployeeCost, 
                      ISNULL(dbo.vueAccountCurrency.ExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyAmount, 0)) AS CurrencyAmount, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ProjectDescription, N'''') AS ProjectDescription
FROM         dbo.vueAccountProjectTaskForReport LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.rptvueAccountEmployeeTimeEntry ON 
                      dbo.vueAccountProjectTaskForReport.AccountProjectTaskId = dbo.rptvueAccountEmployeeTimeEntry.AccountProjectTaskId
WHERE     (dbo.vueAccountProjectTaskForReport.IsParentTask <> 1)
GROUP BY dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, 
                      dbo.vueAccountProjectTaskForReport.DeadlineDate, dbo.vueAccountProjectTaskForReport.CompletedPercent, 
                      dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, 
                      dbo.vueAccountProjectTaskForReport.CreatedOn, dbo.vueAccountProjectTaskForReport.TaskStatusId, 
                      dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.ModifiedOn, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, 
                      dbo.vueAccountProjectTaskForReport.Priority, dbo.vueAccountProjectTaskForReport.ProjectName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ProjectCode, N''''), dbo.vueAccountProjectTaskForReport.TaskType, 
                      dbo.vueAccountProjectTaskForReport.AccountId, dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTaskForReport.IsReOpen, dbo.vueAccountProjectTaskForReport.MilestoneDescription, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, dbo.vueAccountProjectTaskForReport.ModifiedByLastName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0), ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0), 
                      dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, dbo.vueAccountProjectTaskForReport.AccountEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.IsDisabled, ISNULL(dbo.vueAccountProjectTaskForReport.TaskCode, N''''), 
                      dbo.vueAccountProjectTaskForReport.IsTemplate, ISNULL(dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, 0), 
                      ISNULL(dbo.vueAccountProjectTaskForReport.IsBillable, 0), dbo.vueAccountProjectTaskForReport.AccountClientId, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ClientNick, N''''), dbo.vueAccountProjectTaskForReport.ClientName, 
                      dbo.vueAccountProjectTaskForReport.Duration, ISNULL(dbo.vueAccountProjectTaskForReport.ParentTaskName, N''''), 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountCurrency.ExchangeRate, ISNULL(dbo.vueAccountProjectTaskForReport.ProjectDescription, N'''')'
GO
-- Create View rptvueAccountProjectTasks
Print 'Create View rptvueAccountProjectTasks'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountProjectTasks
AS
SELECT     AccountProjectTaskId, AccountProjectId, ParentAccountProjectTaskId, TaskName, TaskDescription, AccountTaskTypeId, DeadlineDate, 
                      CompletedPercent, Completed, IsParentTask, IsForAllEmployees, AccountPriorityId, TaskStatusId, CreatedOn, CreatedByEmployeeId, ModifiedOn, 
                      ModifiedByEmployeeId, TaskStatus, CreatedByFirstName, CreatedByLastName, Priority, ProjectName, ProjectCode, TaskType, AccountId, 
                      AccountProjectMilestoneId, MilestoneDescription, IsReOpen, ModifiedByFirstName, ModifiedByLastName, ISNULL(EstimatedCost, 0) 
                      AS EstimatedCost, EstimatedHours, EstimatedTimeSpentUnit, AccountEmployeeId, IsDisabled, TaskCode, IsTemplate, IsForAllProjectTask, IsBillable, 
                      AccountClientId, ClientNick, ClientName, Duration, ParentTaskName, EstimatedCurrencyId, EstimatedCurrencyCode, BillableTotalHours, 
                      NonBillableTotalHours, TotalHours, CurrencyEmployeeCost, EstimatedCurrencyExchangeRate, 
                      CASE WHEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCost
                       / dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost, CurrencyAmount, 
                      ProjectDescription
FROM         dbo.vueAccountProjectTaskOnlyForReport'
GO
-- Create View vueTimeEntryApprovalActivityForReport
Print 'Create View vueTimeEntryApprovalActivityForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueTimeEntryApprovalActivityForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueTimeEntryApprovalActivityForReport
AS
SELECT     dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, dbo.vueAccountEmployeeTimeEntryForReport.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.Description, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountId, dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.AccountApprovalType.ApprovalTypeName, 
                      dbo.SystemApproverType.SystemApproverType, dbo.vueAccountEmployee.EmployeeName AS ApproverEmployeeName, 
                      dbo.vueAccountEmployee.EMailAddress AS ApproverEmailAddress, dbo.vueAccountEmployeeTimeEntryForReport.Submitted, 
                      CASE WHEN AccountEmployeeTimeEntryApproval.IsApproved = 1 THEN ''Approved'' WHEN AccountEmployeeTimeEntryApproval.IsReject = 1 THEN ''Rejected''
                       END AS Status, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployee.Role, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, dbo.vueAccountEmployee.AccountLocationId, 
                      dbo.vueAccountEmployee.AccountRoleId, dbo.vueAccountEmployeeTimeEntryForReport.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskDescription
FROM         dbo.vueAccountEmployee RIGHT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.vueAccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId LEFT OUTER JOIN
                      dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath ON dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId = dbo.AccountApprovalPath.AccountApprovalPathId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryForReport ON 
                      dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId'
GO
-- Create View rptvueTimeEntryApprovalActivity
Print 'Create View rptvueTimeEntryApprovalActivity'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueTimeEntryApprovalActivity' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueTimeEntryApprovalActivity
AS
SELECT     TimeSheetApprovalId, AccountEmployeeTimeEntryId, TimeSheetApprovalTypeId, TimeSheetApprovalPathId, ApprovedByEmployeeId, ApprovedOn, 
                      Comments, IsReject, IsApproved, EmployeeName, ProjectName, TaskName, TotalTime, StartTime, EndTime, TimeEntryDate, ClientName, 
                      EMailAddress, ApproverComments, TotalHours, Approved, AccountEmployeeId, AccountProjectId, Description, AccountId, TotalMinutes, AccountClientId, 
                      AccountProjectTaskId, BillingType, IsBillable, Rejected, BillingRate, AccountDepartmentId, DepartmentName, ProjectCode, TaskCode, ClientNick, 
                      ApprovalTypeName, SystemApproverType, ApproverEmployeeName, ApproverEmailAddress, Submitted, Status, EmployeeCode, AccountLocation, 
                      Role, DepartmentCode, AccountLocationId, AccountRoleId, ProjectDescription, TaskDescription
FROM         dbo.vueTimeEntryApprovalActivityForReport'
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '413a0149-508c-4bf6-b9c7-f42b15c94490')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('413a0149-508c-4bf6-b9c7-f42b15c94490', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'TaskDescription', 325, 0, NULL, NULL, 28, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('90068f51-c264-41b0-82b1-1955ce916f4a', '3a080202-6842-4eca-8c79-a945978810b4', N'ProjectDescription', 325, 0, NULL, NULL, 58, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('830371b5-093d-480f-8de9-10012a9af2eb', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'ProjectDescription', 300, 0, NULL, NULL, 30, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('200fe7c1-4343-4dd2-8a83-1d080b8bc21e', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'ProjectDescription', 325, 0, NULL, NULL, 29, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Project Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('904883fc-96d9-4eef-8774-5968254dd91c', '3a080202-6842-4eca-8c79-a945978810b4', N'TaskDescription', 325, 0, NULL, NULL, 59, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Task Description', 0, 0)
END
GO
-- =======================================================
-- Update Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
if exists(Select * from systemdata where Version = '3.0.4')
BEGIN
Update AccountReportColumn Set Caption = 'Net Amount (BaseCurrency)' Where Caption = '(BC) Net Amount'
END
GO
-- =======================================================
-- Update Version In SystemData Table
-- =======================================================
Update SystemData Set Version = '3.0.5' Where Version = '3.0.4' And SystemDataId = 1
GO

--End 3.0.3
--Start 3.0.5

if exists(Select * from systemdata where Version = '3.0.5')
BEGIN
Delete From a From AccountObjectPermission a
Where AccountObjectPermissionId not In (Select top 1 AccountObjectPermissionId From AccountObjectPermission b Where b.AccountId = a.AccountId 
And b.AccountRoleId = a.AccountRoleId
And b.AccountReportId = a.AccountReportId)
END
GO
-- =======================================================
-- Update Version In SystemData Table
-- =======================================================
Update SystemData Set Version = '3.0.6' Where Version = '3.0.5' And SystemDataId = 1
GO
-- Alter Column SystemCategoryPage on SystemSecurityCategoryPage
Print 'Alter Column SystemCategoryPage on SystemSecurityCategoryPage'
GO
ALTER TABLE [dbo].[SystemSecurityCategoryPage]
	 ALTER COLUMN [SystemCategoryPage] varchar(200)
GO

-- Alter Column SystemCategoryPageDescription on SystemSecurityCategoryPage
Print 'Alter Column SystemCategoryPageDescription on SystemSecurityCategoryPage'
ALTER TABLE [dbo].[SystemSecurityCategoryPage]
	 ALTER COLUMN [SystemCategoryPageDescription] varchar(200)

GO
-- Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference]
GO
-- Drop View vueAccountExpenseEntryApprovalPendingEmailWithPreference
Print 'Drop View vueAccountExpenseEntryApprovalPendingEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPendingEmailWithPreference]
GO
-- Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountProjectId, dbo.vueAccountExpenseEntryApprovalPendingEmail.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApprovalTypeName, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountApprovalPathId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.SystemApproverTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExternalUserId, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectName, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectCode, dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.EmployeeName, dbo.vueAccountExpenseEntryApprovalPendingEmail.Approved, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseEntryDate, dbo.vueAccountExpenseEntryApprovalPendingEmail.Comments, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.IsRejected, dbo.vueAccountExpenseEntryApprovalPendingEmail.IsApproved, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.Amount, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseName, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.IsBillable, dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.Description, dbo.vueAccountExpenseEntryApprovalPendingEmail.MaxApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApproverEmployeeId, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountId, 
                      dbo.AccountEmployee.EMailAddress AS ApproverEmailAddress, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.vueAccountExpenseEntryApprovalPendingEmail.EMailAddress, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.EmployeeManagerId, dbo.AccountPreferences.CultureInfoName
FROM         dbo.vueAccountExpenseEntryApprovalPendingEmail LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountExpenseEntryApprovalPendingEmail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectDescription, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EmployeeName, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TotalTime, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Comments, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.IsApproved, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId, dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.EMailAddress AS ApproverEMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.Description, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.EmployeeManagerId, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.NonBillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.BillableTotalMinutes, dbo.AccountPreferences.CultureInfoName
FROM         dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail LEFT OUTER JOIN
                      dbo.AccountEmployee ON 
                      dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountEmployeeTimeEntryApprovalPendingEMail.AccountId = dbo.AccountPreferences.AccountId'
GO

Print 'Delete Record From AccountProjectTaskEmployee Where Employee Not Exists'
if exists(Select * from AccountPRojectTaskEmployee Where accountEmployeeId not in (Select AccountEmployeeId from AccountEmployee))
Begin
delete AccountPRojectTaskEmployee Where accountEmployeeId not in (Select AccountEmployeeId from AccountEmployee)
End
GO
Print 'Delete Record From AccountProjectTaskEmployee Where Project Task Not Exists'
if exists(Select * from AccountPRojectTaskEmployee Where AccountProjectTaskId not in (Select AccountProjectTaskId from AccountPRojectTask))
Begin
delete AccountPRojectTaskEmployee Where AccountProjectTaskId not in (Select AccountProjectTaskId from AccountPRojectTask)
END
GO

-- Drop Foreign Key FK_AccountProjectTaskEmployee_Account from AccountProjectTaskEmployee
Print 'Drop Foreign Key FK_AccountProjectTaskEmployee_Account from AccountProjectTaskEmployee'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTaskEmployee_Account' AND TABLE_NAME='AccountProjectTaskEmployee')
BEGIN
	ALTER TABLE [dbo].[AccountProjectTaskEmployee] DROP CONSTRAINT [FK_AccountProjectTaskEmployee_Account]
END
GO
-- Drop Index IX_AccountProjectTaskEmployee from AccountProjectTaskEmployee
Print 'Drop Index IX_AccountProjectTaskEmployee from AccountProjectTaskEmployee'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTaskEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProjectTaskEmployee]') AND name = N'IX_AccountProjectTaskEmployee'))
DROP INDEX [dbo].[AccountProjectTaskEmployee].[IX_AccountProjectTaskEmployee]
GO
-- Alter Column AccountProjectTaskId on AccountProjectTaskEmployee
Print 'Alter Column AccountProjectTaskId on AccountProjectTaskEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTaskEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectTaskId' AND TABLE_NAME='AccountProjectTaskEmployee'))
ALTER TABLE [dbo].[AccountProjectTaskEmployee]
	 ALTER COLUMN [AccountProjectTaskId] bigint NOT NULL
GO
-- Create Index IX_AccountProjectTaskEmployee on AccountProjectTaskEmployee
Print 'Create Index IX_AccountProjectTaskEmployee on AccountProjectTaskEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTaskEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTaskEmployee]') AND name = N'IX_AccountProjectTaskEmployee'))
CREATE UNIQUE INDEX [IX_AccountProjectTaskEmployee]
	ON [dbo].[AccountProjectTaskEmployee] ([AccountEmployeeId], [AccountProjectTaskId])
GO
-- Create Foreign Key FK_AccountProjectTaskEmployee_Account on AccountProjectTaskEmployee
Print 'Create Foreign Key FK_AccountProjectTaskEmployee_Account on AccountProjectTaskEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTaskEmployee_Account' AND TABLE_NAME='AccountProjectTaskEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTaskEmployee]
			ADD CONSTRAINT [FK_AccountProjectTaskEmployee_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
		ALTER TABLE [dbo].[AccountProjectTaskEmployee]
			CHECK CONSTRAINT [FK_AccountProjectTaskEmployee_Account]

END
GO
-- Create Foreign Key FK_AccountProjectTaskEmployee_AccountEmployee on AccountProjectTaskEmployee
Print 'Create Foreign Key FK_AccountProjectTaskEmployee_AccountEmployee on AccountProjectTaskEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTaskEmployee_AccountEmployee' AND TABLE_NAME='AccountProjectTaskEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTaskEmployee]
			ADD CONSTRAINT [FK_AccountProjectTaskEmployee_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
GO
-- Create Foreign Key FK_AccountProjectTaskEmployee_AccountProjectTask on AccountProjectTaskEmployee
Print 'Create Foreign Key FK_AccountProjectTaskEmployee_AccountProjectTask on AccountProjectTaskEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTaskEmployee_AccountProjectTask' AND TABLE_NAME='AccountProjectTaskEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTaskEmployee]
			ADD CONSTRAINT [FK_AccountProjectTaskEmployee_AccountProjectTask]
			FOREIGN KEY ([AccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
			ON DELETE CASCADE
END
GO
-- Drop View vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference
Print 'Drop View vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference]
GO
-- Create View vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference
Print 'Create View vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryPendingNotificationEmailWithPreference
AS
SELECT     dbo.AccountPreferences.ScheduledEmailSendTime, dbo.AccountPreferences.LastScheduledEmailSentTime, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployee.AccountEmployeeId, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.EMailAddress
FROM         dbo.AccountEMailNotificationPreference RIGHT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 RIGHT OUTER JOIN
                      dbo.AccountEmployee ON AccountEMailNotificationPreference_2.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId ON 
                      dbo.AccountEMailNotificationPreference.AccountId = dbo.AccountEmployee.AccountId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId
WHERE     (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 30) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 29) AND (dbo.AccountEMailNotificationPreference.Enabled = 1) AND 
                      (dbo.AccountEmployee.EmployeeTypeId <> 2 OR
                      dbo.AccountEmployee.EmployeeTypeId IS NULL)'
--End 3.0.5
--Start 3.0.7

--Update AccountEmployeeTimeEntryApproval Records
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
Update AccountEmployeeTimeEntryApproval Set AccountEmployeeTimeEntryPeriodId = (Select AccountEmployeeTimeEntryPeriodId 
From AccountEmployeeTimeEntry
Where AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId)
END
GO

if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
Delete From AccountEmployeeTimeEntry Where AccountEmployeeId Not In (Select AccountEmployeeId From AccountEmployee)
Delete From AccountEmployeeTimeEntryPeriod Where AccountEmployeeId Not In (Select AccountEmployeeId From AccountEmployee)
END

GO

-- Drop Foreign Key FK_AccountPreferences_Account from AccountPreferences
Print 'Drop Foreign Key FK_AccountPreferences_Account from AccountPreferences'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_Account' AND TABLE_NAME='AccountPreferences')
BEGIN
	ALTER TABLE [dbo].[AccountPreferences] DROP CONSTRAINT [FK_AccountPreferences_Account]
END
GO

-- Drop Foreign Key FK_AccountPreferences_AccountCurrency from AccountPreferences
Print 'Drop Foreign Key FK_AccountPreferences_AccountCurrency from AccountPreferences'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_AccountCurrency' AND TABLE_NAME='AccountPreferences')
BEGIN
	ALTER TABLE [dbo].[AccountPreferences] DROP CONSTRAINT [FK_AccountPreferences_AccountCurrency]
END
GO

-- Drop Foreign Key FK_AccountPreferences_AccountCurrency1 from AccountPreferences
Print 'Drop Foreign Key FK_AccountPreferences_AccountCurrency1 from AccountPreferences'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_AccountCurrency1' AND TABLE_NAME='AccountPreferences')
BEGIN
	ALTER TABLE [dbo].[AccountPreferences] DROP CONSTRAINT [FK_AccountPreferences_AccountCurrency1]
END
GO

-- Drop Index IX_AccountWorkingDay from AccountWorkingDay
Print 'Drop Index IX_AccountWorkingDay from AccountWorkingDay'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountWorkingDay]') AND name = N'IX_AccountWorkingDay'))
DROP INDEX [dbo].[AccountWorkingDay].[IX_AccountWorkingDay]
GO

-- Drop Index IX_AccountObjectPermission from AccountObjectPermission
Print 'Drop Index IX_AccountObjectPermission from AccountObjectPermission'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountObjectPermission]') AND name = N'IX_AccountObjectPermission'))
DROP INDEX [dbo].[AccountObjectPermission].[IX_AccountObjectPermission]
GO

-- Drop Foreign Key FK_AccountExpenseEntry_Account from AccountExpenseEntry
Print 'Drop Foreign Key FK_AccountExpenseEntry_Account from AccountExpenseEntry'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_Account' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
	ALTER TABLE [dbo].[AccountExpenseEntry] DROP CONSTRAINT [FK_AccountExpenseEntry_Account]
END
GO

-- Create Table MasterWorkingDayType
Print 'Create Table MasterWorkingDayType'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'MasterWorkingDayType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[MasterWorkingDayType] (
		[MasterWorkingDayTypeId]     uniqueidentifier NOT NULL,
		[MasterWorkingDayType]       nvarchar(500) NOT NULL,
		[WeekStartDay]               tinyint NOT NULL,
		[MinimumHoursPerDay]         float NOT NULL,
		[MaximumHoursPerDay]         float NOT NULL,
		[MinimumHoursPerWeek]        float NOT NULL,
		[MaximumHoursPerWeek]        float NOT NULL,
		[HoursPerDay]                float NOT NULL
)
GO

-- Add Primary Key PK_MasterWorkingDayType to MasterWorkingDayType
Print 'Add Primary Key PK_MasterWorkingDayType to MasterWorkingDayType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterWorkingDayType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_MasterWorkingDayType' AND TABLE_NAME='MasterWorkingDayType'))
ALTER TABLE [dbo].[MasterWorkingDayType]
	ADD
	CONSTRAINT [PK_MasterWorkingDayType]
	PRIMARY KEY
	([MasterWorkingDayTypeId])
GO

-- Add Default Constraint DF_MasterWorkingDayType_MasterWorkingDayTypeId to MasterWorkingDayType
Print 'Add Default Constraint DF_MasterWorkingDayType_MasterWorkingDayTypeId to MasterWorkingDayType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterWorkingDayType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_MasterWorkingDayType_MasterWorkingDayTypeId'))
ALTER TABLE [dbo].[MasterWorkingDayType]
	ADD
	CONSTRAINT [DF_MasterWorkingDayType_MasterWorkingDayTypeId]
	DEFAULT (newid()) FOR [MasterWorkingDayTypeId]
GO

-- Add Column AllowOwnApproval to SystemReportPermission
Print 'Add Column AllowOwnApproval to SystemReportPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AllowOwnApproval' AND TABLE_NAME='SystemReportPermission'))
ALTER TABLE [dbo].[SystemReportPermission]
	ADD [AllowOwnApproval] bit NULL

GO

-- Add Column AccountTimeExpenseBillingExpenseId to AccountExpenseEntry
Print 'Add Column AccountTimeExpenseBillingExpenseId to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTimeExpenseBillingExpenseId' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [AccountTimeExpenseBillingExpenseId] uniqueidentifier NULL

GO

-- Add Column Billed to AccountExpenseEntry
Print 'Add Column Billed to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Billed' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [Billed] bit NULL

GO

-- Create Table AccountEmployeeTimeEntryApprovalProject
Print 'Create Table AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountEmployeeTimeEntryApprovalProject' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject] (
		[AccountEmployeeTimeEntryApprovalProjectId]     uniqueidentifier NOT NULL,
		[AccountEmployeeTimeEntryPeriodId]              uniqueidentifier NOT NULL,
		[AccountProjectId]                              int NOT NULL,
		[TimeEntryAccountEmployeeId]                    int NOT NULL,
		[ApprovedByEmployeeId]                          int NULL,
		[Submitted]                                     bit NOT NULL,
		[InApproval]                                    bit NOT NULL,
		[IsRejected]                                    bit NOT NULL,
		[Approved]                                      bit NOT NULL,
		[Rejected]                                      bit NOT NULL,
		[CreatedOn]                                     datetime NOT NULL,
		[CreatedByEmployeeId]                           int NOT NULL,
		[ModifiedOn]                                    datetime NOT NULL,
		[ModifiedByEmployeeId]                          int NOT NULL
)
GO

-- Add Primary Key PK_AccountEmployeeTimeEntryApprovalProject to AccountEmployeeTimeEntryApprovalProject
Print 'Add Primary Key PK_AccountEmployeeTimeEntryApprovalProject to AccountEmployeeTimeEntryApprovalProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApprovalProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountEmployeeTimeEntryApprovalProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
	ADD
	CONSTRAINT [PK_AccountEmployeeTimeEntryApprovalProject]
	PRIMARY KEY
	([AccountEmployeeTimeEntryApprovalProjectId])
GO

-- Add Default Constraint DF_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryApprovalProjectId to AccountEmployeeTimeEntryApprovalProject
Print 'Add Default Constraint DF_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryApprovalProjectId to AccountEmployeeTimeEntryApprovalProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApprovalProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryApprovalProjectId'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
	ADD
	CONSTRAINT [DF_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryApprovalProjectId]
	DEFAULT (newid()) FOR [AccountEmployeeTimeEntryApprovalProjectId]
GO

-- Create Index IX_AccountEmployeeTimeEntryPeriodId on AccountEmployeeTimeEntryApprovalProject
Print 'Create Index IX_AccountEmployeeTimeEntryPeriodId on AccountEmployeeTimeEntryApprovalProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApprovalProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApprovalProject]') AND name = N'IX_AccountEmployeeTimeEntryPeriodId'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriodId]
	ON [dbo].[AccountEmployeeTimeEntryApprovalProject] ([AccountEmployeeTimeEntryPeriodId])
GO

-- Create Index IX_AccountProjectId on AccountEmployeeTimeEntryApprovalProject
Print 'Create Index IX_AccountProjectId on AccountEmployeeTimeEntryApprovalProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApprovalProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApprovalProject]') AND name = N'IX_AccountProjectId'))
CREATE INDEX [IX_AccountProjectId]
	ON [dbo].[AccountEmployeeTimeEntryApprovalProject] ([AccountProjectId])
GO

-- Create Index IX_TimeEntryAccountEmployeeId on AccountEmployeeTimeEntryApprovalProject
Print 'Create Index IX_TimeEntryAccountEmployeeId on AccountEmployeeTimeEntryApprovalProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApprovalProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApprovalProject]') AND name = N'IX_TimeEntryAccountEmployeeId'))
CREATE INDEX [IX_TimeEntryAccountEmployeeId]
	ON [dbo].[AccountEmployeeTimeEntryApprovalProject] ([TimeEntryAccountEmployeeId])
GO

-- Add Column AccountProjectId to AccountEmployeeTimeEntryApproval
Print 'Add Column AccountProjectId to AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectId' AND TABLE_NAME='AccountEmployeeTimeEntryApproval'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryApproval]
	ADD [AccountProjectId] int NULL

GO

-- Add Column PreviousStatus to AccountEmployeeTimeEntryApproval
Print 'Add Column PreviousStatus to AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='PreviousStatus' AND TABLE_NAME='AccountEmployeeTimeEntryApproval'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryApproval]
	ADD [PreviousStatus] bit NULL

GO

-- Add Column BatchId to AccountEmployeeTimeEntryApproval
Print 'Add Column BatchId to AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='BatchId' AND TABLE_NAME='AccountEmployeeTimeEntryApproval'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntryApproval]
	ADD [BatchId] uniqueidentifier NULL

GO

-- Create Index IX_TimeEntryPeriodId on AccountEmployeeTimeEntryApproval
Print 'Create Index IX_TimeEntryPeriodId on AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'IX_TimeEntryPeriodId'))
CREATE INDEX [IX_TimeEntryPeriodId]
	ON [dbo].[AccountEmployeeTimeEntryApproval] ([AccountEmployeeTimeEntryPeriodId])
GO

-- Create Index IX_AccountId on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountId on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountId'))
CREATE INDEX [IX_AccountId]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([AccountId])
GO

-- Create Index IX_AccountEmployeeId on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeId on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeId'))
CREATE INDEX [IX_AccountEmployeeId]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([AccountEmployeeId])
GO

-- Add Column AllowOwnApproval to AccountObjectPermission
Print 'Add Column AllowOwnApproval to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AllowOwnApproval' AND TABLE_NAME='AccountObjectPermission'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD [AllowOwnApproval] bit NULL

GO

-- Add Default Constraint DF_AccountObjectPermission_AllowOwnApproval to AccountObjectPermission
Print 'Add Default Constraint DF_AccountObjectPermission_AllowOwnApproval to AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountObjectPermission_AllowOwnApproval'))
ALTER TABLE [dbo].[AccountObjectPermission]
	ADD
	CONSTRAINT [DF_AccountObjectPermission_AllowOwnApproval]
	DEFAULT ((0)) FOR [AllowOwnApproval]
GO

-- Add Column AccountWorkingDayTypeId to AccountEmployee
Print 'Add Column AccountWorkingDayTypeId to AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountWorkingDayTypeId' AND TABLE_NAME='AccountEmployee'))
ALTER TABLE [dbo].[AccountEmployee]
	ADD [AccountWorkingDayTypeId] uniqueidentifier NULL

GO

-- Create Index IX_AccountWorkingDayTypeId on AccountEmployee
Print 'Create Index IX_AccountWorkingDayTypeId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_AccountWorkingDayTypeId'))
CREATE INDEX [IX_AccountWorkingDayTypeId]
	ON [dbo].[AccountEmployee] ([AccountWorkingDayTypeId])
GO

-- Add Column AccountEmployeeTimeEntryApprovalProjectId to AccountEmployeeTimeEntry
Print 'Add Column AccountEmployeeTimeEntryApprovalProjectId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountEmployeeTimeEntryApprovalProjectId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [AccountEmployeeTimeEntryApprovalProjectId] uniqueidentifier NULL

GO

-- Add Column AccountTimeExpenseBillingTimesheetId to AccountEmployeeTimeEntry
Print 'Add Column AccountTimeExpenseBillingTimesheetId to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTimeExpenseBillingTimesheetId' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [AccountTimeExpenseBillingTimesheetId] uniqueidentifier NULL

GO

-- Add Column Billed to AccountEmployeeTimeEntry
Print 'Add Column Billed to AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='Billed' AND TABLE_NAME='AccountEmployeeTimeEntry'))
ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
	ADD [Billed] bit NULL

GO

-- Create Index IX_AccountEmployeeTimeEntryPeriodId on AccountEmployeeTimeEntry
Print 'Create Index IX_AccountEmployeeTimeEntryPeriodId on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_AccountEmployeeTimeEntryPeriodId'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriodId]
	ON [dbo].[AccountEmployeeTimeEntry] ([AccountEmployeeTimeEntryPeriodId])
GO

-- Create Index IX_AccountEmployeeTimeEntryApprovalProjectId on AccountEmployeeTimeEntry
Print 'Create Index IX_AccountEmployeeTimeEntryApprovalProjectId on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_AccountEmployeeTimeEntryApprovalProjectId'))
CREATE INDEX [IX_AccountEmployeeTimeEntryApprovalProjectId]
	ON [dbo].[AccountEmployeeTimeEntry] ([AccountEmployeeTimeEntryApprovalProjectId])
GO

-- Add Column ShowClientInTimesheet to AccountPreferences
Print 'Add Column ShowClientInTimesheet to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ShowClientInTimesheet' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [ShowClientInTimesheet] bit NULL

GO

-- Create Table AccountTimeExpenseBillingExpense
Print 'Create Table AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountTimeExpenseBillingExpense' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountTimeExpenseBillingExpense] (
		[AccountTimeExpenseBillingExpenseId]     uniqueidentifier NOT NULL,
		[AccountTimeExpenseBillingId]            uniqueidentifier NOT NULL,
		[AccountId]                              int NOT NULL,
		[AccountProjectId]                       int NOT NULL,
		[AccountExpenseTypeId]                   int NOT NULL,
		[AccountExpenseId]                       int NOT NULL,
		[Description]                            nvarchar(1000) NULL,
		[ActualExpenseAmount]                    float NULL,
		[BilledExpenseAmount]                    float NULL,
		[CreatedOn]                              datetime NULL,
		[CreatedByEmployeeId]                    int NULL,
		[ModifiedOn]                             datetime NULL,
		[ModifiedByEmployeeId]                   int NULL
)
GO

-- Add Primary Key PK_AccountTimeExpenseBillingExpense to AccountTimeExpenseBillingExpense
Print 'Add Primary Key PK_AccountTimeExpenseBillingExpense to AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountTimeExpenseBillingExpense' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	ADD
	CONSTRAINT [PK_AccountTimeExpenseBillingExpense]
	PRIMARY KEY
	([AccountTimeExpenseBillingExpenseId])
GO

-- Add Default Constraint DF_AccountTimeExpenseBillingExpense_AccountTimeExpenseBillingExpenseId to AccountTimeExpenseBillingExpense
Print 'Add Default Constraint DF_AccountTimeExpenseBillingExpense_AccountTimeExpenseBillingExpenseId to AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountTimeExpenseBillingExpense_AccountTimeExpenseBillingExpenseId'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	ADD
	CONSTRAINT [DF_AccountTimeExpenseBillingExpense_AccountTimeExpenseBillingExpenseId]
	DEFAULT (newid()) FOR [AccountTimeExpenseBillingExpenseId]
GO

-- Create Table AccountTimeExpenseBilling
Print 'Create Table AccountTimeExpenseBilling'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountTimeExpenseBilling' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountTimeExpenseBilling] (
		[AccountTimeExpenseBillingId]     uniqueidentifier NOT NULL,
		[AccountId]                       int NOT NULL,
		[AccountClientId]                 int NOT NULL,
		[AccountCurrencyId]               int NOT NULL,
		[BillingCycleStartDate]           datetime NOT NULL,
		[BillingCycleEndDate]             datetime NOT NULL,
		[InvoiceNumber]                   varchar(50) NULL,
		[InvoiceDate]                     datetime NOT NULL,
		[PONumber]                        varchar(50) NULL,
		[Description]                     nvarchar(1000) NULL,
		[CreatedOn]                       datetime NOT NULL,
		[CreatedByEmployeeId]             int NULL,
		[ModifiedOn]                      datetime NOT NULL,
		[ModifiedByEmployeeId]            int NULL,
		[IsDisabled]                      bit NULL,
		[SubTotal]                        float NULL,
		[TaxCode1]                        float NULL,
		[TaxCode2]                        float NULL,
		[GrandTotal]                      float NULL,
		[IsPaid]                          bit NULL
)
GO

-- Add Primary Key PK_AccountTimeExpenseBilling to AccountTimeExpenseBilling
Print 'Add Primary Key PK_AccountTimeExpenseBilling to AccountTimeExpenseBilling'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBilling' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountTimeExpenseBilling' AND TABLE_NAME='AccountTimeExpenseBilling'))
ALTER TABLE [dbo].[AccountTimeExpenseBilling]
	ADD
	CONSTRAINT [PK_AccountTimeExpenseBilling]
	PRIMARY KEY
	([AccountTimeExpenseBillingId])
GO

-- Add Default Constraint DF_AccountTimeExpenseBilling_AccountTimeExpenseBillingId to AccountTimeExpenseBilling
Print 'Add Default Constraint DF_AccountTimeExpenseBilling_AccountTimeExpenseBillingId to AccountTimeExpenseBilling'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBilling' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountTimeExpenseBilling_AccountTimeExpenseBillingId'))
ALTER TABLE [dbo].[AccountTimeExpenseBilling]
	ADD
	CONSTRAINT [DF_AccountTimeExpenseBilling_AccountTimeExpenseBillingId]
	DEFAULT (newid()) FOR [AccountTimeExpenseBillingId]
GO

-- Create Index IX_AccountTimeExpenseBilling on AccountTimeExpenseBilling
Print 'Create Index IX_AccountTimeExpenseBilling on AccountTimeExpenseBilling'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBilling' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBilling]') AND name = N'IX_AccountTimeExpenseBilling'))
CREATE UNIQUE INDEX [IX_AccountTimeExpenseBilling]
	ON [dbo].[AccountTimeExpenseBilling] ([InvoiceNumber], [AccountId])
GO

-- Create Table AccountTimeExpenseBillingTimesheet
Print 'Create Table AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountTimeExpenseBillingTimesheet' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountTimeExpenseBillingTimesheet] (
		[AccountTimeExpenseBillingTimesheetId]     uniqueidentifier NOT NULL,
		[AccountTimeExpenseBillingId]              uniqueidentifier NOT NULL,
		[AccountId]                                int NOT NULL,
		[AccountProjectId]                         int NOT NULL,
		[AccountProjectTaskId]                     int NOT NULL,
		[Description]                              nvarchar(1000) NULL,
		[ActualBillingRate]                        float NULL,
		[BillingRate]                              float NULL,
		[ActualHours]                              float NULL,
		[BillHours]                                float NULL,
		[TotalAmount]                              float NULL,
		[AccountTaxCodeId1]                        int NULL,
		[AccountTaxCodeId2]                        int NULL,
		[TaxCode1]                                 float NULL,
		[TaxCode2]                                 float NULL,
		[CreatedOn]                                datetime NULL,
		[CreatedByEmployeeId]                      int NULL,
		[ModifiedOn]                               datetime NULL,
		[ModifiedByEmployeeId]                     int NULL
)
GO

-- Add Primary Key PK_AccountTimeExpenseBillingTimesheet to AccountTimeExpenseBillingTimesheet
Print 'Add Primary Key PK_AccountTimeExpenseBillingTimesheet to AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountTimeExpenseBillingTimesheet' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
	ADD
	CONSTRAINT [PK_AccountTimeExpenseBillingTimesheet]
	PRIMARY KEY
	([AccountTimeExpenseBillingTimesheetId])
GO

-- Add Default Constraint DF_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBillingTimesheetId to AccountTimeExpenseBillingTimesheet
Print 'Add Default Constraint DF_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBillingTimesheetId to AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBillingTimesheetId'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
	ADD
	CONSTRAINT [DF_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBillingTimesheetId]
	DEFAULT (newid()) FOR [AccountTimeExpenseBillingTimesheetId]
GO

-- Create Table AccountWorkingDayType
Print 'Create Table AccountWorkingDayType'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountWorkingDayType' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountWorkingDayType] (
		[AccountWorkingDayTypeId]     uniqueidentifier NOT NULL,
		[AccountId]                   int NOT NULL,
		[AccountWorkingDayType]       nvarchar(500) NOT NULL,
		[HoursPerDay]                 float NOT NULL,
		[WeekStartDay]                tinyint NOT NULL,
		[CreatedByEmployeeId]         int NOT NULL,
		[CreatedOn]                   datetime NOT NULL,
		[ModifiedByEmployeeId]        int NOT NULL,
		[ModifiedOn]                  datetime NOT NULL,
		[IsDisabled]                  bit NULL,
		[MasterWorkingDayTypeId]      uniqueidentifier NULL,
		[MinimumHoursPerDay]          float NOT NULL,
		[MaximumHoursPerDay]          float NOT NULL,
		[MinimumHoursPerWeek]         float NOT NULL,
		[MaximumHoursPerWeek]         float NOT NULL
)
GO

-- Add Primary Key PK_AccountWorkingDayType to AccountWorkingDayType
Print 'Add Primary Key PK_AccountWorkingDayType to AccountWorkingDayType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDayType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountWorkingDayType' AND TABLE_NAME='AccountWorkingDayType'))
ALTER TABLE [dbo].[AccountWorkingDayType]
	ADD
	CONSTRAINT [PK_AccountWorkingDayType]
	PRIMARY KEY
	([AccountWorkingDayTypeId])
GO

-- Add Default Constraint DF_AccountWorkingDayType_AccountWorkingDayTypeId to AccountWorkingDayType
Print 'Add Default Constraint DF_AccountWorkingDayType_AccountWorkingDayTypeId to AccountWorkingDayType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDayType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountWorkingDayType_AccountWorkingDayTypeId'))
ALTER TABLE [dbo].[AccountWorkingDayType]
	ADD
	CONSTRAINT [DF_AccountWorkingDayType_AccountWorkingDayTypeId]
	DEFAULT (newid()) FOR [AccountWorkingDayTypeId]
GO

-- Add Default Constraint DF_AccountWorkingDayType_CreatedOn to AccountWorkingDayType
Print 'Add Default Constraint DF_AccountWorkingDayType_CreatedOn to AccountWorkingDayType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDayType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountWorkingDayType_CreatedOn'))
ALTER TABLE [dbo].[AccountWorkingDayType]
	ADD
	CONSTRAINT [DF_AccountWorkingDayType_CreatedOn]
	DEFAULT (getdate()) FOR [CreatedOn]
GO

-- Add Default Constraint DF_AccountWorkingDayType_ModifiedOn to AccountWorkingDayType
Print 'Add Default Constraint DF_AccountWorkingDayType_ModifiedOn to AccountWorkingDayType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDayType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountWorkingDayType_ModifiedOn'))
ALTER TABLE [dbo].[AccountWorkingDayType]
	ADD
	CONSTRAINT [DF_AccountWorkingDayType_ModifiedOn]
	DEFAULT (getdate()) FOR [ModifiedOn]
GO

-- Create Index IX_AccountId on AccountWorkingDayType
Print 'Create Index IX_AccountId on AccountWorkingDayType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDayType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkingDayType]') AND name = N'IX_AccountId'))
CREATE INDEX [IX_AccountId]
	ON [dbo].[AccountWorkingDayType] ([AccountId])
GO

-- Add Column AccountWorkingDayTypeId to AccountWorkingDay
Print 'Add Column AccountWorkingDayTypeId to AccountWorkingDay'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountWorkingDayTypeId' AND TABLE_NAME='AccountWorkingDay'))
ALTER TABLE [dbo].[AccountWorkingDay]
	ADD [AccountWorkingDayTypeId] uniqueidentifier NULL

GO

-- Create Index IX_AccountWorkingDay on AccountWorkingDay
Print 'Create Index IX_AccountWorkingDay on AccountWorkingDay'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkingDay]') AND name = N'IX_AccountWorkingDay'))
CREATE UNIQUE INDEX [IX_AccountWorkingDay]
	ON [dbo].[AccountWorkingDay] ([AccountId], [WorkingDayNo], [AccountWorkingDayTypeId])
GO

-- Create Index IX_AccountWorkingDayTypeId on AccountWorkingDay
Print 'Create Index IX_AccountWorkingDayTypeId on AccountWorkingDay'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkingDay]') AND name = N'IX_AccountWorkingDayTypeId'))
CREATE INDEX [IX_AccountWorkingDayTypeId]
	ON [dbo].[AccountWorkingDay] ([AccountWorkingDayTypeId])
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryApproval_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntryApproval
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApproval_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntryApproval'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApproval_AccountEmployeeTimeEntryPeriod' AND TABLE_NAME='AccountEmployeeTimeEntryApproval')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApproval]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApproval_AccountEmployeeTimeEntryPeriod]
			FOREIGN KEY ([AccountEmployeeTimeEntryPeriodId]) REFERENCES [dbo].[AccountEmployeeTimeEntryPeriod] ([AccountEmployeeTimeEntryPeriodId])
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_Account on AccountEmployeeTimeEntryPeriod
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_Account on AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_Account' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
GO

-- Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBilling on AccountTimeExpenseBillingTimesheet
Print 'Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBilling on AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBilling' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountTimeExpenseBilling]
			FOREIGN KEY ([AccountTimeExpenseBillingId]) REFERENCES [dbo].[AccountTimeExpenseBilling] ([AccountTimeExpenseBillingId])
			ON DELETE CASCADE
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee]
			FOREIGN KEY ([TimeEntryAccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryPeriod' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployeeTimeEntryPeriod]
			FOREIGN KEY ([AccountEmployeeTimeEntryPeriodId]) REFERENCES [dbo].[AccountEmployeeTimeEntryPeriod] ([AccountEmployeeTimeEntryPeriodId])
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
END
GO

-- Create Foreign Key FK_AccountEmployee_AccountWorkingDayType on AccountEmployee
Print 'Create Foreign Key FK_AccountEmployee_AccountWorkingDayType on AccountEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployee_AccountWorkingDayType' AND TABLE_NAME='AccountEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountEmployee]
			ADD CONSTRAINT [FK_AccountEmployee_AccountWorkingDayType]
			FOREIGN KEY ([AccountWorkingDayTypeId]) REFERENCES [dbo].[AccountWorkingDayType] ([AccountWorkingDayTypeId])
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryApprovalProject on AccountEmployeeTimeEntry
Print 'Create Foreign Key FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryApprovalProject on AccountEmployeeTimeEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryApprovalProject' AND TABLE_NAME='AccountEmployeeTimeEntry')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryApprovalProject]
			FOREIGN KEY ([AccountEmployeeTimeEntryApprovalProjectId]) REFERENCES [dbo].[AccountEmployeeTimeEntryApprovalProject] ([AccountEmployeeTimeEntryApprovalProjectId])
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntry
Print 'Create Foreign Key FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryPeriod on AccountEmployeeTimeEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryPeriod' AND TABLE_NAME='AccountEmployeeTimeEntry')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntry_AccountEmployeeTimeEntryPeriod]
			FOREIGN KEY ([AccountEmployeeTimeEntryPeriodId]) REFERENCES [dbo].[AccountEmployeeTimeEntryPeriod] ([AccountEmployeeTimeEntryPeriodId])
END
GO

-- Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountTimeExpenseBilling on AccountTimeExpenseBillingExpense
Print 'Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountTimeExpenseBilling on AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountTimeExpenseBilling' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountTimeExpenseBilling]
			FOREIGN KEY ([AccountTimeExpenseBillingId]) REFERENCES [dbo].[AccountTimeExpenseBilling] ([AccountTimeExpenseBillingId])
			ON DELETE CASCADE
END
GO

-- Create Foreign Key FK_AccountWorkingDay_AccountWorkingDayType on AccountWorkingDay
Print 'Create Foreign Key FK_AccountWorkingDay_AccountWorkingDayType on AccountWorkingDay'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkingDay_AccountWorkingDayType' AND TABLE_NAME='AccountWorkingDay')
BEGIN
		ALTER TABLE [dbo].[AccountWorkingDay]
			ADD CONSTRAINT [FK_AccountWorkingDay_AccountWorkingDayType]
			FOREIGN KEY ([AccountWorkingDayTypeId]) REFERENCES [dbo].[AccountWorkingDayType] ([AccountWorkingDayTypeId])
			ON DELETE CASCADE
END

GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee1 on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee1 on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee1' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountEmployee1]
			FOREIGN KEY ([ApprovedByEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntry_AccountEmployee on AccountEmployeeTimeEntry
Print 'Create Foreign Key FK_AccountEmployeeTimeEntry_AccountEmployee on AccountEmployeeTimeEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntry_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntry')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntry]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntry_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END

GO

-- Drop View vueAccount
Print 'Drop View vueAccount'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccount' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccount]
GO

-- Drop View rptvueAccountExpenseEntry
Print 'Drop View rptvueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountExpenseEntry]
GO

-- Drop View vueAccountWorkingDay
Print 'Drop View vueAccountWorkingDay'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountWorkingDay' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountWorkingDay]
GO

-- Drop View vueSystemReportPermission
Print 'Drop View vueSystemReportPermission'
GO
if exists (select * from information_schema.tables where table_name = 'vueSystemReportPermission' and table_type = 'VIEW')
DROP VIEW [dbo].[vueSystemReportPermission]
GO

-- Drop View vueAccountProjectEmployee
Print 'Drop View vueAccountProjectEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectEmployee]
GO

-- Drop View vueAccountObjectPermission
Print 'Drop View vueAccountObjectPermission'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountObjectPermission' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountObjectPermission]
GO

-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO

-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO

-- Drop View vueAccountExpenseEntryForReport
Print 'Drop View vueAccountExpenseEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryForReport]
GO

-- Drop View rptvueAccountEmployeeTimeEntry
Print 'Drop View rptvueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountEmployeeTimeEntry]
GO

-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO

-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO

-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO

-- Drop View vueAccountEmployeeTimeEntryApproval
Print 'Drop View vueAccountEmployeeTimeEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApproval]
GO

-- Drop View vueTimesheetApprovalSequence
Print 'Drop View vueTimesheetApprovalSequence'
GO
if exists (select * from information_schema.tables where table_name = 'vueTimesheetApprovalSequence' and table_type = 'VIEW')
DROP VIEW [dbo].[vueTimesheetApprovalSequence]
GO

-- Create View vueTimesheetApprovalSequence
Print 'Create View vueTimesheetApprovalSequence'
GO
if not exists (select * from information_schema.tables where table_name = 'vueTimesheetApprovalSequence' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueTimesheetApprovalSequence
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId AND
                       dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId AND 
                      dbo.AccountEmployeeTimeEntryApproval.PreviousStatus <> 1 AND dbo.AccountEmployeeTimeEntryApproval.IsReject <> 1'
GO

-- Create View vueAccountEmployeeTimeEntryApproval
Print 'Create View vueAccountEmployeeTimeEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntry.AccountEmployeeId AS TimeEntryAccountEmployeeId, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployee.EmployeeManagerId, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, dbo.AccountProjectTask.IsBillable, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 1 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS BillableTotalMinutes, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 0 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) WHEN dbo.AccountProjectTask.IsBillable IS NULL THEN DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS NonBillableTotalMinutes, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId INNER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntry.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId AND
                       dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId AND 
                      dbo.AccountEmployeeTimeEntryApproval.PreviousStatus <> 1'
GO

-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId, dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployeeTimeEntry.AccountWorkTypeId, 
                      dbo.AccountEmployeeTimeEntry.AccountCostCenterId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedByEmployeeId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, dbo.AccountCostCenter.AccountCostCenter, 
                      dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId, dbo.AccountParty.PartyName, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyNick
FROM         dbo.AccountParty INNER JOIN
                      dbo.AccountProject ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId RIGHT OUTER JOIN
                      dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'
GO

-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate, dbo.AccountRole.AccountRoleId, dbo.AccountRole.Role, dbo.AccountProject.AccountProjectTypeId, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.Billed, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO

-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Description, N'''') AS Description, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes, dbo.vueAccountEmployeeTimeEntry.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingType, N'''') AS BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeCode, N'''') AS EmployeeCode, dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentName, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) 
                      AS Submitted, ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkType, N'''') AS AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, N'''') AS AccountCostCenter, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, N'''') AS AccountCostCenterCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectCode, N'''') AS ProjectCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskCode, N'''') 
                      AS TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, ISNULL(dbo.vueAccountEmployeeTimeEntry.Comments, N'''') 
                      AS ApproverComments, ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.DepartmentCode, N'''') 
                      AS DepartmentCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.PartyNick, N'''') AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      ISNULL(dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName, N'''') AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, 
                      dbo.AccountProjectType.ProjectType, dbo.AccountRole.Role AS ProjectRole, ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectDescription, N'''') 
                      AS ProjectDescription, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskDescription, N'''') AS TaskDescription, 
                      dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountProjectType.AccountProjectTypeId
FROM         dbo.AccountRole INNER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectEmployee.AccountRoleId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingTimesheet INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId = dbo.vueAccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId
                       ON dbo.AccountProjectEmployee.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId AND 
                      dbo.AccountProjectEmployee.AccountProjectId = dbo.vueAccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = AccountEmployee_3.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO

-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode, 
                      dbo.AccountPreferences.PageSize, dbo.AccountEmployee.TimeZoneId AS EmployeeTimeZoneId, dbo.AccountEmployee.TerminationDate, 
                      dbo.AccountEmployee.StatusId, dbo.AccountEmployee.JobTitle, dbo.AccountEmployee.EmployeePayTypeId, dbo.AccountEmployee.HiredDate, 
                      dbo.AccountEmployee.AccountWorkingDayTypeId, dbo.AccountWorkingDayType.AccountWorkingDayType, dbo.AccountWorkingDayType.HoursPerDay, 
                      dbo.AccountWorkingDayType.WeekStartDay AS EmployeeWeekStartDay, dbo.AccountPreferences.ShowClientInTimesheet, 
                      dbo.AccountWorkingDayType.MinimumHoursPerDay, dbo.AccountWorkingDayType.MaximumHoursPerDay, 
                      dbo.AccountWorkingDayType.MinimumHoursPerWeek, dbo.AccountWorkingDayType.MaximumHoursPerWeek
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountWorkingDayType ON 
                      dbo.AccountEmployee.AccountWorkingDayTypeId = dbo.AccountWorkingDayType.AccountWorkingDayTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO

-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) 
                      AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountExpenseEntry.TimeSheetApprovalPathId, dbo.AccountEmployee.EMailAddress, dbo.AccountDepartment.DepartmentName, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountTaxZone.AccountTaxZone, dbo.AccountExpenseEntry.Quantity, dbo.AccountExpenseEntry.Rate, 
                      dbo.AccountPaymentMethod.PaymentMethod, dbo.AccountLocation.AccountLocationId, dbo.AccountParty.PartyNick, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountDepartment.DepartmentCode, 
                      dbo.vueAccountExpenseEntryApprovalLastAction.Comments, dbo.vueAccountExpenseEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountDepartment.AccountDepartmentId, dbo.AccountRole.Role, dbo.AccountRole.AccountRoleId, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountExpenseEntry.Billed, dbo.AccountTimeExpenseBilling.InvoiceNumber, 
                      dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountProjectType.AccountProjectTypeId, dbo.AccountProjectType.ProjectType
FROM         dbo.AccountParty RIGHT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountProjectType ON dbo.AccountProject.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId ON 
                      dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId RIGHT OUTER JOIN
                      dbo.AccountExpenseType RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntryApprovalLastAction RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId = dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId ON
                       dbo.vueAccountExpenseEntryApprovalLastAction.AccountExpenseEntryId = dbo.AccountExpenseEntry.AccountExpenseEntryId LEFT OUTER JOIN
                      dbo.AccountPaymentMethod ON 
                      dbo.AccountExpenseEntry.AccountPaymentMethodId = dbo.AccountPaymentMethod.AccountPaymentMethodId LEFT OUTER JOIN
                      dbo.AccountTaxZone ON dbo.AccountExpenseEntry.AccountTaxZoneId = dbo.AccountTaxZone.AccountTaxZoneId LEFT OUTER JOIN
                      dbo.AccountCurrency ON dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountExpenseEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountDepartment RIGHT OUTER JOIN
                      dbo.AccountRole RIGHT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountRole.AccountRoleId = dbo.AccountEmployee.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId ON 
                      dbo.AccountDepartment.AccountDepartmentId = dbo.AccountEmployee.AccountDepartmentId ON 
                      dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO

-- Create View vueAccountExpenseEntryForReport
Print 'Create View vueAccountExpenseEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryForReport
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount AS NetAmount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, ISNULL(Approved, 
                      0) AS Approved, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, PartyName AS ClientName, AccountClientId, 
                      ISNULL(Description, N'''') AS Description, ExpenseType, AccountExpenseTypeId, LeaderEmployeeId, IsBillable, ISNULL(Rejected, 0) AS Rejected, 
                      ISNULL(EmployeeCode, N'''') AS EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, ISNULL(QuantityFieldCaption, N'''') 
                      AS QuantityFieldCaption, AccountBaseCurrencyId, ISNULL(ExchangeRate, 0) AS ExchangeRate, TaxAmount, NetAmount AS Amount, ISNULL(Submitted, 
                      0) AS Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, 
                      DepartmentName, AccountLocation, ISNULL(AccountTaxZone, N'''') AS AccountTaxZone, ISNULL(Quantity, 0) AS Quantity, ISNULL(Rate, 0) AS Rate, 
                      ISNULL(PaymentMethod, N'''') AS PaymentMethod, AccountLocationId, ISNULL(PartyNick, N'''') AS ClientNick, ProjectDescription, ISNULL(ProjectCode, 
                      N'''') AS ProjectCode, ISNULL(DepartmentCode, N'''') AS DepartmentCode, ISNULL(Comments, N'''') AS Comments, ApprovedOn, AccountDepartmentId, 
                      Role, AccountRoleId, { fn DAYOFMONTH(AccountExpenseEntryDate) } AS DayNo, MONTH(AccountExpenseEntryDate) AS MonthNo, DATEPART(week, 
                      AccountExpenseEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, AccountExpenseEntryDate), 0)) + 1 AS WeekNo, 
                      YEAR(AccountExpenseEntryDate) AS Year, LEFT({ fn MONTHNAME(AccountExpenseEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(AccountExpenseEntryDate)) AS Period, { fn DAYNAME(AccountExpenseEntryDate) } AS WeekDayName, InvoiceNumber, InvoiceDate, 
                      AccountProjectTypeId, ProjectType
FROM         dbo.vueAccountExpenseEntry'
GO

-- Create View rptvueAccountEmployeeTimeEntry
Print 'Create View rptvueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntry
AS
SELECT     dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskName, dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeadApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerApproved, dbo.vueAccountEmployeeTimeEntryForReport.AdministratorApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Description, dbo.vueAccountEmployeeTimeEntryForReport.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, dbo.vueAccountEmployeeTimeEntryForReport.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryForReport.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Submitted, dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenter, dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.Amount, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountBaseCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AmountCurrencyCode, CASE WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 1 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountEmployeeTimeEntryForReport.Approved = 1 THEN ''Approved''
                       WHEN vueAccountEmployeeTimeEntryForReport.Rejected = 1 THEN ''Rejected'' WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountPriorityId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskType, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.MilestoneDescription, dbo.vueAccountEmployeeTimeEntryForReport.Priority, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApprovedOn, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyCode, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeader, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManager, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeManager, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost, dbo.vueAccountEmployeeTimeEntryForReport.AccountRoleId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Role, dbo.vueAccountEmployeeTimeEntryForReport.WeekDayName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Period, dbo.vueAccountEmployeeTimeEntryForReport.Year, 
                      dbo.vueAccountEmployeeTimeEntryForReport.WeekNo, dbo.vueAccountEmployeeTimeEntryForReport.MonthNo, 
                      dbo.vueAccountEmployeeTimeEntryForReport.DayNo, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 1 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS
                       BillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable
                       IS NULL THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS NonBillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.Amount / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate ELSE 0 END AS CurrencyBillingRate, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectRole, dbo.vueAccountEmployeeTimeEntryForReport.ProjectType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectDescription, dbo.vueAccountEmployeeTimeEntryForReport.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryForReport.InvoiceNumber, dbo.vueAccountEmployeeTimeEntryForReport.InvoiceDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTypeId
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.vueAccountEmployeeTimeEntryWithLastStatus ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryWithLastStatus.AccountEmployeeTimeEntryId'

GO

-- Create View vueAccountObjectPermission
Print 'Create View vueAccountObjectPermission'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountObjectPermission' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountObjectPermission
AS
SELECT     dbo.AccountRole.Role, dbo.AccountObjectPermission.AccountObjectPermissionId, dbo.AccountObjectPermission.ShowReport, 
                      dbo.AccountObjectPermission.AllowCustomization, dbo.AccountObjectPermission.AllowAllUser, dbo.AccountObjectPermission.AllowOwnReport, 
                      dbo.AccountObjectPermission.AllowOwnTeam, dbo.AccountObjectPermission.AllowOwnProject, dbo.AccountObjectPermission.AllowOwnSubOrdinates, 
                      dbo.AccountReport.AccountReportCategoryId, dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, 
                      dbo.AccountReport.ReportIconPath, dbo.AccountReport.SystemReportTypeId, dbo.AccountReport.SystemReportId, dbo.AccountReport.IsConsolidated, 
                      dbo.AccountRole.AccountId, dbo.AccountRole.AccountRoleId, dbo.AccountObjectPermission.AccountReportId, 
                      dbo.AccountObjectPermission.AllowOwnApproval
FROM         dbo.AccountReport INNER JOIN
                      dbo.AccountObjectPermission ON dbo.AccountReport.AccountReportId = dbo.AccountObjectPermission.AccountReportId RIGHT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountObjectPermission.AccountRoleId = dbo.AccountRole.AccountRoleId'
GO

-- Create View vueAccountProjectEmployee
Print 'Create View vueAccountProjectEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectEmployee
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProjectEmployee.AccountProjectEmployeeId, dbo.AccountProjectEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS FullName, dbo.AccountEmployee.AccountId, 
                      dbo.AccountBillingRate.BillingRate, dbo.AccountBillingRate.StartDate, dbo.AccountBillingRate.EndDate, dbo.AccountBillingRate.EmployeeRate, 
                      dbo.AccountBillingRate.AccountBillingRateId, dbo.vueAccountEmployeeWithBillingRate.BillingRate AS EmployeeBillingRate, 
                      dbo.vueAccountEmployeeWithBillingRate.EmployeeRate AS EmployeeEmployeeRate, dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId, 
                      dbo.AccountBillingRate.SystemBillingRateTypeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, 
                      dbo.AccountBillingRate.BillingRateCurrencyId, dbo.AccountBillingRate.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeWithBillingRate.BillingRateCurrencyId AS EmployeeBillingRateCurrencyId, 
                      dbo.vueAccountEmployeeWithBillingRate.EmployeeRateCurrencyId AS EmployeeEmployeeRateCurrencyId, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountLocation.AccountLocation, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountEmployee.AccountLocationId
FROM         dbo.AccountLocation RIGHT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployee.AccountId = dbo.AccountProject.AccountId ON 
                      dbo.AccountLocation.AccountLocationId = dbo.AccountEmployee.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountWorkType INNER JOIN
                      dbo.vueAccountEmployeeWithBillingRate ON 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.vueAccountEmployeeWithBillingRate.AccountWorkTypeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountEmployeeWithBillingRate.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProjectEmployee.AccountEmployeeId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectEmployee.AccountProjectId AND 
                      dbo.AccountWorkType.AccountId = dbo.AccountProjectEmployee.AccountId LEFT OUTER JOIN
                      dbo.AccountWorkTypeBillingRate ON 
                      dbo.AccountProjectEmployee.AccountProjectEmployeeId = dbo.AccountWorkTypeBillingRate.AccountProjectEmployeeId AND 
                      dbo.AccountWorkType.AccountWorkTypeId = dbo.AccountWorkTypeBillingRate.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountBillingRate ON dbo.AccountWorkTypeBillingRate.AccountBillingRateId = dbo.AccountBillingRate.AccountBillingRateId'
GO
-- Create View vueExpenseBillingWorksheet
Print 'Create View vueExpenseBillingWorksheet'
GO
if not exists (select * from information_schema.tables where table_name = 'vueExpenseBillingWorksheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW [dbo].[vueExpenseBillingWorksheet]
AS
SELECT     dbo.vueAccountExpenseEntry.EmployeeName, dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount AS ExpenseAmount, 
                      dbo.vueAccountExpenseEntry.TeamLeadApproved, dbo.vueAccountExpenseEntry.ProjectManagerApproved, 
                      dbo.vueAccountExpenseEntry.AdministratorApproved, dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, 
                      dbo.vueAccountExpenseEntry.CreatedByEmployeeId, dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId,
                       dbo.vueAccountExpenseEntry.PartyName, dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, 
                      dbo.vueAccountExpenseEntry.ExpenseType, dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntry.IsBillable, dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, 
                      dbo.vueAccountExpenseEntry.Reimburse, dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, 
                      dbo.vueAccountExpenseEntry.IsQuantityField, dbo.vueAccountExpenseEntry.QuantityFieldCaption, 
                      dbo.vueAccountExpenseEntry.AccountBaseCurrencyId, dbo.vueAccountExpenseEntry.ExchangeRate, dbo.vueAccountExpenseEntry.TaxAmount, 
                      dbo.vueAccountExpenseEntry.NetAmount, dbo.vueAccountExpenseEntry.Submitted, dbo.vueAccountExpenseEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountExpenseEntry.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntry.TimeSheetApprovalPathId, dbo.vueAccountExpenseEntry.EMailAddress, dbo.vueAccountExpenseEntry.DepartmentName,
                       dbo.vueAccountExpenseEntry.AccountLocation, dbo.vueAccountExpenseEntry.AccountTaxZone, dbo.vueAccountExpenseEntry.Quantity, 
                      dbo.vueAccountExpenseEntry.Rate, dbo.vueAccountExpenseEntry.PaymentMethod, dbo.vueAccountExpenseEntry.AccountLocationId, 
                      dbo.vueAccountExpenseEntry.Billed, dbo.vueAccountExpenseEntry.AccountTimeExpenseBillingExpenseId, 
                      dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountTimeExpenseBilling.PONumber, 
                      dbo.AccountTimeExpenseBilling.SubTotal, dbo.AccountTimeExpenseBilling.TaxCode1, dbo.AccountTimeExpenseBilling.TaxCode2, 
                      dbo.AccountTimeExpenseBilling.GrandTotal, dbo.AccountTimeExpenseBilling.BillingCycleStartDate, 
                      dbo.AccountTimeExpenseBilling.BillingCycleEndDate
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntry ON dbo.AccountProject.AccountProjectId = dbo.vueAccountExpenseEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountTimeExpenseBilling INNER JOIN
                      dbo.AccountTimeExpenseBillingExpense ON 
                      dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId ON 
                      dbo.vueAccountExpenseEntry.AccountTimeExpenseBillingExpenseId = dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId
WHERE     (dbo.vueAccountExpenseEntry.IsBillable = 1)'


GO

-- Create View vueTimeBillingWorksheet
Print 'Create View vueTimeBillingWorksheet'
GO
if not exists (select * from information_schema.tables where table_name = 'vueTimeBillingWorksheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW [dbo].[vueTimeBillingWorksheet]
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntry.BillingType, dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntry.Rejected, dbo.vueAccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntry.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntry.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCost, dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 
                      dbo.vueAccountEmployeeTimeEntry.Submitted, dbo.vueAccountEmployeeTimeEntry.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntry.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntry.TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, dbo.vueAccountEmployeeTimeEntry.Comments,
                       dbo.vueAccountEmployeeTimeEntry.Billed, dbo.vueAccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, 
                      dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountTimeExpenseBilling.PONumber, 
                      dbo.AccountTimeExpenseBilling.SubTotal, dbo.AccountTimeExpenseBilling.TaxCode1, dbo.AccountTimeExpenseBilling.TaxCode2, 
                      dbo.AccountTimeExpenseBilling.GrandTotal, dbo.AccountTimeExpenseBilling.BillingCycleStartDate, 
                      dbo.AccountTimeExpenseBilling.BillingCycleEndDate, dbo.AccountParty.PartyNick, dbo.AccountParty.AccountPartyId AS AccountClientId, 
                      dbo.AccountParty.PartyName
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry ON dbo.AccountProject.AccountProjectId = dbo.vueAccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountTimeExpenseBilling INNER JOIN
                      dbo.AccountTimeExpenseBillingTimesheet ON 
                      dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId = dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId
WHERE     (dbo.vueAccountEmployeeTimeEntry.IsBillable = 1)'



GO

-- Create View vueSystemReportPermission
Print 'Create View vueSystemReportPermission'
GO
if not exists (select * from information_schema.tables where table_name = 'vueSystemReportPermission' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueSystemReportPermission
AS
SELECT     dbo.AccountReport.ReportName, dbo.AccountReport.ReportDescription, dbo.MasterAccountRole.Role, dbo.AccountRole.AccountRoleId, 
                      dbo.SystemReportPermission.SystemReportPermissionId, dbo.SystemReportPermission.AccountReportId, 
                      dbo.SystemReportPermission.MasterAccountRoleId, dbo.SystemReportPermission.ShowReport, dbo.SystemReportPermission.AllowCustomization, 
                      dbo.SystemReportPermission.AllowAllUser, dbo.SystemReportPermission.AllowOwnReport, dbo.SystemReportPermission.AllowOwnTeam, 
                      dbo.SystemReportPermission.AllowOwnProject, dbo.SystemReportPermission.AllowOwnSubOrdinates, dbo.AccountRole.AccountId, 
                      dbo.SystemReportPermission.AllowOwnApproval
FROM         dbo.SystemReportPermission INNER JOIN
                      dbo.MasterAccountRole ON dbo.SystemReportPermission.MasterAccountRoleId = dbo.MasterAccountRole.MasterAccountRoleId INNER JOIN
                      dbo.AccountRole ON dbo.MasterAccountRole.MasterAccountRoleId = dbo.AccountRole.MasterAccountRoleId LEFT OUTER JOIN
                      dbo.AccountReport ON dbo.SystemReportPermission.AccountReportId = dbo.AccountReport.AccountReportId'
GO

-- Create View vueAccountWorkingDay
Print 'Create View vueAccountWorkingDay'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountWorkingDay' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountWorkingDay
AS
SELECT     dbo.SystemWorkingDay.WorkingDayNo, dbo.SystemWorkingDay.WorkingDay, dbo.AccountWorkingDay.AccountWorkingDayId, 
                      dbo.AccountWorkingDay.AccountId, dbo.AccountWorkingDay.AccountWorkingDayTypeId, dbo.AccountWorkingDayType.WeekStartDay
FROM         dbo.AccountWorkingDay LEFT OUTER JOIN
                      dbo.AccountWorkingDayType ON 
                      dbo.AccountWorkingDay.AccountWorkingDayTypeId = dbo.AccountWorkingDayType.AccountWorkingDayTypeId RIGHT OUTER JOIN
                      dbo.SystemWorkingDay ON dbo.AccountWorkingDay.WorkingDayNo = dbo.SystemWorkingDay.WorkingDayNo'
GO

-- Create View vueAccountTimeExpenseBillingTimesheetForEdit
Print 'Create View vueAccountTimeExpenseBillingTimesheetForEdit'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheetForEdit' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingTimesheetForEdit
AS
SELECT     dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId, dbo.AccountTimeExpenseBillingTimesheet.Description, 
                      dbo.AccountTimeExpenseBillingTimesheet.BillingRate, dbo.AccountTimeExpenseBillingTimesheet.BillHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.TotalAmount, dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId1, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId2, dbo.AccountTimeExpenseBillingTimesheet.TaxCode2, 
                      dbo.AccountTimeExpenseBillingTimesheet.TaxCode1, dbo.AccountTimeExpenseBillingTimesheet.ActualHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.ActualBillingRate, dbo.AccountParty.PartyName, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBilling.InvoiceNumber, 
                      dbo.AccountCurrencyExchangeRate.ExchangeRate
FROM         dbo.AccountCurrency LEFT OUTER JOIN
                      dbo.AccountCurrencyExchangeRate ON 
                      dbo.AccountCurrency.AccountCurrencyExchangeRateId = dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingTimesheet INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId INNER JOIN
                      dbo.AccountParty ON dbo.AccountTimeExpenseBilling.AccountClientId = dbo.AccountParty.AccountPartyId AND 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountId = dbo.AccountParty.AccountId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountTimeExpenseBillingTimesheet.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'
GO

-- Create View vueAccountWorkingDayType
Print 'Create View vueAccountWorkingDayType'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountWorkingDayType' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountWorkingDayType
AS
SELECT     dbo.AccountWorkingDayType.AccountWorkingDayTypeId, dbo.AccountWorkingDayType.AccountId, 
                      dbo.AccountWorkingDayType.AccountWorkingDayType, dbo.AccountWorkingDayType.HoursPerDay, dbo.AccountWorkingDayType.WeekStartDay, 
                      dbo.AccountWorkingDayType.CreatedByEmployeeId, dbo.AccountWorkingDayType.CreatedOn, dbo.AccountWorkingDayType.ModifiedByEmployeeId, 
                      dbo.AccountWorkingDayType.ModifiedOn, dbo.AccountWorkingDayType.IsDisabled, dbo.SystemWorkingDay.WorkingDay, 
                      dbo.AccountWorkingDayType.MasterWorkingDayTypeId, dbo.SystemWorkingDay.SQLServerWeekDayNo, 
                      dbo.AccountWorkingDayType.MinimumHoursPerDay, dbo.AccountWorkingDayType.MaximumHoursPerDay, 
                      dbo.AccountWorkingDayType.MinimumHoursPerWeek, dbo.AccountWorkingDayType.MaximumHoursPerWeek
FROM         dbo.AccountWorkingDayType LEFT OUTER JOIN
                      dbo.SystemWorkingDay ON dbo.AccountWorkingDayType.WeekStartDay = dbo.SystemWorkingDay.WorkingDayNo'
GO

-- Create View vueAccountTimeExpenseBillingTimesheet
Print 'Create View vueAccountTimeExpenseBillingTimesheet'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingTimesheet
AS
SELECT     dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.Billed, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountTimeExpenseBillingTimesheet.Description, 
                      dbo.AccountEmployeeTimeEntry.Approved, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 AS TotalMinutes, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) / 60 AS TotalHours, 
                      dbo.AccountEmployeeTimeEntry.BillingRate * DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) AS Amount, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountTimeExpenseBillingTimesheet.BillHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.ActualBillingRate, dbo.AccountTimeExpenseBillingTimesheet.TotalAmount, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId1, dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId2, 
                      dbo.AccountTimeExpenseBilling.SubTotal, dbo.AccountTimeExpenseBilling.TaxCode1, dbo.AccountTimeExpenseBilling.TaxCode2, 
                      dbo.AccountTimeExpenseBilling.GrandTotal, dbo.AccountParty.PartyNick, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId
FROM         dbo.AccountTimeExpenseBillingTimesheet RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId = dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId
                       AND dbo.AccountTimeExpenseBillingTimesheet.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId
WHERE     (dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.BillingRate <> 0.0000) AND 
                      (dbo.AccountEmployeeTimeEntry.BillingRate IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.Billed IS NOT NULL) AND 
                      (dbo.AccountEmployeeTimeEntry.Approved = 1)'
GO

-- Create View vueAccountTimeExpenseBilling
Print 'Create View vueAccountTimeExpenseBilling'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBilling' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBilling
AS
SELECT     dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBilling.AccountId, 
                      dbo.AccountTimeExpenseBilling.AccountClientId, dbo.AccountTimeExpenseBilling.BillingCycleStartDate, 
                      dbo.AccountTimeExpenseBilling.BillingCycleEndDate, dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, 
                      dbo.AccountTimeExpenseBilling.PONumber, dbo.AccountTimeExpenseBilling.CreatedOn, dbo.AccountTimeExpenseBilling.CreatedByEmployeeId, 
                      dbo.AccountTimeExpenseBilling.ModifiedOn, dbo.AccountTimeExpenseBilling.ModifiedByEmployeeId, dbo.AccountTimeExpenseBilling.IsDisabled, 
                      dbo.AccountParty.PartyName, dbo.AccountTimeExpenseBilling.AccountCurrencyId, dbo.SystemCurrency.CurrencyCode, 
                      dbo.AccountTimeExpenseBilling.Description, dbo.AccountTimeExpenseBilling.IsPaid, dbo.AccountTimeExpenseBilling.GrandTotal
FROM         dbo.AccountCurrency INNER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBilling INNER JOIN
                      dbo.AccountParty ON dbo.AccountTimeExpenseBilling.AccountClientId = dbo.AccountParty.AccountPartyId AND 
                      dbo.AccountTimeExpenseBilling.AccountId = dbo.AccountParty.AccountId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'
GO

-- Create View vueAccountTimeExpenseBillingExpenseForEdit
Print 'Create View vueAccountTimeExpenseBillingExpenseForEdit'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpenseForEdit' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingExpenseForEdit
AS
SELECT     dbo.AccountParty.PartyName, dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, 
                      dbo.AccountTimeExpenseBilling.PONumber, dbo.AccountProject.ProjectName, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId, 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountTimeExpenseBillingExpense.ActualExpenseAmount, dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, 
                      dbo.AccountExpense.AccountExpenseId, dbo.AccountExpense.AccountExpenseName, dbo.AccountExpenseType.AccountExpenseTypeId, 
                      dbo.AccountExpenseType.ExpenseType, dbo.AccountCurrencyExchangeRate.ExchangeRate
FROM         dbo.AccountCurrencyExchangeRate RIGHT OUTER JOIN
                      dbo.AccountCurrency ON 
                      dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId = dbo.AccountCurrency.AccountCurrencyExchangeRateId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountParty ON dbo.AccountTimeExpenseBillingExpense.AccountId = dbo.AccountParty.AccountId INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId AND 
                      dbo.AccountParty.AccountPartyId = dbo.AccountTimeExpenseBilling.AccountClientId LEFT OUTER JOIN
                      dbo.AccountExpenseType ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountTimeExpenseBillingExpense.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountTimeExpenseBillingExpense.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'
GO

-- Create View vueAccountTimeExpenseBillingExpense
Print 'Create View vueAccountTimeExpenseBillingExpense'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingExpense
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountExpenseType.ExpenseType, SUM(dbo.AccountExpenseEntry.Amount) AS Amount, dbo.AccountExpenseEntry.Billed, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountProject.AccountClientId, dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpense.AccountExpenseId, 
                      dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountExpenseEntry.Approved, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId
FROM         dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId INNER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId = dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId AND
                       dbo.AccountTimeExpenseBillingExpense.AccountProjectId = dbo.AccountExpenseEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingExpense.AccountExpenseId = dbo.AccountExpenseEntry.AccountExpenseId
WHERE     (dbo.AccountExpenseEntry.Billed IS NOT NULL) AND (dbo.AccountExpenseEntry.Approved = 1)
GROUP BY dbo.AccountProject.ProjectName, dbo.AccountProject.AccountProjectId, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountExpenseType.ExpenseType, dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpense.AccountExpenseId, 
                      dbo.AccountExpenseEntry.Billed, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountProject.AccountClientId, 
                      dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountExpenseEntry.Approved, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId'
GO

-- Create View vueAccount
Print 'Create View vueAccount'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccount' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccount
AS
SELECT     dbo.Account.AccountId, dbo.Account.AccountTypeId, dbo.Account.AccountName, dbo.Account.Address1, dbo.Account.Address2, dbo.Account.ZipCode, 
                      dbo.Account.State, dbo.Account.City, dbo.Account.CountryId, dbo.Account.EMailAddress, dbo.Account.Telephone, dbo.Account.Fax, 
                      dbo.Account.DefaultCurrencyId, dbo.Account.TimeZoneId, dbo.Account.IsDisabled, dbo.Account.IsDeleted, dbo.Account.StatusId, 
                      dbo.Account.CreatedOn, dbo.Account.ModifiedOn, dbo.Account.ModifiedByEmployeeId, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.AccountPreferences.AccountPreferencesId, dbo.Account.LicenseKey, dbo.Account.SystemPackageTypeId, 
                      dbo.AccountPreferences.TimeEntryFormat, dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, 
                      dbo.Account.MachineId, dbo.Account.ActivationLicenseKey, dbo.Account.ActivationMachineKey, dbo.Account.ActivationType, 
                      dbo.AccountPreferences.ShowClientInTimesheet
FROM         dbo.Account INNER JOIN
                      dbo.AccountPreferences ON dbo.Account.AccountId = dbo.AccountPreferences.AccountId'
GO

-- Create View rptvueAccountExpenseEntry
Print 'Create View rptvueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountExpenseEntry
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, Approved, CreatedOn, 
                      CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, ClientName, AccountClientId, Description, ExpenseType, AccountExpenseTypeId, 
                      LeaderEmployeeId, IsBillable, Rejected, EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, QuantityFieldCaption, 
                      AccountBaseCurrencyId, ExchangeRate, TaxAmount, NetAmount, Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, 
                      ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, 
                      PaymentMethod, AccountLocationId, ClientNick, ProjectDescription, ProjectCode, DepartmentCode, 
                      CASE WHEN vueAccountExpenseEntryForReport.Submitted = 1 AND 
                      vueAccountExpenseEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountExpenseEntryForReport.Approved = 1 THEN ''Approved'' WHEN vueAccountExpenseEntryForReport.Rejected
                       = 1 THEN ''Rejected'' WHEN vueAccountExpenseEntryForReport.Submitted = 0 AND vueAccountExpenseEntryForReport.Approved = 0 AND 
                      vueAccountExpenseEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, Comments AS ApproverComments, ApprovedOn, 
                      AccountDepartmentId, Role, AccountRoleId, DayNo, MonthNo, WeekNo, Year, Period, WeekDayName, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.NetAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyNetAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.Amount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.TaxAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyTaxAmount, InvoiceNumber, InvoiceDate, AccountProjectTypeId, ProjectType
FROM         dbo.vueAccountExpenseEntryForReport'
GO

-- Create View rptvueInvoice
Print 'Create View rptvueInvoice'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueInvoice' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueInvoice
AS
SELECT     dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBilling.AccountClientId, 
                      dbo.AccountTimeExpenseBilling.BillingCycleStartDate, dbo.AccountTimeExpenseBilling.BillingCycleEndDate, 
                      dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountTimeExpenseBilling.PONumber, 
                      dbo.AccountTimeExpenseBilling.Description, dbo.AccountTimeExpenseBilling.SubTotal, dbo.AccountTimeExpenseBilling.TaxCode1, 
                      dbo.AccountTimeExpenseBilling.TaxCode2, dbo.AccountTimeExpenseBilling.GrandTotal, dbo.AccountParty.PartyName, dbo.Account.AccountId, 
                      dbo.AccountTimeExpenseBilling.IsPaid, dbo.SystemCurrency.CurrencyCode, 
                      dbo.AccountCurrencyExchangeRate.ExchangeRate AS CurrencyExchangeRate, 
                      CASE WHEN dbo.AccountCurrencyExchangeRate.ExchangeRate > 0 THEN dbo.AccountTimeExpenseBilling.GrandTotal / dbo.AccountCurrencyExchangeRate.ExchangeRate
                       ELSE 0 END AS CurrencyNetAmount
FROM         dbo.AccountCurrencyExchangeRate RIGHT OUTER JOIN
                      dbo.AccountCurrency ON 
                      dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId = dbo.AccountCurrency.AccountCurrencyExchangeRateId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId RIGHT OUTER JOIN
                      dbo.AccountParty INNER JOIN
                      dbo.AccountTimeExpenseBilling ON dbo.AccountParty.AccountPartyId = dbo.AccountTimeExpenseBilling.AccountClientId INNER JOIN
                      dbo.Account ON dbo.AccountParty.AccountId = dbo.Account.AccountId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'
GO

-- Create View vueAccountEmployeeTimeEntryApprovalWithProject
Print 'Create View vueAccountEmployeeTimeEntryApprovalWithProject'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalWithProject' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalWithProject
AS
SELECT     dbo.AccountEmployeeTimeEntryApproval.*, dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, 
                      dbo.AccountProject.ProjectCode
FROM         dbo.AccountEmployeeTimeEntryApproval LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntryApproval.AccountProjectId = dbo.AccountProject.AccountProjectId'
GO

-- Create View vueAccountEmployeeTimeEntryPeriodApprovalProject
Print 'Create View vueAccountEmployeeTimeEntryPeriodApprovalProject'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPeriodApprovalProject' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryPeriodApprovalProject
AS
SELECT     dbo.AccountEmployeeTimeEntryApprovalProject.AccountEmployeeTimeEntryPeriodId, dbo.AccountEmployeeTimeEntryApprovalProject.Submitted, 
                      dbo.AccountEmployeeTimeEntryApprovalProject.Approved, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, dbo.AccountEmployeeTimeEntryApprovalProject.Rejected, 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountId
FROM         dbo.AccountEmployeeTimeEntryApprovalProject INNER JOIN
                      dbo.AccountEmployeeTimeEntryPeriod ON 
                      dbo.AccountEmployeeTimeEntryApprovalProject.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId
GROUP BY dbo.AccountEmployeeTimeEntryApprovalProject.AccountEmployeeTimeEntryPeriodId, dbo.AccountEmployeeTimeEntryApprovalProject.Submitted, 
                      dbo.AccountEmployeeTimeEntryApprovalProject.Approved, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, dbo.AccountEmployeeTimeEntryApprovalProject.Rejected, 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountId'
GO

-- Create View vueAccountEmployeeTimeEntryPeriodApprovalDetail
Print 'Create View vueAccountEmployeeTimeEntryPeriodApprovalDetail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPeriodApprovalDetail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryPeriodApprovalDetail
AS
SELECT     dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, 
                      dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedOn, dbo.AccountEmployeeTimeEntryApproval.Comments, 
                      dbo.AccountEmployeeTimeEntryApproval.IsReject, dbo.AccountEmployeeTimeEntryApproval.IsApproved, 
                      dbo.SystemApproverType.SystemApproverType, dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS ApproverName, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TimeEntryEmployeeName, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.Submitted, dbo.AccountEmployeeTimeEntryPeriod.Approved, dbo.AccountEmployeeTimeEntryPeriod.Rejected, 
                      dbo.AccountEmployeeTimeEntryPeriod.InApproval, dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntryPeriod.SubmittedDate, 
                      CAST(dbo.AccountEmployeeTimeEntryApproval.ApprovedOn AS nvarchar(20)) AS ApprovalDate, dbo.AccountEmployeeTimeEntryApproval.BatchId
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountEmployeeTimeEntryPeriod ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId INNER
                       JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountApprovalPath INNER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId INNER JOIN
                      dbo.SystemApproverType ON dbo.AccountApprovalPath.SystemApproverTypeId = dbo.SystemApproverType.SystemApproverTypeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId AND 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId
                       LEFT OUTER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId
WHERE     (dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId IS NOT NULL) OR
                      (dbo.AccountApprovalType.AccountApprovalTypeId IS NULL)'
GO

-- Create View vueAccountEmployeeTimeEntryPeriod
Print 'Create View vueAccountEmployeeTimeEntryPeriod'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPeriod' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryPeriod
AS
SELECT     dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId, dbo.AccountEmployeeTimeEntryPeriod.AccountId, 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeId, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryViewType, 
                      dbo.AccountEmployeeTimeEntryPeriod.Submitted, dbo.AccountEmployeeTimeEntryPeriod.Approved, dbo.AccountEmployeeTimeEntryPeriod.Rejected, 
                      dbo.AccountEmployeeTimeEntryPeriod.InApproval, dbo.AccountEmployeeTimeEntryPeriod.SubmittedDate, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName
FROM         dbo.AccountEmployeeTimeEntryPeriod INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountExpenseEntryApprovalForReport
Print 'Create View vueAccountExpenseEntryApprovalForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalForReport
AS
SELECT     dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId, dbo.AccountExpenseEntryApproval.ApprovedOn, 
                      dbo.AccountExpenseEntryApproval.Comments, dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpenseEntry.AccountId, 
                      dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.AccountClientId, dbo.AccountParty.PartyName, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS ApprovalEmployeeName, dbo.AccountExpenseEntry.AccountEmployeeId
FROM         dbo.AccountExpenseEntryApproval INNER JOIN
                      dbo.AccountExpenseEntry ON 
                      dbo.AccountExpenseEntryApproval.AccountExpenseEntryId = dbo.AccountExpenseEntry.AccountExpenseEntryId INNER JOIN
                      dbo.AccountProject ON dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId = AccountEmployee_1.AccountEmployeeId'
GO
-- Create View vueAccountEmployeeTimeEntryApprovalForReport
Print 'Create View vueAccountEmployeeTimeEntryApprovalForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalForReport
AS
SELECT     dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId, 
                      dbo.AccountEmployeeTimeEntryApproval.PreviousStatus, dbo.AccountEmployeeTimeEntryApproval.BatchId, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployee.AccountId, dbo.AccountProject.ProjectName, dbo.AccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.AccountProject.AccountClientId, dbo.AccountParty.PartyName, dbo.AccountParty.PartyNick, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS ApprovalEmployeeName, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeId
FROM         dbo.AccountEmployee AS AccountEmployee_1 INNER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      AccountEmployee_1.AccountEmployeeId = dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId LEFT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId ON 
                      dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId'
GO
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
delete from accountPagePErmission Where SystemSecurityCategoryPageId = 109
END
GO
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
delete from SystemSecurityCategoryPage Where SystemSecurityCategoryPageId = 109
END
GO
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
Update AccountObjectPermission Set AllowOwnApproval = 0 Where AllowOwnApproval Is null
END
GO
--Update AllowOwnApproval for approval reports
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
Update accountobjectpermission Set AllowOwnApproval = 1 
where accountroleid in (Select AccountRoleId from accountrole where MasterAccountRoleId = 102) 
and AccountReportId in 
(Select AccountReportId from AccountReportDataSourceMapping 
where SystemReportDataSourceId in ('AD0EA79D-C1D7-40ED-A7C4-03CC4F565873','E3803DC0-49FD-4FC8-B414-EA264FFE85AA'))
END
GO
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
Update AccountEmployeeTimeEntryApproval Set AccountProjectId = (Select AccountProjectId From AccountEmployeeTimeEntry
Where AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId = AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId)
END
GO
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
Update AccountEmployeeTimeEntryApproval Set PreviousStatus = 0 Where IsApproved = 1
END
GO
if exists(Select * from systemdata where Version = '3.0.6')
BEGIN
Update AccountEmployeeTimeEntryApproval Set PreviousStatus = 1 Where IsReject = 1
END
GO
-- =======================================================
-- Update Version In SystemData Table
-- =======================================================
Update SystemData Set Version = '3.0.7' Where Version = '3.0.6' And SystemDataId = 1
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'

DELETE FROM [dbo].[SystemReportFilterSourceMapping] WHERE [SystemReportFilterMappingId]='31d01917-0ef3-4fd4-b3bb-8185830d7b51'
DELETE FROM [dbo].[SystemReportFilterSourceMapping] WHERE [SystemReportFilterMappingId]='5ae29e2b-5ab6-4ec1-b234-08ae3b58643c'
DELETE FROM [dbo].[SystemReportFilterSourceMapping] WHERE [SystemReportFilterMappingId]='baa8f055-22ab-4c8e-ad45-86cfc3fd29f8'
DELETE FROM [dbo].[SystemReportFilterSourceMapping] WHERE [SystemReportFilterMappingId]='c5a9bdc1-4242-4d12-a83e-e8a5dd2cbf04'

-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterWorkingDayType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterWorkingDayType]'
if not exists(Select * from [dbo].[MasterWorkingDayType] where MasterWorkingDayTypeId = '06ddc13d-7195-489d-a7e7-935567b7a285')
BEGIN
INSERT INTO [dbo].[MasterWorkingDayType] ([MasterWorkingDayTypeId], [MasterWorkingDayType], [WeekStartDay], [MinimumHoursPerDay], [MaximumHoursPerDay], [MinimumHoursPerWeek], [MaximumHoursPerWeek], [HoursPerDay]) VALUES ('06ddc13d-7195-489d-a7e7-935567b7a285', N'Standard', 1, 0, 24, 0, 60, 8)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSource]'
if not exists(Select * from [dbo].[SystemReportDataSource] where SystemReportDataSourceId = '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636')
BEGIN
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'TimeLive Invoice', N'rptvueInvoice', N'View', NULL)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '5d56121d-e7a9-4c7b-889e-26852aca244e')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5d56121d-e7a9-4c7b-889e-26852aca244e', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'PartyName', 150, 1, NULL, NULL, 299, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Client Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a8dd6620-f584-47df-aaa4-08b866bb7aed', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'FormulaField2', 150, 0, NULL, NULL, 316, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('bbd2d523-4d1d-46c7-9c8e-b1c3a7352625', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'FormulaField1', 150, 0, NULL, NULL, 315, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f2d3cf25-0f22-4393-9ede-3cce9fa38166', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'BillingCycleStartDate', 90, 0, NULL, NULL, 306, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Billing Cycle Start Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f820c929-1adf-4f71-8c7e-0f2dffe130ae', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'TaxCode2', 80, 0, N'CurrencyCode', NULL, 310, '0da31ddc-9040-46fa-a33a-74e06a645050', N'TaxCode 2', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('15a7fd37-c47a-4527-bd4d-5c526c38d58c', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'TaxCode1', 80, 0, N'CurrencyCode', NULL, 309, '0da31ddc-9040-46fa-a33a-74e06a645050', N'TaxCode 1', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fcdd316e-0948-4738-8081-5a27cabfcd4e', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'IsPaid', 50, 0, NULL, NULL, 312, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Paid', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d7f67d71-9766-4a90-a757-fc4c9644c737', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'FormulaField3', 150, 0, NULL, NULL, 317, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b5dfb676-c3c5-40cc-9a86-adb1490b45bd', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'Description', 200, 0, NULL, NULL, 305, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d9668485-6f89-457e-92ef-64f4e71913bc', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'BillingCycleEndDate', 90, 0, NULL, NULL, 307, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Billing Cycle End Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('b18ec28f-c579-44ae-b8be-847d9dbfdb24', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'InvoiceDate', 90, 1, NULL, NULL, 302, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Invoice Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ded0a3a7-1838-4bcc-a9e7-65ebde92c388', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'InvoiceNumber', 70, 1, NULL, NULL, 301, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Invoice No.', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4ec2a9a7-d4ec-4776-84f9-d74b6f7e1d5e', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'SubTotal', 100, 1, N'CurrencyCode', NULL, 100, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Sub Total', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('50518faa-2c20-4664-9489-d6601df00a47', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'PONumber', 70, 1, NULL, NULL, 304, '91402610-eef0-4dd0-aca3-0080f53389fa', N'PO Number', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9ee230ad-6cbf-4e39-9b52-3645bee35420', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'FormulaField4', 150, 0, NULL, NULL, 318, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('472af1d6-daca-4932-9386-f301bb81a350', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'BaseCurrencyNetAmount', 90, 1, N'ParameterCurrencyCode', N'CurrencyNetAmount*ParameterCurrencyExchangeRate', 11, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Net Amount (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4ac302f2-765c-44d5-bc1c-c4467e7784b9', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'FormulaField5', 150, 0, NULL, NULL, 319, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('eff26df3-260b-4d40-baf1-51dd7a920ba1', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', N'GrandTotal', 100, 1, N'CurrencyCode', NULL, 311, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Grand Total', 0, 0)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSource]'
if not exists(Select * from [dbo].[SystemReportFilterSource] where SystemReportFilterSourceId = '5d27625b-b056-4917-9e1c-7dc965a1112b')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('5d27625b-b056-4917-9e1c-7dc965a1112b', N'ApprovedBy', NULL, NULL, NULL, N'Approved By:', NULL, NULL, N'=All', 0, N'ApprovedByEmployeeId', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('f61bfcd4-d6c1-4ca6-a94f-38c168d75b40', N'Paid', NULL, NULL, NULL, N'Paid:', NULL, NULL, N'Paid', 1, N'IsPaid', NULL)
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('f0c9dff3-efef-4213-8801-8420dfa4bf92', N'ProjectType', NULL, NULL, NULL, N'Project Type:', NULL, NULL, N'=', 1, N'AccountProjectTypeId', NULL)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'
if not exists(Select * from [dbo].[SystemReportFilterSourceMapping] where SystemReportFilterMappingId = '30db9e09-97b7-4c8a-af37-73ae859c12d3')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('30db9e09-97b7-4c8a-af37-73ae859c12d3', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', 1, 0, 4)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('9d53dd18-4e97-4105-8f60-c62217eab5b8', '9924da4a-2907-4368-a803-99c0c6f9ffff', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', 0, 0, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('945b7a3d-d58e-4e72-b45d-2ba072ba9e97', 'f0c9dff3-efef-4213-8801-8420dfa4bf92', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 1, 1, 9)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('b0092f51-357a-45a0-9d97-0a0774594582', 'f0c9dff3-efef-4213-8801-8420dfa4bf92', '7e5678a3-d1bc-4bb4-8fd1-75cab80388ba', 0, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('03504754-12be-4ce5-b608-e26168feaa18', 'eb57d46c-68fe-44ef-8663-4b1feed94372', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', 0, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('259e4658-1f54-474f-ba91-8baf53d611a7', 'f0c9dff3-efef-4213-8801-8420dfa4bf92', '3a080202-6842-4eca-8c79-a945978810b4', 0, 1, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('7b709f5d-f9d6-42a9-9d29-d018562e293b', 'f61bfcd4-d6c1-4ca6-a94f-38c168d75b40', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636', 0, 0, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('b694fc67-ec74-4c5f-a0db-b4128286801a', '5d27625b-b056-4917-9e1c-7dc965a1112b', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 1, 1, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('42f7d474-f3f2-4724-8382-be6cc791ffd8', '5d27625b-b056-4917-9e1c-7dc965a1112b', 'e3803dc0-49fd-4fc8-b414-ea264ffe85aa', 1, 1, 9)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('9983b38a-c1cb-447f-bd22-5533a89d3f4f', '430ca1b0-0205-430f-9a9a-9dadd4c07a3d', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', 0, 0, 8)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
if not exists(Select * from [dbo].[SystemSecurityCategoryPage] where SystemSecurityCategoryPageId = 129)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (129, 3, N'22300229', N'ProjectAdmin', 'AccountTimeExpenseBilling.aspx', 'Time Expense Billing', 134, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (130, 3, N'22300230', N'ProjectAdmin', 'TimeBillingWorksheet.aspx', 'Time Billing Worksheet', 134, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (131, 3, N'22300231', N'ProjectAdmin', 'ExpenseBillingWorksheet.aspx', 'Expense Billing Worksheet', 134, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (132, 6, N'22300227', N'Reports', 'AccountTimeExpenseBillingReport.aspx', 'Invoice Report', 134, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (133, 3, N'22300226', N'ProjectAdmin', 'AccountInvoiceForm.aspx', 'Account Invoice Form', 134, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (134, 3, N'22300225', N'ProjectAdmin', 'TimeExpenseBillingMain.aspx', 'Billing', 34, 1, 1, NULL, NULL, NULL, 1, 1, NULL, NULL, NULL, NULL)
END
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'

UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=12 WHERE [SystemReportFilterMappingId]='16550300-a599-4241-a0b4-8ecc9f02637a'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=4 WHERE [SystemReportFilterMappingId]='ec7b0303-64b2-48ce-ba4f-ca11bf9828d3'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=5 WHERE [SystemReportFilterMappingId]='72854528-d178-4f3f-9706-bb961494a89e'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=12 WHERE [SystemReportFilterMappingId]='36082f3f-c35d-4fd6-8d5c-29e0e12a8489'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=11 WHERE [SystemReportFilterMappingId]='a2c3763f-7718-413b-b3ba-ecc6da558916'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=9 WHERE [SystemReportFilterMappingId]='0641d840-c376-4dbc-a4a5-26c8c161f5f6'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=11 WHERE [SystemReportFilterMappingId]='91d39141-a8e3-491f-a8e0-29c6f7923a2d'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='040adb46-8f90-451b-a8f8-53022a151d50'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=13 WHERE [SystemReportFilterMappingId]='ba79286f-6c4f-4b6e-a95b-a91365494cb2'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='460a8b81-1b09-4081-b955-26be4cbbc17e'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=9 WHERE [SystemReportFilterMappingId]='cf407089-f92f-4924-9352-796769259ff5'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='eb410d8f-bffb-4b61-b7c1-56356e1a0acb'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=15 WHERE [SystemReportFilterMappingId]='b10113af-d36f-42aa-bc23-56cb98be5aed'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=10 WHERE [SystemReportFilterMappingId]='812f1dba-47fd-4aaf-bc38-a6afb930e0fc'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=4 WHERE [SystemReportFilterMappingId]='921042be-fe69-4e85-8a3d-d2d960c712cb'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=11 WHERE [SystemReportFilterMappingId]='00ded0d1-06a4-48a8-921d-41d134d06065'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=12 WHERE [SystemReportFilterMappingId]='8cd491d6-5339-403d-9d22-dc07469ebee0'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=14 WHERE [SystemReportFilterMappingId]='196f08f1-daff-406e-86e8-fbc2bc7514a7'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=6 WHERE [SystemReportFilterMappingId]='46cacdf6-19a5-4bab-852f-7841b449dc26'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=13 WHERE [SystemReportFilterMappingId]='c633f4fa-0039-44aa-8838-acbb6676c6d2'

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'

UPDATE [dbo].[SystemReportPermission] SET [AllowOwnApproval]=1 WHERE [SystemReportPermissionId]='d073e41b-51d3-4a6d-943f-7ac12fbaf1ba'
UPDATE [dbo].[SystemReportPermission] SET [AllowOwnApproval]=1 WHERE [SystemReportPermissionId]='84a38deb-31c4-4bc0-9284-3d702ac0058d'

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [IsAllowAdd]=1, [IsAllowDelete]=1, [IsAllowList]=1 WHERE [SystemSecurityCategoryPageId]=13

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = 'ca7cbd0b-b3ce-419c-81f7-9502b68c74f8')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ca7cbd0b-b3ce-419c-81f7-9502b68c74f8', '3a080202-6842-4eca-8c79-a945978810b4', N'InvoiceDate', 120, 0, NULL, NULL, 206, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Invoice Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('baae2f19-2c86-4b3b-ab4a-24b160937405', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'InvoiceNumber', 120, 0, NULL, NULL, 204, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Invoice No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a2ba3c2f-5ecf-4261-bfa4-e4478d6788b3', '3a080202-6842-4eca-8c79-a945978810b4', N'InvoiceNumber', 120, 0, NULL, NULL, 205, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Invoice No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d1330fda-32bb-4e00-9097-f17e0983219b', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'InvoiceDate', 120, 0, NULL, NULL, 205, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Invoice Date', 0, 0)
END

GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] NOCHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'
if not exists(Select * from [dbo].[AccountReport] where AccountReportId = '4213572e-a971-406d-a24d-ba95d883a20c')
BEGIN
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName], [ReportOrder]) VALUES ('4213572e-a971-406d-a24d-ba95d883a20c', 'f69aedb2-1ccf-4845-9a1b-75830e69435f', N'Invoice Summary Report', N'Summary of Invoice Report.', '/Images/AttendanceDetailReport.gif', NULL, NULL, NULL, 0, NULL, 7)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'
if not exists(Select * from [dbo].[SystemReportPermission] where SystemReportPermissionId = '822f2a85-c4a4-44d8-83b0-9a89ab5c0f88')
BEGIN
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('822f2a85-c4a4-44d8-83b0-9a89ab5c0f88', '4213572e-a971-406d-a24d-ba95d883a20c', 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('e7e0a7a7-835b-4fc8-beaf-8d011bfa2762', '4213572e-a971-406d-a24d-ba95d883a20c', 101, 1, NULL, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('40546af8-c531-4400-a639-4cf5f1a0556b', '4213572e-a971-406d-a24d-ba95d883a20c', 100, 1, NULL, NULL, NULL, 1, NULL, NULL, NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
if not exists(Select * from [dbo].[AccountReportColumn] where AccountReportColumnId = '5b66fe08-df1f-4e09-adad-8b59bb61d075')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('5b66fe08-df1f-4e09-adad-8b59bb61d075', '4213572e-a971-406d-a24d-ba95d883a20c', N'Net Amount (BaseCurrency)', '472af1d6-daca-4932-9386-f301bb81a350', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('9bb99809-d273-4132-a4ed-d8dfa349f8e5', '4213572e-a971-406d-a24d-ba95d883a20c', N'Invoice No.', 'ded0a3a7-1838-4bcc-a9e7-65ebde92c388', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('16018d90-ee4c-499d-9387-c678c0f96054', '4213572e-a971-406d-a24d-ba95d883a20c', N'Grand Total', 'eff26df3-260b-4d40-baf1-51dd7a920ba1', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('49b22df0-2bb6-4930-9833-b65588d30c13', '4213572e-a971-406d-a24d-ba95d883a20c', N'Invoice Date', 'b18ec28f-c579-44ae-b8be-847d9dbfdb24', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('e6a444f4-a0d0-4a1c-b189-bbf0312c4ae8', '4213572e-a971-406d-a24d-ba95d883a20c', N'Description', 'b5dfb676-c3c5-40cc-9a86-adb1490b45bd', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('1a1736fe-0c08-4987-9ab6-b6aea34a6277', '4213572e-a971-406d-a24d-ba95d883a20c', N'Sub Total', '4ec2a9a7-d4ec-4776-84f9-d74b6f7e1d5e', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('bb51acfe-8ca7-4e20-b28a-852a8da0c60f', '4213572e-a971-406d-a24d-ba95d883a20c', N'Bill Date', '04e37f92-7d64-4aef-a287-7d6fc8fd1808', 3, NULL, NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================

Print 'Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]'
if not exists(Select * from [dbo].[AccountReportDataSourceMapping] where AccountReportDataSourceMappingId = '1f009475-69b1-43c5-9f00-e7a680f640d8')
BEGIN
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('1f009475-69b1-43c5-9f00-e7a680f640d8', '4213572e-a971-406d-a24d-ba95d883a20c', '2fd0b58b-ea6e-48c6-9a19-f970b8ec3636')
END
GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================

Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] CHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

GO
-- Alter Column EMailAddress on AccountParty
Print 'Alter Column EMailAddress on AccountParty'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='EMailAddress' AND TABLE_NAME='AccountParty'))
ALTER TABLE [dbo].[AccountParty]
	 ALTER COLUMN [EMailAddress] nvarchar(100) NULL

GO

-- Drop View vueAccountEmployeeTimeEntryApprovalPending
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPending]
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPending
Print 'Create View vueAccountEmployeeTimeEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPending
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, MAX(dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalId) 
                      AS TimeSheetApprovalId, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, dbo.vueAccountEmployeeTimeEntryApproval.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, dbo.vueAccountEmployeeTimeEntryApproval.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, dbo.vueAccountEmployeeTimeEntryApproval.Comments, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsReject, dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountId, dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Description, dbo.vueAccountEmployeeTimeEntryApproval.Submitted, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId, dbo.vueAccountEmployeeTimeEntryApproval.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsBillable, dbo.vueAccountEmployeeTimeEntryApproval.BillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.NonBillableTotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.Rejected, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId
FROM         dbo.vueAccountEmployeeTimeEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId
WHERE     (dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueTimesheetApprovalSequence
                            WHERE      (TimeSheetApprovalId IS NULL) AND 
                                                   (AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId))) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Approved = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.Submitted = 1) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Rejected IS NULL OR
                      dbo.vueAccountEmployeeTimeEntryApproval.Rejected = 0) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId IS NOT NULL)
GROUP BY dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, dbo.vueAccountEmployeeTimeEntryApproval.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountApproverType.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, dbo.vueAccountEmployeeTimeEntryApproval.Description, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId, dbo.vueAccountEmployeeTimeEntryApproval.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsBillable, dbo.vueAccountEmployeeTimeEntryApproval.BillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.NonBillableTotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.Rejected, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Approved, dbo.vueAccountEmployeeTimeEntryApproval.Submitted, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId'
GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO

-- Add Column ShowDescriptionInWeekView to AccountPreferences
Print 'Add Column ShowDescriptionInWeekView to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ShowDescriptionInWeekView' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [ShowDescriptionInWeekView] bit NULL
GO

-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode, 
                      dbo.AccountPreferences.PageSize, dbo.AccountEmployee.TimeZoneId AS EmployeeTimeZoneId, dbo.AccountEmployee.TerminationDate, 
                      dbo.AccountEmployee.StatusId, dbo.AccountEmployee.JobTitle, dbo.AccountEmployee.EmployeePayTypeId, dbo.AccountEmployee.HiredDate, 
                      dbo.AccountEmployee.AccountWorkingDayTypeId, dbo.AccountWorkingDayType.AccountWorkingDayType, dbo.AccountWorkingDayType.HoursPerDay, 
                      dbo.AccountWorkingDayType.WeekStartDay AS EmployeeWeekStartDay, dbo.AccountPreferences.ShowClientInTimesheet, 
                      dbo.AccountWorkingDayType.MinimumHoursPerDay, dbo.AccountWorkingDayType.MaximumHoursPerDay, 
                      dbo.AccountWorkingDayType.MinimumHoursPerWeek, dbo.AccountWorkingDayType.MaximumHoursPerWeek, 
                      dbo.AccountPreferences.ShowDescriptionInWeekView
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountWorkingDayType ON 
                      dbo.AccountEmployee.AccountWorkingDayTypeId = dbo.AccountWorkingDayType.AccountWorkingDayTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Drop View vueAccountTimeExpenseBillingTimesheet
Print 'Drop View vueAccountTimeExpenseBillingTimesheet'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheet' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountTimeExpenseBillingTimesheet]
GO
-- Drop View vueAccountTimeExpenseBillingExpense
Print 'Drop View vueAccountTimeExpenseBillingExpense'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountTimeExpenseBillingExpense]
GO
-- Create View vueAccountTimeExpenseBillingTimesheet
Print 'Create View vueAccountTimeExpenseBillingTimesheet'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingTimesheet
AS
SELECT     dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountTimeExpenseBillingTimesheet.Description, 
                      dbo.AccountEmployeeTimeEntry.Approved, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 AS TotalMinutes, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) / 60 AS TotalHours, 
                      dbo.AccountEmployeeTimeEntry.BillingRate * DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) AS Amount, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountTimeExpenseBillingTimesheet.BillHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.ActualBillingRate, dbo.AccountTimeExpenseBillingTimesheet.TotalAmount, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId1, dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId2, 
                      dbo.AccountTimeExpenseBilling.SubTotal, dbo.AccountTimeExpenseBilling.TaxCode1, dbo.AccountTimeExpenseBilling.TaxCode2, 
                      dbo.AccountTimeExpenseBilling.GrandTotal, dbo.AccountParty.PartyNick, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, 
                      dbo.AccountEmployeeTimeEntry.Billed
FROM         dbo.AccountTimeExpenseBillingTimesheet RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId = dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId
                       AND dbo.AccountTimeExpenseBillingTimesheet.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId
WHERE     (dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.BillingRate <> 0.0000) AND 
                      (dbo.AccountEmployeeTimeEntry.BillingRate IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.Approved = 1)'
GO
-- Create View vueAccountTimeExpenseBillingExpense
Print 'Create View vueAccountTimeExpenseBillingExpense'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingExpense
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountExpenseType.ExpenseType, SUM(dbo.AccountExpenseEntry.Amount) AS Amount, dbo.AccountExpenseEntry.Billed, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountProject.AccountClientId, dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpense.AccountExpenseId, 
                      dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountExpenseEntry.Approved, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId
FROM         dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId INNER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId = dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId AND
                       dbo.AccountTimeExpenseBillingExpense.AccountProjectId = dbo.AccountExpenseEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingExpense.AccountExpenseId = dbo.AccountExpenseEntry.AccountExpenseId
WHERE     (dbo.AccountExpenseEntry.Approved = 1)
GROUP BY dbo.AccountProject.ProjectName, dbo.AccountProject.AccountProjectId, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountExpenseType.ExpenseType, dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpense.AccountExpenseId, 
                      dbo.AccountExpenseEntry.Billed, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountProject.AccountClientId, 
                      dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountExpenseEntry.Approved, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId'
--End 3.0.7
--Start 3.0.8
GO
if exists(Select * from systemdata where Version = '3.0.7')
BEGIN
delete from  accountemailnotificationPreference where AccountEMployeeId in 
(Select AccountEmployeeId from accountemployee where employeetypeid = 2) and SystemEmailNotificationId = 30
END
GO
-- =======================================================
-- Update Version In SystemData Table
-- =======================================================
Update SystemData Set Version = '3.0.8' Where Version = '3.0.7' And SystemDataId = 1

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'

UPDATE [dbo].[SystemReportDataSourceField] SET [DefaultAvailable]=1 WHERE [SystemReportDataSourceFieldId]='fcdd316e-0948-4738-8081-5a27cabfcd4e'
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportGroup] WHERE [AccountReportId] = '4213572e-a971-406d-a24d-ba95d883a20c')
BEGIN
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('2fed3b90-05e7-4a4a-981c-15c196daa19b', '4213572e-a971-406d-a24d-ba95d883a20c', N'PartyName', N'Client Name', 0, '5d56121d-e7a9-4c7b-889e-26852aca244e')
END

GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId] = '3b073584-eb6f-45a9-9917-4878ebb0e8d4')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('3b073584-eb6f-45a9-9917-4878ebb0e8d4', '4213572e-a971-406d-a24d-ba95d883a20c', N'Paid', 'fcdd316e-0948-4738-8081-5a27cabfcd4e', 8, NULL, NULL)
END
GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'

UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=2 WHERE [SystemReportFilterMappingId]='9d53dd18-4e97-4105-8f60-c62217eab5b8'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=3 WHERE [SystemReportFilterMappingId]='7b709f5d-f9d6-42a9-9d29-d018562e293b'

GO
if exists(Select * from systemdata where Version = '3.0.8')
BEGIN
Update [dbo].[AccountTimeExpenseBillingTimesheet] SET AccountTaxCodeId1 = NULL WHERE [AccountTaxCodeId1]=0
Update [dbo].[AccountTimeExpenseBillingTimesheet] SET AccountTaxCodeId2 = NULL WHERE [AccountTaxCodeId2]=0
END
GO
if exists(Select * from systemdata where Version = '3.0.8')
BEGIN
Delete from AccountTimeExpenseBilling
Where AccountClientId not in (select AccountPartyId from AccountParty)
End
GO
if exists(Select * from systemdata where Version = '3.0.8')
BEGIN
Delete from AccountTimeExpenseBilling
Where AccountCurrencyId not in (select AccountCurrencyId from Accountcurrency)
END
GO
if exists(Select * from systemdata where Version = '3.0.8')
BEGIN
Delete from AccountTimeExpenseBillingTimesheet
Where AccountTaxCodeId1 not in (select AccountTaxCodeId from AccountTaxCode)
END
GO
if exists(Select * from systemdata where Version = '3.0.8')
BEGIN
Delete from AccountTimeExpenseBillingTimesheet
Where AccountTaxCodeId2 not in (select AccountTaxCodeId from AccountTaxCode)
END
GO
-- =======================================================
-- Update Version In SystemData Table
-- =======================================================
Update SystemData Set Version = '3.0.9' Where Version = '3.0.8' And SystemDataId = 1
GO
--delete from AccountTimeExpenseBillingTimesheet where project not exists
if exists(Select * from systemdata where Version = '3.0.9')
BEGIN
Delete from AccountTimeExpenseBillingTimesheet
Where AccountProjectId not in (select AccountProjectId from AccountProject)
END
GO
--delete from AccountTimeExpenseBillingTimesheet where project task not exists
if exists(Select * from systemdata where Version = '3.0.9')
BEGIN
Delete from AccountTimeExpenseBillingTimesheet
Where AccountProjectTaskId not in (select AccountProjectTaskId from AccountProjectTask)
END
GO
--delete from AccountTimeExpenseBillingExpense where project not exists
if exists(Select * from systemdata where Version = '3.0.9')
BEGIN
Delete from AccountTimeExpenseBillingExpense
Where AccountProjectId not in (select AccountProjectId from AccountProject)
END
GO
-- =======================================================
-- Update Version In SystemData Table
-- =======================================================
Update SystemData Set Version = '3.1.0' Where Version = '3.0.9' And SystemDataId = 1
GO
-- Create Index IXXX_AccountProjectId on AccountTimeExpenseBillingExpense
Print 'Create Index IXXX_AccountProjectId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountProjectId'))
CREATE INDEX [IXXX_AccountProjectId]
	ON [dbo].[AccountTimeExpenseBillingExpense] ([AccountProjectId])
GO
-- Create Index IXXX_AccountExpenseTypeId on AccountTimeExpenseBillingExpense
Print 'Create Index IXXX_AccountExpenseTypeId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountExpenseTypeId'))
CREATE INDEX [IXXX_AccountExpenseTypeId]
	ON [dbo].[AccountTimeExpenseBillingExpense] ([AccountExpenseTypeId])
GO
-- Create Index IXXX_AccountExpenseId on AccountTimeExpenseBillingExpense
Print 'Create Index IXXX_AccountExpenseId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountExpenseId'))
CREATE INDEX [IXXX_AccountExpenseId]
	ON [dbo].[AccountTimeExpenseBillingExpense] ([AccountExpenseId])
GO
-- Create Index IX_AccountClientId on AccountTimeExpenseBilling
Print 'Create Index IX_AccountClientId on AccountTimeExpenseBilling'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBilling' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBilling]') AND name = N'IX_AccountClientId'))
CREATE INDEX [IX_AccountClientId]
	ON [dbo].[AccountTimeExpenseBilling] ([AccountClientId])
GO
-- Create Index IX_AccountCurrencyId on AccountTimeExpenseBilling
Print 'Create Index IX_AccountCurrencyId on AccountTimeExpenseBilling'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBilling' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBilling]') AND name = N'IX_AccountCurrencyId'))
CREATE INDEX [IX_AccountCurrencyId]
	ON [dbo].[AccountTimeExpenseBilling] ([AccountCurrencyId])
GO


-- Drop Index IX_AccountTimeExpenseBillingTimesheet from AccountTimeExpenseBillingTimesheet
Print 'Drop Index IX_AccountTimeExpenseBillingTimesheet from AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IX_AccountTimeExpenseBillingTimesheet'))
DROP INDEX [dbo].[AccountTimeExpenseBillingTimesheet].[IX_AccountTimeExpenseBillingTimesheet]
GO
-- Alter Column AccountProjectTaskId on AccountTimeExpenseBillingTimesheet
Print 'Alter Column AccountProjectTaskId on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectTaskId' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
	 ALTER COLUMN [AccountProjectTaskId] bigint NULL
GO
-- Create Index IXX_AccountProjectId on AccountTimeExpenseBillingTimesheet
Print 'Create Index IXX_AccountProjectId on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IXX_AccountProjectId'))
CREATE INDEX [IXX_AccountProjectId]
	ON [dbo].[AccountTimeExpenseBillingTimesheet] ([AccountProjectId])
GO
-- Create Index IXX_AccountTaxCodeId on AccountTimeExpenseBillingTimesheet
Print 'Create Index IXX_AccountTaxCodeId on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IXX_AccountTaxCodeId'))
CREATE INDEX [IXX_AccountTaxCodeId]
	ON [dbo].[AccountTimeExpenseBillingTimesheet] ([AccountTaxCodeId1])
GO
-- Create Index IXX_AccountTaxCodeId2 on AccountTimeExpenseBillingTimesheet
Print 'Create Index IXX_AccountTaxCodeId2 on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IXX_AccountTaxCodeId2'))
CREATE INDEX [IXX_AccountTaxCodeId2]
	ON [dbo].[AccountTimeExpenseBillingTimesheet] ([AccountTaxCodeId2])
GO
-- Create Index IX_AccountTimeExpenseBillingTimesheet on AccountTimeExpenseBillingTimesheet
Print 'Create Index IX_AccountTimeExpenseBillingTimesheet on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IX_AccountTimeExpenseBillingTimesheet'))
CREATE INDEX [IX_AccountTimeExpenseBillingTimesheet]
	ON [dbo].[AccountTimeExpenseBillingTimesheet] ([AccountProjectTaskId])
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProject on AccountTimeExpenseBillingTimesheet
Print 'Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProject on AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountProject' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask on AccountTimeExpenseBillingTimesheet
Print 'Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask on AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask]
			FOREIGN KEY ([AccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode on AccountTimeExpenseBillingTimesheet
Print 'Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode on AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode]
			FOREIGN KEY ([AccountTaxCodeId1]) REFERENCES [dbo].[AccountTaxCode] ([AccountTaxCodeId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode1 on AccountTimeExpenseBillingTimesheet
Print 'Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode1 on AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode1' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountTaxCode1]
			FOREIGN KEY ([AccountTaxCodeId2]) REFERENCES [dbo].[AccountTaxCode] ([AccountTaxCodeId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBilling_AccountCurrency on AccountTimeExpenseBilling
Print 'Create Foreign Key FK_AccountTimeExpenseBilling_AccountCurrency on AccountTimeExpenseBilling'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBilling_AccountCurrency' AND TABLE_NAME='AccountTimeExpenseBilling')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBilling]
			ADD CONSTRAINT [FK_AccountTimeExpenseBilling_AccountCurrency]
			FOREIGN KEY ([AccountCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBilling_AccountParty on AccountTimeExpenseBilling
Print 'Create Foreign Key FK_AccountTimeExpenseBilling_AccountParty on AccountTimeExpenseBilling'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBilling_AccountParty' AND TABLE_NAME='AccountTimeExpenseBilling')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBilling]
			ADD CONSTRAINT [FK_AccountTimeExpenseBilling_AccountParty]
			FOREIGN KEY ([AccountClientId]) REFERENCES [dbo].[AccountParty] ([AccountPartyId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpense on AccountTimeExpenseBillingExpense
Print 'Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpense on AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountExpense' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountExpense]
			FOREIGN KEY ([AccountExpenseId]) REFERENCES [dbo].[AccountExpense] ([AccountExpenseId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpenseType on AccountTimeExpenseBillingExpense
Print 'Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpenseType on AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountExpenseType' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountExpenseType]
			FOREIGN KEY ([AccountExpenseTypeId]) REFERENCES [dbo].[AccountExpenseType] ([AccountExpenseTypeId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountProject on AccountTimeExpenseBillingExpense
Print 'Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountProject on AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountProject' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
END

GO
-- Drop Foreign Key FK_AccountProjectTaskEmployee_AccountEmployee from AccountProjectTaskEmployee
Print 'Drop Foreign Key FK_AccountProjectTaskEmployee_AccountEmployee from AccountProjectTaskEmployee'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTaskEmployee_AccountEmployee' AND TABLE_NAME='AccountProjectTaskEmployee')
BEGIN
	ALTER TABLE [dbo].[AccountProjectTaskEmployee] DROP CONSTRAINT [FK_AccountProjectTaskEmployee_AccountEmployee]
END
GO
-- Create Foreign Key FK_AccountProjectTaskEmployee_AccountEmployee on AccountProjectTaskEmployee
Print 'Create Foreign Key FK_AccountProjectTaskEmployee_AccountEmployee on AccountProjectTaskEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTaskEmployee_AccountEmployee' AND TABLE_NAME='AccountProjectTaskEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTaskEmployee]
			ADD CONSTRAINT [FK_AccountProjectTaskEmployee_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
			ON DELETE CASCADE
END

GO
-- Drop View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Drop View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryWithLastStatus]
GO
-- Create View vueAccountEmployeeTimeEntryWithLastStatus
Print 'Create View vueAccountEmployeeTimeEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithLastStatus
AS
SELECT     dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.AccountEmployeeId, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, 
                      dbo.AccountEmployeeTimeEntry.Description, dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsApproved, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.IsReject, 
                      dbo.AccountEmployeeTimeEntry.AccountPartyId, dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployeeTimeEntry.AccountWorkTypeId, 
                      dbo.AccountEmployeeTimeEntry.AccountCostCenterId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedByEmployeeId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, dbo.AccountCostCenter.AccountCostCenter, 
                      dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId, dbo.AccountParty.PartyName, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyNick, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
FROM         dbo.AccountParty INNER JOIN
                      dbo.AccountProject ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId RIGHT OUTER JOIN
                      dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId'





GO
-- Drop View vueAccountTimeExpenseBillingTimesheetForEdit
Print 'Drop View vueAccountTimeExpenseBillingTimesheetForEdit'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheetForEdit' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountTimeExpenseBillingTimesheetForEdit]

GO

-- Drop Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProject from AccountTimeExpenseBillingTimesheet
Print 'Drop Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProject from AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountProject' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
---------------IF OBJECT_ID(N'[FK_AccountTimeExpenseBillingTimesheet_AccountProject]') IS NOT NULL
BEGIN
	ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet] DROP CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountProject]
END

GO

-- Drop Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask from AccountTimeExpenseBillingTimesheet
Print 'Drop Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask from AccountTimeExpenseBillingTimesheet'
GO
----IF OBJECT_ID(N'[FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask]') IS NOT NULL
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
	ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet] DROP CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask]
END

GO

-- Drop Index IX_AccountTimeExpenseBillingTimesheet from AccountTimeExpenseBillingTimesheet
Print 'Drop Index IX_AccountTimeExpenseBillingTimesheet from AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IX_AccountTimeExpenseBillingTimesheet'))
DROP INDEX [dbo].[AccountTimeExpenseBillingTimesheet].[IX_AccountTimeExpenseBillingTimesheet]

GO

-- Drop Index IXX_AccountProjectId from AccountTimeExpenseBillingTimesheet
Print 'Drop Index IXX_AccountProjectId from AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IXX_AccountProjectId'))
DROP INDEX [dbo].[AccountTimeExpenseBillingTimesheet].[IXX_AccountProjectId]

GO

-- Drop Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpense from AccountTimeExpenseBillingExpense
Print 'Drop Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpense from AccountTimeExpenseBillingExpense'
GO
----IF OBJECT_ID(N'[FK_AccountTimeExpenseBillingExpense_AccountExpense]') IS NOT NULL
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountExpense' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
	ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense] DROP CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountExpense]
END

GO

-- Drop Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpenseType from AccountTimeExpenseBillingExpense
Print 'Drop Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpenseType from AccountTimeExpenseBillingExpense'
GO
----IF OBJECT_ID(N'[FK_AccountTimeExpenseBillingExpense_AccountExpenseType]') IS NOT NULL
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountExpenseType' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
	ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense] DROP CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountExpenseType]
END

GO

-- Drop Foreign Key FK_AccountTimeExpenseBillingExpense_AccountProject from AccountTimeExpenseBillingExpense
Print 'Drop Foreign Key FK_AccountTimeExpenseBillingExpense_AccountProject from AccountTimeExpenseBillingExpense'
GO
-----IF OBJECT_ID(N'[FK_AccountTimeExpenseBillingExpense_AccountProject]') IS NOT NULL
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountProject' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
	ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense] DROP CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountProject]
END

GO

-- Drop Index IXXX_AccountExpenseId from AccountTimeExpenseBillingExpense
Print 'Drop Index IXXX_AccountExpenseId from AccountTimeExpenseBillingExpense'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountExpenseId'))
DROP INDEX [dbo].[AccountTimeExpenseBillingExpense].[IXXX_AccountExpenseId]

GO

-- Drop Index IXXX_AccountExpenseTypeId from AccountTimeExpenseBillingExpense
Print 'Drop Index IXXX_AccountExpenseTypeId from AccountTimeExpenseBillingExpense'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountExpenseTypeId'))
DROP INDEX [dbo].[AccountTimeExpenseBillingExpense].[IXXX_AccountExpenseTypeId]

GO

-- Drop Index IXXX_AccountProjectId from AccountTimeExpenseBillingExpense
Print 'Drop Index IXXX_AccountProjectId from AccountTimeExpenseBillingExpense'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountProjectId'))
DROP INDEX [dbo].[AccountTimeExpenseBillingExpense].[IXXX_AccountProjectId]

GO

-- Alter Column AccountExpenseTypeId on AccountTimeExpenseBillingExpense
Print 'Alter Column AccountExpenseTypeId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountExpenseTypeId' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	 ALTER COLUMN [AccountExpenseTypeId] int NULL

GO

-- Alter Column AccountExpenseId on AccountTimeExpenseBillingExpense
Print 'Alter Column AccountExpenseId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountExpenseId' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	 ALTER COLUMN [AccountExpenseId] int NULL

GO

-- Alter Column AccountProjectId on AccountTimeExpenseBillingExpense
Print 'Alter Column AccountProjectId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectId' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	 ALTER COLUMN [AccountProjectId] int NULL

GO

-- Create Index IXXX_AccountProjectId on AccountTimeExpenseBillingExpense
Print 'Create Index IXXX_AccountProjectId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountProjectId'))
CREATE INDEX [IXXX_AccountProjectId]
	ON [dbo].[AccountTimeExpenseBillingExpense] ([AccountProjectId])

GO

-- Create Index IXXX_AccountExpenseTypeId on AccountTimeExpenseBillingExpense
Print 'Create Index IXXX_AccountExpenseTypeId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountExpenseTypeId'))
CREATE INDEX [IXXX_AccountExpenseTypeId]
	ON [dbo].[AccountTimeExpenseBillingExpense] ([AccountExpenseTypeId])

GO

-- Create Index IXXX_AccountExpenseId on AccountTimeExpenseBillingExpense
Print 'Create Index IXXX_AccountExpenseId on AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingExpense]') AND name = N'IXXX_AccountExpenseId'))
CREATE INDEX [IXXX_AccountExpenseId]
	ON [dbo].[AccountTimeExpenseBillingExpense] ([AccountExpenseId])

GO

-- Alter Column AccountProjectId on AccountTimeExpenseBillingTimesheet
Print 'Alter Column AccountProjectId on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectId' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
	 ALTER COLUMN [AccountProjectId] int NULL
GO

-- Create Index IXX_AccountProjectId on AccountTimeExpenseBillingTimesheet
Print 'Create Index IXX_AccountProjectId on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IXX_AccountProjectId'))
CREATE INDEX [IXX_AccountProjectId]
	ON [dbo].[AccountTimeExpenseBillingTimesheet] ([AccountProjectId])

GO

-- Create Index IX_AccountTimeExpenseBillingTimesheet on AccountTimeExpenseBillingTimesheet
Print 'Create Index IX_AccountTimeExpenseBillingTimesheet on AccountTimeExpenseBillingTimesheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingTimesheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTimeExpenseBillingTimesheet]') AND name = N'IX_AccountTimeExpenseBillingTimesheet'))
CREATE INDEX [IX_AccountTimeExpenseBillingTimesheet]
	ON [dbo].[AccountTimeExpenseBillingTimesheet] ([AccountProjectTaskId])

GO

-- Create View vueAccountTimeExpenseBillingTimesheetForEdit
Print 'Create View vueAccountTimeExpenseBillingTimesheetForEdit'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheetForEdit' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingTimesheetForEdit
AS
SELECT     dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId, dbo.AccountTimeExpenseBillingTimesheet.Description, 
                      dbo.AccountTimeExpenseBillingTimesheet.BillingRate, dbo.AccountTimeExpenseBillingTimesheet.BillHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.TotalAmount, dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId1, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId2, dbo.AccountTimeExpenseBillingTimesheet.TaxCode2, 
                      dbo.AccountTimeExpenseBillingTimesheet.TaxCode1, dbo.AccountTimeExpenseBillingTimesheet.ActualHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.ActualBillingRate, dbo.AccountParty.PartyName, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBilling.InvoiceNumber, 
                      dbo.AccountCurrencyExchangeRate.ExchangeRate
FROM         dbo.AccountCurrency LEFT OUTER JOIN
                      dbo.AccountCurrencyExchangeRate ON 
                      dbo.AccountCurrency.AccountCurrencyExchangeRateId = dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId RIGHT OUTER JOIN
                      dbo.AccountProjectTask RIGHT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingTimesheet INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId INNER JOIN
                      dbo.AccountParty ON dbo.AccountTimeExpenseBilling.AccountClientId = dbo.AccountParty.AccountPartyId AND 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountId = dbo.AccountParty.AccountId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountTimeExpenseBillingTimesheet.AccountProjectId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProject on AccountTimeExpenseBillingTimesheet
Print 'Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProject on AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountProject' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask on AccountTimeExpenseBillingTimesheet
Print 'Create Foreign Key FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask on AccountTimeExpenseBillingTimesheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask' AND TABLE_NAME='AccountTimeExpenseBillingTimesheet')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingTimesheet]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingTimesheet_AccountProjectTask]
			FOREIGN KEY ([AccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpense on AccountTimeExpenseBillingExpense
Print 'Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpense on AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountExpense' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountExpense]
			FOREIGN KEY ([AccountExpenseId]) REFERENCES [dbo].[AccountExpense] ([AccountExpenseId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpenseType on AccountTimeExpenseBillingExpense
Print 'Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountExpenseType on AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountExpenseType' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountExpenseType]
			FOREIGN KEY ([AccountExpenseTypeId]) REFERENCES [dbo].[AccountExpenseType] ([AccountExpenseTypeId])
END
GO
-- Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountProject on AccountTimeExpenseBillingExpense
Print 'Create Foreign Key FK_AccountTimeExpenseBillingExpense_AccountProject on AccountTimeExpenseBillingExpense'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountTimeExpenseBillingExpense_AccountProject' AND TABLE_NAME='AccountTimeExpenseBillingExpense')
BEGIN
		ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
			ADD CONSTRAINT [FK_AccountTimeExpenseBillingExpense_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
END
--End 3.0.8
GO
Delete From AccountEmployeeTimeEntryApprovalProject
Where AccountEmployeeTimeEntryApprovalProjectId Not In (Select AccountEmployeeTimeEntryApprovalProjectId From AccountEmployeeTimeEntry
Where AccountEmployeeTimeEntryApprovalProjectId Is Not NULL)
GO
Delete From AccountEmployeeTimeEntryPeriod
Where AccountEmployeeTimeEntryPeriodId Not In (Select AccountEmployeeTimeEntryPeriodId From AccountEmployeeTimeEntry
Where AccountEmployeeTimeEntryPeriodId Is Not NULL) And AccountEmployeeTimeEntryPeriodId Not In (Select AccountEmployeeTimeEntryPeriodId
From AccountEmployeeTimeEntryApprovalProject)
GO
-- Drop View vueAccountEmployeeTimeEntryPeriodApprovalDetail
Print 'Drop View vueAccountEmployeeTimeEntryPeriodApprovalDetail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPeriodApprovalDetail' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryPeriodApprovalDetail]
GO

-- Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
END
GO

-- Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
END
GO

-- Drop View vueAccountEmployeeTimeEntryApproval
Print 'Drop View vueAccountEmployeeTimeEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApproval]
GO

-- Create Index IX_Username on AccountEmployee
Print 'Create Index IX_Username on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_Username'))
CREATE INDEX [IX_Username]
	ON [dbo].[AccountEmployee] ([Username])
GO

-- Create View vueAccountEmployeeTimeEntryApproval
Print 'Create View vueAccountEmployeeTimeEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntry.AccountEmployeeId AS TimeEntryAccountEmployeeId, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployee.EmployeeManagerId, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, dbo.AccountProjectTask.IsBillable, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 1 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS BillableTotalMinutes, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 0 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) WHEN dbo.AccountProjectTask.IsBillable IS NULL THEN DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS NonBillableTotalMinutes, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId INNER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntry.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId AND
                       dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId AND 
                      dbo.AccountEmployeeTimeEntryApproval.PreviousStatus <> 1 AND dbo.AccountEmployeeTimeEntryApproval.IsReject <> 1'
GO

-- Create Index IX_AccountEmployeeTimeEntryPeriod_TimeEntryStartDate on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeTimeEntryPeriod_TimeEntryStartDate on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeTimeEntryPeriod_TimeEntryStartDate'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriod_TimeEntryStartDate]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([TimeEntryStartDate])
GO

-- Create Index IX_AccountEmployeeTimeEntryPeriod_TimeEntryEndDate on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeTimeEntryPeriod_TimeEntryEndDate on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeTimeEntryPeriod_TimeEntryEndDate'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriod_TimeEntryEndDate]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([TimeEntryEndDate])
GO

-- Create Index IX_AccountEmployeeTimeEntryPeriod_Approved on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeTimeEntryPeriod_Approved on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeTimeEntryPeriod_Approved'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriod_Approved]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([Approved])
GO

-- Create Index IX_AccountEmployeeTimeEntryPeriod_InApproval on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeTimeEntryPeriod_InApproval on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeTimeEntryPeriod_InApproval'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriod_InApproval]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([InApproval])
GO

-- Create Index IX_AccountEmployeeTimeEntryPeriod_Rejected on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeTimeEntryPeriod_Rejected on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeTimeEntryPeriod_Rejected'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriod_Rejected]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([Rejected])
GO

-- Create Index IX_AccountEmployeeTimeEntryPeriod_Submitted on AccountEmployeeTimeEntryPeriod
Print 'Create Index IX_AccountEmployeeTimeEntryPeriod_Submitted on AccountEmployeeTimeEntryPeriod'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryPeriod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryPeriod]') AND name = N'IX_AccountEmployeeTimeEntryPeriod_Submitted'))
CREATE INDEX [IX_AccountEmployeeTimeEntryPeriod_Submitted]
	ON [dbo].[AccountEmployeeTimeEntryPeriod] ([Submitted])
GO

-- Create View vueAccountEmployeeTimeEntryPeriodApprovalDetail
Print 'Create View vueAccountEmployeeTimeEntryPeriodApprovalDetail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPeriodApprovalDetail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryPeriodApprovalDetail
AS
SELECT     dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, 
                      dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedOn, dbo.AccountEmployeeTimeEntryApproval.Comments, 
                      dbo.AccountEmployeeTimeEntryApproval.IsReject, dbo.AccountEmployeeTimeEntryApproval.IsApproved, 
                      dbo.SystemApproverType.SystemApproverType, dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS ApproverName, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TimeEntryEmployeeName, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.SubmittedDate, CAST(dbo.AccountEmployeeTimeEntryApproval.ApprovedOn AS nvarchar(20)) AS ApprovalDate, 
                      dbo.AccountEmployeeTimeEntryApproval.BatchId, dbo.AccountEmployeeTimeEntryApprovalProject.Submitted, 
                      dbo.AccountEmployeeTimeEntryApprovalProject.InApproval, dbo.AccountEmployeeTimeEntryApprovalProject.IsRejected, 
                      dbo.AccountEmployeeTimeEntryApprovalProject.Approved, dbo.AccountEmployeeTimeEntryApprovalProject.Rejected
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountEmployeeTimeEntryPeriod ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId INNER
                       JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApprovalProject ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId = dbo.AccountEmployeeTimeEntryApprovalProject.AccountEmployeeTimeEntryApprovalProjectId
                       AND 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApprovalProject.AccountEmployeeTimeEntryPeriodId
                       LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountApprovalPath INNER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId INNER JOIN
                      dbo.SystemApproverType ON dbo.AccountApprovalPath.SystemApproverTypeId = dbo.SystemApproverType.SystemApproverTypeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId AND 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId
                       LEFT OUTER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId
WHERE     (dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId IS NOT NULL) OR
                      (dbo.AccountApprovalType.AccountApprovalTypeId IS NULL)'
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
			ON DELETE CASCADE
END
GO

-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
			ON DELETE CASCADE
END
GO
-- Drop View vueAccountTimeExpenseBillingTimesheetForEdit
Print 'Drop View vueAccountTimeExpenseBillingTimesheetForEdit'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheetForEdit' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountTimeExpenseBillingTimesheetForEdit]
GO
-- Create View vueAccountTimeExpenseBillingTimesheetForEdit
Print 'Create View vueAccountTimeExpenseBillingTimesheetForEdit'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheetForEdit' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingTimesheetForEdit
AS
SELECT     dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId, dbo.AccountTimeExpenseBillingTimesheet.Description, 
                      dbo.AccountTimeExpenseBillingTimesheet.BillingRate, dbo.AccountTimeExpenseBillingTimesheet.BillHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.TotalAmount, dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId1, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId2, dbo.AccountTimeExpenseBillingTimesheet.TaxCode2, 
                      dbo.AccountTimeExpenseBillingTimesheet.TaxCode1, dbo.AccountTimeExpenseBillingTimesheet.ActualHours, 
                      dbo.AccountTimeExpenseBillingTimesheet.ActualBillingRate, dbo.AccountParty.PartyName, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBilling.InvoiceNumber, 
                      dbo.AccountCurrencyExchangeRate.ExchangeRate
FROM         dbo.AccountCurrency LEFT OUTER JOIN
                      dbo.AccountCurrencyExchangeRate ON 
                      dbo.AccountCurrency.AccountCurrencyExchangeRateId = dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingTimesheet INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId INNER JOIN
                      dbo.AccountParty ON dbo.AccountTimeExpenseBilling.AccountClientId = dbo.AccountParty.AccountPartyId AND 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountId = dbo.AccountParty.AccountId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountTimeExpenseBillingTimesheet.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'
GO
-- Add Column MasterAccountStatusId to AccountStatus
Print 'Add Column MasterAccountStatusId to AccountStatus'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MasterAccountStatusId' AND TABLE_NAME='AccountStatus'))
ALTER TABLE [dbo].[AccountStatus]
	ADD [MasterAccountStatusId] int NULL
GO
-- Add Column TimeZoneCode to SystemTimeZone
Print 'Add Column TimeZoneCode to SystemTimeZone'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemTimeZone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TimeZoneCode' AND TABLE_NAME='SystemTimeZone'))
ALTER TABLE [dbo].[SystemTimeZone]
	ADD [TimeZoneCode] nvarchar(50) NULL
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemTimeZone]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemTimeZone]'
if not exists(Select * from [dbo].[SystemTimeZone] where SystemTimeZoneId = 32)
BEGIN
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (32, N'-7.00', N'Chihuahua, La Paz, Mazatlan ', N'Mountain Standard Time (Mexico)')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (33, N'-7.00', N'Arizona', N'US Mountain')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (34, N'-8.00', N'Tijuna, Baja California', N'Pacific Standard Time (Mexico)')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (38, N'-6.00', N'Central America', N'Central America')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (39, N'-6.00', N'Guadalajara, Mexico City, Monterrey ', N'Central Standard Time (Mexico)')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (40, N'-6.00', N'Saskatchewan', N'Canada Central')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (41, N'-5.00', N'Indiana (East)', N'US Eastern')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (42, N'-5.00', N'Bogota, Lima, Quito', N'SA Pacific')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (45, N'-4.00', N'Caracas', N'Venezuela')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (46, N'-4.00', N'Manaus', N'Central Brazilian')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (47, N'-4.00', N'Santiago', N'Pacific SA')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (50, N'-3.00', N'Buenos Aires', N'Argentina')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (51, N'-3.00', N'Greenland', N'Greenland')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (52, N'-3.00', N'Montevideo', N'Montevideo')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (55, N'-1.00', N'Cape Verde Is.', N'Cape Verde')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (60, N'0.00', N'Greenwhich Mean Time : Dublin, Edinburgh, Lisbon, London', N'GMT')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (61, N'1.00', N'Belgrade, Bratislava, Budapest, Ljubljana, Prague', N'Central Europe')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (62, N'1.00', N'Brussels, Copenhagen, Madrid, Paris', N'Romance')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (63, N'1.00', N'Sarajeva,Skopje, Warsaw, Zagreb', N'Central European Standard Time')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (64, N'1.00', N'West Central Africa', N'W. Central Africa')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (81, N'2.00', N'Athens, Bucharest, Istanbul', N'GTB')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (82, N'2.00', N'Beriut', N'Middle East')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (83, N'2.00', N'Cario', N'Egypt')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (84, N'2.00', N'Harare, Pretoria', N'South Africa')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (85, N'2.00', N'Helsinki, Kyiv, Rig, Sofia, Tallin, Vilnius', N'FLE')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (86, N'2.00', N'Jerusalem', N'Israel')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (87, N'2.00', N'Minsk', N'E. Europe')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (88, N'2.00', N'Windhoek', N'Namibia')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (89, N'3.00', N'Kuwait, Riyadh', N'Arab')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (90, N'3.00', N'Moscow, St. Petersburg, Volgograd', N'Russian')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (91, N'3.00', N'Nairobi', N'E. Africa ')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (92, N'3.00', N'Tbilisi', N'Georgian')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (101, N'4.00', N'Baku', N'Azerbaijan')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (102, N'4.00', N'Yerevan', N'Caucasus')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (103, N'4.00', N'Kabul', N'Afghanistan')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (121, N'5.50', N'Sri Jayawardenepura', N'Sri Lanka')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (122, N'5.75', N'Kathmandu', N'Nepal')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (125, N'6.00', N'Astana, Dhaka', N'Central Asia')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (128, N'6.50', N'Yangon (Rangoon)', N'Myanmar')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (129, N'7.00', N'Krasnoyarsk', N'North Asia')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (131, N'8.00', N'Irkutsk, Ulaan Bataar', N'North Asia East')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (132, N'8.00', N'Perth', N'W. Australia')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (133, N'8.00', N'Taipei', N'Taipei')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (134, N'9.00', N'Seoul', N'Korea')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (135, N'9.00', N'Yakutsk', N'Yakutsk')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (136, N'9.50', N'Darwin', N'AUS Central')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (138, N'10.00', N'Guam, Port Moresby', N'West Pacific')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (139, N'10.00', N'Hobart', N'Tasmania')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (140, N'10.00', N'Vladivostok', N'Vladivostok')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (141, N'12.00', N'Fiji, Kamchatka, Marshall Is', N'Fiji')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (200, N'-4.00', N'Asuncion', N'Paraguay')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (205, N'-4.00', N'Georgetown, La Paz, San Juan', N'SA Western')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (215, N'0.00', N'Monrovia, Reykjavik', N'Greenwich')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (219, N'4.00', N'Port Louis', N'Mauritius')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (222, N'-3.00', N'Cayenne', N'SA Eastern')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (231, N'8.00', N'Kuala Lumpur, Singapore', N'Singapore')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (234, N'12.00', N'Petropavlovsk-Kamchatsky', N' Kamchatka')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (235, N'5.00', N'Ekaterinburg', N'Ekaterinburg')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (240, N'10.00', N'Canberra, Melbourne, Sydney', N'AUS Eastern')
INSERT INTO [dbo].[SystemTimeZone] ([SystemTimeZoneId], [TimeZoneDifference], [TimeZone], [TimeZoneCode]) VALUES (245, N'0.00', N'Coordinated Universal Time', N'UTC')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemTimeZone]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemTimeZone]'

UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'International Date Line West', [TimeZoneCode]=N'Dateline' WHERE [SystemTimeZoneId]=1
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Samoa' WHERE [SystemTimeZoneId]=2
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Hawaiian' WHERE [SystemTimeZoneId]=3
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Alaskan' WHERE [SystemTimeZoneId]=4
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Pacific Time (US & Canada)', [TimeZoneCode]=N'Pacific' WHERE [SystemTimeZoneId]=5
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Mountain' WHERE [SystemTimeZoneId]=6
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Central Time (US & Canada)', [TimeZoneCode]=N'Central' WHERE [SystemTimeZoneId]=7
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Eastern Time (US & Canada)', [TimeZoneCode]=N'Eastern' WHERE [SystemTimeZoneId]=8
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Atlantic Time (Canda)', [TimeZoneCode]=N'Atlantic' WHERE [SystemTimeZoneId]=9
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Newfoundland' WHERE [SystemTimeZoneId]=10
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Brasilia', [TimeZoneCode]=N'E. South America' WHERE [SystemTimeZoneId]=11
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Mid-Atlantic' WHERE [SystemTimeZoneId]=12
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Azores', [TimeZoneCode]=N'Azores' WHERE [SystemTimeZoneId]=13
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Casablanca', [TimeZoneCode]=N'Morocco' WHERE [SystemTimeZoneId]=14
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna', [TimeZoneCode]=N'W. Europe' WHERE [SystemTimeZoneId]=15
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Amman', [TimeZoneCode]=N'Jordan' WHERE [SystemTimeZoneId]=16
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Baghdad', [TimeZoneCode]=N'Arabic' WHERE [SystemTimeZoneId]=17
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneDifference]=N'3.00', [TimeZoneCode]=N'Iran' WHERE [SystemTimeZoneId]=18
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Abu Dhabi, Muscat', [TimeZoneCode]=N'Arabian' WHERE [SystemTimeZoneId]=19
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneDifference]=N'5.00', [TimeZone]=N'Tashkent', [TimeZoneCode]=N'West Asia' WHERE [SystemTimeZoneId]=20
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Islamabad, Karachi, ', [TimeZoneCode]=N'Pakistan' WHERE [SystemTimeZoneId]=21
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Chennai, Kolkata, Mumbai, New Delhi', [TimeZoneCode]=N'India' WHERE [SystemTimeZoneId]=22
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Almaty, Novosibirsk', [TimeZoneCode]=N'N. Central Asia' WHERE [SystemTimeZoneId]=23
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'SE Asia' WHERE [SystemTimeZoneId]=24
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Beijing, Chongping, Hong Kong, Urmaqi', [TimeZoneCode]=N'China' WHERE [SystemTimeZoneId]=25
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Osaka, Sapporo, Tokyo', [TimeZoneCode]=N'Tokyo' WHERE [SystemTimeZoneId]=26
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Adelaide', [TimeZoneCode]=N'Cen. Australia' WHERE [SystemTimeZoneId]=27
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Brisbane', [TimeZoneCode]=N'E. Australia' WHERE [SystemTimeZoneId]=28
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Central Pacific Standard Time' WHERE [SystemTimeZoneId]=29
UPDATE [dbo].[SystemTimeZone] SET [TimeZone]=N'Auckland, wellington', [TimeZoneCode]=N'New Zealand' WHERE [SystemTimeZoneId]=30
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Tonga ' WHERE [SystemTimeZoneId]=31

GO
-- Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
END
GO
-- Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
END
GO
-- Add Column ShowCompanyLogo to AccountReport
Print 'Add Column ShowCompanyLogo to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ShowCompanyLogo' AND TABLE_NAME='AccountReport'))
ALTER TABLE [dbo].[AccountReport]
	ADD [ShowCompanyLogo] bit NOT NULL
	CONSTRAINT [DF_AccountReport_ShowCompanyLogo] DEFAULT ((0))

GO
-- Add Column ReportTitle to AccountReport
Print 'Add Column ReportTitle to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ReportTitle' AND TABLE_NAME='AccountReport'))
ALTER TABLE [dbo].[AccountReport]
	ADD [ReportTitle] nvarchar(200) NULL

GO
-- Add Column ReportHeader to AccountReport
Print 'Add Column ReportHeader to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ReportHeader' AND TABLE_NAME='AccountReport'))
ALTER TABLE [dbo].[AccountReport]
	ADD [ReportHeader] nvarchar(4000) NULL

GO
-- Add Column ReportFooter to AccountReport
Print 'Add Column ReportFooter to AccountReport'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReport' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ReportFooter' AND TABLE_NAME='AccountReport'))
ALTER TABLE [dbo].[AccountReport]
	ADD [ReportFooter] nvarchar(4000) NULL

GO
-- Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
			ON DELETE CASCADE
END
GO
if exists(Select * from systemdata where Version = '3.1.0')
BEGIN
Update AccountReport Set ReportTitle = AccountReport.ReportName
END
GO
if exists(Select * from systemdata where Version = '3.1.0')
BEGIN
Update AccountPreferences Set AccountReimbursementCurrencyId = AccountCurrencyId from AccountCurrency  where AccountCurrency.AccountId = AccountPreferences.accountid
and AccountReimbursementCurrencyId not in (Select AccountCurrencyId from accountCurrency)
END
GO
if exists(Select * from systemdata where Version = '3.1.0')
BEGIN
Update AccountPreferences Set AccountBaseCurrencyId = AccountCurrencyId from AccountCurrency  where AccountCurrency.AccountId = AccountPreferences.accountid
and AccountBaseCurrencyId not in (Select AccountCurrencyId from accountCurrency)
END
GO
Update SystemData Set Version = '3.1.1' Where Version = '3.1.0' And SystemDataId = 1


GO
-- Drop View vueAccountExpenseEntryForReport
Print 'Drop View vueAccountExpenseEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountExpenseEntryForReport]
GO
-- Drop View rptvueAccountExpenseEntry
Print 'Drop View rptvueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[rptvueAccountExpenseEntry]

GO
-- Drop View rptvueAccountEmployees
Print 'Drop View rptvueAccountEmployees'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployees' and table_type = 'VIEW') 
DROP VIEW [dbo].[rptvueAccountEmployees]

GO
-- Drop View vueAccountEmployeesForReport
Print 'Drop View vueAccountEmployeesForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeesForReport]

GO
-- Drop View rptvueAccountEmployeeTimeEntry
Print 'Drop View rptvueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
DROP VIEW [dbo].[rptvueAccountEmployeeTimeEntry]

GO
-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]


GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Description, N'''') AS Description, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes, dbo.vueAccountEmployeeTimeEntry.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingType, N'''') AS BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeCode, N'''') AS EmployeeCode, dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentName, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) 
                      AS Submitted, ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkType, N'''') AS AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, N'''') AS AccountCostCenter, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, N'''') AS AccountCostCenterCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectCode, N'''') AS ProjectCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskCode, N'''') 
                      AS TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, ISNULL(dbo.vueAccountEmployeeTimeEntry.Comments, N'''') 
                      AS ApproverComments, ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.DepartmentCode, N'''') 
                      AS DepartmentCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.PartyNick, N'''') AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      ISNULL(dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName, N'''') AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, 
                      dbo.AccountProjectType.ProjectType, dbo.AccountRole.Role AS ProjectRole, ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectDescription, N'''') 
                      AS ProjectDescription, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskDescription, N'''') AS TaskDescription, 
                      dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountProjectType.AccountProjectTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.Billed
FROM         dbo.AccountRole INNER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectEmployee.AccountRoleId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingTimesheet INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId = dbo.vueAccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId
                       ON dbo.AccountProjectEmployee.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId AND 
                      dbo.AccountProjectEmployee.AccountProjectId = dbo.vueAccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = AccountEmployee_3.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View rptvueAccountEmployeeTimeEntry
Print 'Create View rptvueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntry
AS
SELECT     dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskName, dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeadApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerApproved, dbo.vueAccountEmployeeTimeEntryForReport.AdministratorApproved, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Description, dbo.vueAccountEmployeeTimeEntryForReport.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, dbo.vueAccountEmployeeTimeEntryForReport.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryForReport.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ExpenseApprovalTypeId, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectBillingRateTypeId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Submitted, dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenter, dbo.vueAccountEmployeeTimeEntryForReport.AccountCostCenterCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountWorkTypeCode, dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocationId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.Amount, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountBaseCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.BillingRateCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AmountCurrencyCode, CASE WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 1 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountEmployeeTimeEntryForReport.Approved = 1 THEN ''Approved''
                       WHEN vueAccountEmployeeTimeEntryForReport.Rejected = 1 THEN ''Rejected'' WHEN vueAccountEmployeeTimeEntryForReport.Submitted = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Approved = 0 AND 
                      vueAccountEmployeeTimeEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountTaskTypeId, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatusId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountPriorityId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskType, dbo.vueAccountEmployeeTimeEntryForReport.TaskStatus, 
                      dbo.vueAccountEmployeeTimeEntryForReport.MilestoneDescription, dbo.vueAccountEmployeeTimeEntryForReport.Priority, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApprovedOn, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateCurrencyCode, dbo.vueAccountEmployeeTimeEntryForReport.TeamLeader, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectManager, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeManager, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate, 0) AS EstimatedCurrencyExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost, dbo.vueAccountEmployeeTimeEntryForReport.AccountRoleId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Role, dbo.vueAccountEmployeeTimeEntryForReport.WeekDayName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Period, dbo.vueAccountEmployeeTimeEntryForReport.Year, 
                      dbo.vueAccountEmployeeTimeEntryForReport.WeekNo, dbo.vueAccountEmployeeTimeEntryForReport.MonthNo, 
                      dbo.vueAccountEmployeeTimeEntryForReport.DayNo, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 1 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS
                       BillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable = 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours WHEN dbo.vueAccountEmployeeTimeEntryForReport.IsBillable
                       IS NULL THEN dbo.vueAccountEmployeeTimeEntryForReport.TotalHours ELSE 0 END AS NonBillableTotalHours, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.Amount / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCost
                       / dbo.vueAccountEmployeeTimeEntryForReport.EstimatedCurrencyExchangeRate ELSE 0 END AS CurrencyEstimatedCost, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.BillingRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.BillingRateExchangeRate ELSE 0 END AS CurrencyBillingRate, 
                      CASE WHEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate > 0 THEN dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRate
                       / dbo.vueAccountEmployeeTimeEntryForReport.EmployeeRateExchangeRate ELSE 0 END AS CurrencyEmployeeRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectRole, dbo.vueAccountEmployeeTimeEntryForReport.ProjectType, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectDescription, dbo.vueAccountEmployeeTimeEntryForReport.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryForReport.InvoiceNumber, dbo.vueAccountEmployeeTimeEntryForReport.InvoiceDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTypeId, dbo.vueAccountEmployeeTimeEntryForReport.Billed
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.vueAccountEmployeeTimeEntryWithLastStatus ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryWithLastStatus.AccountEmployeeTimeEntryId'
GO
-- Create View vueAccountEmployeesForReport
Print 'Create View vueAccountEmployeesForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeesForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, ISNULL(dbo.AccountEmployee.MiddleName, N'''') AS MiddleName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountLocationId, ISNULL(dbo.AccountEmployee.Notes, N'''') AS Notes, ISNULL(dbo.AccountEmployee.AddressLine1, N'''') 
                      AS AddressLine1, ISNULL(dbo.AccountEmployee.AddressLine2, N'''') AS AddressLine2, ISNULL(dbo.AccountEmployee.State, N'''') AS State, 
                      ISNULL(dbo.AccountEmployee.City, N'''') AS City, ISNULL(dbo.AccountEmployee.Zip, N'''') AS Zip, dbo.AccountEmployee.CountryId, 
                      ISNULL(dbo.AccountEmployee.HomePhoneNo, N'''') AS HomePhoneNo, ISNULL(dbo.AccountEmployee.WorkPhoneNo, N'''') AS WorkPhoneNo, 
                      ISNULL(dbo.AccountEmployee.MobilePhoneNo, N'''') AS MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, dbo.AccountEmployee.StartDate, 
                      dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, dbo.AccountEmployee.CreatedOn, 
                      dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, dbo.AccountEmployee.ModifiedByEmployeeId, 
                      dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, dbo.AccountEmployee.EmployeeTypeId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountEmployee.Username, ISNULL(dbo.AccountEmployee.EmployeeCode, N'''') AS EmployeeCode, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      ISNULL(dbo.AccountDepartment.DepartmentCode, N'''') AS DepartmentCode, dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, 
                      dbo.AccountLocation.AccountLocation, ISNULL(dbo.SystemCountry.Country, N'''') AS Country, 
                      ISNULL(AccountEmployee_1.FirstName + N'' ''+ AccountEmployee_1.LastName, N'''') AS EmployeeManager, 
                      ISNULL(dbo.vueAccountWorkTypeBillingRate.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountWorkTypeBillingRate.AccountWorkType, N'''') AS AccountWorkType, ISNULL(dbo.vueAccountWorkTypeBillingRate.BillingRate, 0)
                       AS BillingRate, ISNULL(dbo.vueAccountWorkTypeBillingRate.EmployeeRate, 0) AS EmployeeRate, 
                      dbo.vueAccountWorkTypeBillingRate.EmployeeRateCurrencyCode, dbo.vueAccountWorkTypeBillingRate.BillingRateCurrencyCode, 
                      dbo.AccountEmployee.HiredDate
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId AND 
                      dbo.Account.AccountId = dbo.AccountDepartment.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId AND 
                      dbo.Account.AccountId = dbo.AccountRole.AccountId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId AND 
                      dbo.Account.AccountId = dbo.AccountLocation.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountEmployee.CountryId = dbo.SystemCountry.CountryId LEFT OUTER JOIN
                      dbo.vueAccountWorkTypeBillingRate ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountWorkTypeBillingRate.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.Account.AccountId = AccountEmployee_1.AccountId AND 
                      dbo.AccountEmployee.EmployeeManagerId = AccountEmployee_1.AccountEmployeeId
WHERE     (dbo.AccountEmployee.EmployeeTypeId IS NULL)'
GO
-- Create View rptvueAccountEmployees
Print 'Create View rptvueAccountEmployees'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployees' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployees
AS
SELECT     AccountEmployeeId, Password, Prefix, FirstName, LastName, MiddleName, EMailAddress, AccountId, AccountDepartmentId, AccountRoleId, 
                      AccountLocationId, Notes, AddressLine1, AddressLine2, State, City, Zip, CountryId, HomePhoneNo, WorkPhoneNo, MobilePhoneNo, 
                      TimeEntryApprovalPathId, BillingRateStateDate, BillingTypeId, StartDate, TerminationDate, StatusId, IsDeleted, IsDisabled, DefaultProjectId, 
                      TimeZoneId, DefaultEmployee, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, AllowedAccessFromIP, ExternalUserClientId, 
                      EmployeeTypeId, AccountBillingRateId, Username, EmployeeCode, EmployeeManagerId, EmployeeName, DepartmentCode, DepartmentName, Role, 
                      AccountLocation, Country, ISNULL(EmployeeManager, '''') AS EmployeeManager, AccountWorkTypeCode, AccountWorkType, BillingRate, EmployeeRate,
                       EmployeeRateCurrencyCode, BillingRateCurrencyCode, HiredDate
FROM         dbo.vueAccountEmployeesForReport'
GO
-- Create View vueAccountExpenseEntryForReport
Print 'Create View vueAccountExpenseEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryForReport
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount AS NetAmount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, ISNULL(Approved, 
                      0) AS Approved, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, PartyName AS ClientName, AccountClientId, 
                      ISNULL(Description, N'''') AS Description, ExpenseType, AccountExpenseTypeId, LeaderEmployeeId, IsBillable, ISNULL(Rejected, 0) AS Rejected, 
                      ISNULL(EmployeeCode, N'''') AS EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, ISNULL(QuantityFieldCaption, N'''') 
                      AS QuantityFieldCaption, AccountBaseCurrencyId, ISNULL(ExchangeRate, 0) AS ExchangeRate, TaxAmount, NetAmount AS Amount, ISNULL(Submitted, 
                      0) AS Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, 
                      DepartmentName, AccountLocation, ISNULL(AccountTaxZone, N'''') AS AccountTaxZone, ISNULL(Quantity, 0) AS Quantity, ISNULL(Rate, 0) AS Rate, 
                      ISNULL(PaymentMethod, N'''') AS PaymentMethod, AccountLocationId, ISNULL(PartyNick, N'''') AS ClientNick, ProjectDescription, ISNULL(ProjectCode, 
                      N'''') AS ProjectCode, ISNULL(DepartmentCode, N'''') AS DepartmentCode, ISNULL(Comments, N'''') AS Comments, ApprovedOn, AccountDepartmentId, 
                      Role, AccountRoleId, { fn DAYOFMONTH(AccountExpenseEntryDate) } AS DayNo, MONTH(AccountExpenseEntryDate) AS MonthNo, DATEPART(week, 
                      AccountExpenseEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, AccountExpenseEntryDate), 0)) + 1 AS WeekNo, 
                      YEAR(AccountExpenseEntryDate) AS Year, LEFT({ fn MONTHNAME(AccountExpenseEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(AccountExpenseEntryDate)) AS Period, { fn DAYNAME(AccountExpenseEntryDate) } AS WeekDayName, InvoiceNumber, InvoiceDate, 
                      AccountProjectTypeId, ProjectType, Billed
FROM         dbo.vueAccountExpenseEntry'
GO
-- Create View rptvueAccountExpenseEntry
Print 'Create View rptvueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountExpenseEntry
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, Approved, CreatedOn, 
                      CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, ClientName, AccountClientId, Description, ExpenseType, AccountExpenseTypeId, 
                      LeaderEmployeeId, IsBillable, Rejected, EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, QuantityFieldCaption, 
                      AccountBaseCurrencyId, ExchangeRate, TaxAmount, NetAmount, Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, 
                      ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, 
                      PaymentMethod, AccountLocationId, ClientNick, ProjectDescription, ProjectCode, DepartmentCode, 
                      CASE WHEN vueAccountExpenseEntryForReport.Submitted = 1 AND 
                      vueAccountExpenseEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountExpenseEntryForReport.Approved = 1 THEN ''Approved'' WHEN vueAccountExpenseEntryForReport.Rejected
                       = 1 THEN ''Rejected'' WHEN vueAccountExpenseEntryForReport.Submitted = 0 AND vueAccountExpenseEntryForReport.Approved = 0 AND 
                      vueAccountExpenseEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, Comments AS ApproverComments, ApprovedOn, 
                      AccountDepartmentId, Role, AccountRoleId, DayNo, MonthNo, WeekNo, Year, Period, WeekDayName, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.NetAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyNetAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.Amount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.TaxAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyTaxAmount, InvoiceNumber, InvoiceDate, AccountProjectTypeId, ProjectType, Billed
FROM         dbo.vueAccountExpenseEntryForReport'
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '4e8c5e41-5e1f-4761-a223-f54f9e74b575')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4e8c5e41-5e1f-4761-a223-f54f9e74b575', '3a080202-6842-4eca-8c79-a945978810b4', N'Billed', 90, 0, NULL, NULL, 150, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Billed', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ca87f66e-3584-4658-833f-5eb72ed5dd46', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'Billed', 90, 0, NULL, NULL, 150, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Billed', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('2d9c2fbe-123d-4ce4-9891-af1d09aead38', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'HiredDate', 90, 0, NULL, NULL, 90, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Hired Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('282690c0-fd80-47fb-9c55-c7e0382eda0a', '14428dea-801b-4f8e-b2e3-afa8cb644ac8', N'TerminationDate', 90, 0, NULL, NULL, 91, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Termination Date', 0, 0)
END
GO
-- Create Foreign Key FK_AccountPreferences_Account on AccountPreferences
Print 'Create Foreign Key FK_AccountPreferences_Account on AccountPreferences'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_Account' AND TABLE_NAME='AccountPreferences')
BEGIN
		ALTER TABLE [dbo].[AccountPreferences]
			ADD CONSTRAINT [FK_AccountPreferences_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountPreferences_AccountCurrency on AccountPreferences
Print 'Create Foreign Key FK_AccountPreferences_AccountCurrency on AccountPreferences'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_AccountCurrency' AND TABLE_NAME='AccountPreferences')
BEGIN
		ALTER TABLE [dbo].[AccountPreferences]
			ADD CONSTRAINT [FK_AccountPreferences_AccountCurrency]
			FOREIGN KEY ([AccountBaseCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END
GO
-- Create Foreign Key FK_AccountPreferences_AccountCurrency1 on AccountPreferences
Print 'Create Foreign Key FK_AccountPreferences_AccountCurrency1 on AccountPreferences'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountPreferences_AccountCurrency1' AND TABLE_NAME='AccountPreferences')
BEGIN
		ALTER TABLE [dbo].[AccountPreferences]
			ADD CONSTRAINT [FK_AccountPreferences_AccountCurrency1]
			FOREIGN KEY ([AccountReimbursementCurrencyId]) REFERENCES [dbo].[AccountCurrency] ([AccountCurrencyId])
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemTimeZone]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemTimeZone]'

UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Tonga' WHERE [SystemTimeZoneId]=31
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'E. Africa' WHERE [SystemTimeZoneId]=91
UPDATE [dbo].[SystemTimeZone] SET [TimeZoneCode]=N'Kamchatka' WHERE [SystemTimeZoneId]=234

GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountStatus]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountStatus]'
UPDATE [dbo].[AccountStatus] SET [MasterAccountStatusId] = 2 WHERE [Status] = 'Started' AND [StatusTypeId] = 4
UPDATE [dbo].[AccountStatus] SET [MasterAccountStatusId] = 3 WHERE [Status] = 'OnHold' AND [StatusTypeId] = 4
UPDATE [dbo].[AccountStatus] SET [MasterAccountStatusId] = 4 WHERE [Status] = 'In Progress' AND [StatusTypeId] = 4
UPDATE [dbo].[AccountStatus] SET [MasterAccountStatusId] = 6 WHERE [Status] = 'Completed' AND [StatusTypeId] = 4

GO
-- Drop View vueAccountTimeExpenseBillingTimesheet
Print 'Drop View vueAccountTimeExpenseBillingTimesheet'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheet' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountTimeExpenseBillingTimesheet]
GO
-- Create View vueAccountTimeExpenseBillingTimesheet
Print 'Create View vueAccountTimeExpenseBillingTimesheet'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingTimesheet
AS
SELECT     dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountTimeExpenseBillingTimesheet.Description, 
                      dbo.AccountEmployeeTimeEntry.Approved, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, ROUND(CONVERT(float, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) AS TotalHours, dbo.AccountEmployeeTimeEntry.BillingRate * DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) AS Amount, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountTimeExpenseBillingTimesheet.BillHours, dbo.AccountTimeExpenseBillingTimesheet.ActualBillingRate, 
                      dbo.AccountTimeExpenseBillingTimesheet.TotalAmount, dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId1, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId2, dbo.AccountTimeExpenseBilling.SubTotal, dbo.AccountTimeExpenseBilling.TaxCode1, 
                      dbo.AccountTimeExpenseBilling.TaxCode2, dbo.AccountTimeExpenseBilling.GrandTotal, dbo.AccountParty.PartyNick, 
                      dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountEmployeeTimeEntry.Billed
FROM         dbo.AccountTimeExpenseBillingTimesheet RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId = dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId
                       AND dbo.AccountTimeExpenseBillingTimesheet.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId
WHERE     (dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.BillingRate <> 0.0000) AND 
                      (dbo.AccountEmployeeTimeEntry.BillingRate IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.Approved = 1)'
GO
-- Drop View vueAccountEmployeesForReport
Print 'Drop View vueAccountEmployeesForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
DROP VIEW [dbo].[vueAccountEmployeesForReport]
GO
-- Create View vueAccountEmployeesForReport
Print 'Create View vueAccountEmployeesForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeesForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeesForReport
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.Password, dbo.AccountEmployee.Prefix, dbo.AccountEmployee.FirstName, 
                      dbo.AccountEmployee.LastName, ISNULL(dbo.AccountEmployee.MiddleName, N'''') AS MiddleName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployee.AccountId, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountRoleId, 
                      dbo.AccountEmployee.AccountLocationId, ISNULL(dbo.AccountEmployee.Notes, N'''') AS Notes, ISNULL(dbo.AccountEmployee.AddressLine1, N'''') 
                      AS AddressLine1, ISNULL(dbo.AccountEmployee.AddressLine2, N'''') AS AddressLine2, ISNULL(dbo.AccountEmployee.State, N'''') AS State, 
                      ISNULL(dbo.AccountEmployee.City, N'''') AS City, ISNULL(dbo.AccountEmployee.Zip, N'''') AS Zip, dbo.AccountEmployee.CountryId, 
                      ISNULL(dbo.AccountEmployee.HomePhoneNo, N'''') AS HomePhoneNo, ISNULL(dbo.AccountEmployee.WorkPhoneNo, N'''') AS WorkPhoneNo, 
                      ISNULL(dbo.AccountEmployee.MobilePhoneNo, N'''') AS MobilePhoneNo, dbo.AccountEmployee.TimeEntryApprovalPathId, 
                      dbo.AccountEmployee.BillingRateStateDate, dbo.AccountEmployee.BillingTypeId, dbo.AccountEmployee.StartDate, 
                      dbo.AccountEmployee.TerminationDate, dbo.AccountEmployee.StatusId, dbo.AccountEmployee.IsDeleted, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountEmployee.DefaultProjectId, dbo.AccountEmployee.TimeZoneId, dbo.AccountEmployee.DefaultEmployee, dbo.AccountEmployee.CreatedOn, 
                      dbo.AccountEmployee.CreatedByEmployeeId, dbo.AccountEmployee.ModifiedOn, dbo.AccountEmployee.ModifiedByEmployeeId, 
                      dbo.AccountEmployee.AllowedAccessFromIP, dbo.AccountEmployee.ExternalUserClientId, dbo.AccountEmployee.EmployeeTypeId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountEmployee.Username, ISNULL(dbo.AccountEmployee.EmployeeCode, N'''') AS EmployeeCode, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      ISNULL(dbo.AccountDepartment.DepartmentCode, N'''') AS DepartmentCode, dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, 
                      dbo.AccountLocation.AccountLocation, ISNULL(dbo.SystemCountry.Country, N'''') AS Country, 
                      ISNULL(AccountEmployee_1.FirstName + N'' '' + AccountEmployee_1.LastName, N'''') AS EmployeeManager, 
                      ISNULL(dbo.vueAccountWorkTypeBillingRate.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountWorkTypeBillingRate.AccountWorkType, N'''') AS AccountWorkType, ISNULL(dbo.vueAccountWorkTypeBillingRate.BillingRate, 0)
                       AS BillingRate, ISNULL(dbo.vueAccountWorkTypeBillingRate.EmployeeRate, 0) AS EmployeeRate, 
                      dbo.vueAccountWorkTypeBillingRate.EmployeeRateCurrencyCode, dbo.vueAccountWorkTypeBillingRate.BillingRateCurrencyCode, 
                      dbo.AccountEmployee.HiredDate
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId AND 
                      dbo.Account.AccountId = dbo.AccountDepartment.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId AND 
                      dbo.Account.AccountId = dbo.AccountRole.AccountId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId AND 
                      dbo.Account.AccountId = dbo.AccountLocation.AccountId INNER JOIN
                      dbo.SystemCountry ON dbo.AccountEmployee.CountryId = dbo.SystemCountry.CountryId LEFT OUTER JOIN
                      dbo.vueAccountWorkTypeBillingRate ON dbo.Account.AccountId = dbo.vueAccountWorkTypeBillingRate.AccountId AND 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountWorkTypeBillingRate.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.Account.AccountId = AccountEmployee_1.AccountId AND 
                      dbo.AccountEmployee.EmployeeManagerId = AccountEmployee_1.AccountEmployeeId
WHERE     (dbo.AccountEmployee.EmployeeTypeId IS NULL)'
GO
-- Drop View vueAccountTimeExpenseBillingExpense
Print 'Drop View vueAccountTimeExpenseBillingExpense'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountTimeExpenseBillingExpense]
GO
-- Create View vueAccountTimeExpenseBillingExpense
Print 'Create View vueAccountTimeExpenseBillingExpense'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingExpense
AS
SELECT     dbo.AccountExpenseEntry.Billed, dbo.AccountProject.ProjectName, dbo.AccountProject.AccountClientId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpenseType.ExpenseType, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpense.AccountExpenseId, 
                      dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountExpenseEntry.Approved, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountExpenseEntry.Amount
FROM         dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId INNER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId = dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId AND
                       dbo.AccountTimeExpenseBillingExpense.AccountProjectId = dbo.AccountExpenseEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingExpense.AccountExpenseId = dbo.AccountExpenseEntry.AccountExpenseId
WHERE     (dbo.AccountExpenseEntry.Approved = 1)'

GO
-- Drop View rptvueTimeEntryApprovalActivity
Print 'Drop View rptvueTimeEntryApprovalActivity'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueTimeEntryApprovalActivity' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueTimeEntryApprovalActivity]
GO
-- Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
END
GO
-- Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
END
GO
-- Drop View vueTimeEntryApprovalActivityForReport
Print 'Drop View vueTimeEntryApprovalActivityForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueTimeEntryApprovalActivityForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueTimeEntryApprovalActivityForReport]
GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Drop View vueAccountEmployeeTimeEntryForReport
Print 'Drop View vueAccountEmployeeTimeEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryForReport]
GO
-- Drop View vueAccountEmployeeTimeEntryApproval
Print 'Drop View vueAccountEmployeeTimeEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApproval]
GO
-- Drop View vueTimesheetApprovalSequence
Print 'Drop View vueTimesheetApprovalSequence'
GO
if exists (select * from information_schema.tables where table_name = 'vueTimesheetApprovalSequence' and table_type = 'VIEW')
DROP VIEW [dbo].[vueTimesheetApprovalSequence]
GO
-- Create Index IX_AccountCurrencyExchangeRateId on AccountCurrency
Print 'Create Index IX_AccountCurrencyExchangeRateId on AccountCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'IX_AccountCurrencyExchangeRateId'))
CREATE INDEX [IX_AccountCurrencyExchangeRateId]
	ON [dbo].[AccountCurrency] ([AccountCurrencyExchangeRateId])
GO
-- Create Index IX_SystemCurrency on SystemCurrency
Print 'Create Index IX_SystemCurrency on SystemCurrency'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[SystemCurrency]') AND name = N'IX_SystemCurrency'))
CREATE INDEX [IX_SystemCurrency]
	ON [dbo].[SystemCurrency] ([CurrencyId])
GO
-- Create Index IX_EmployeeManagerId on AccountEmployee
Print 'Create Index IX_EmployeeManagerId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_EmployeeManagerId'))
CREATE INDEX [IX_EmployeeManagerId]
	ON [dbo].[AccountEmployee] ([EmployeeManagerId])
GO
-- Create Index IX_AccountTimeExpenseBillingTimesheetId on AccountEmployeeTimeEntry
Print 'Create Index IX_AccountTimeExpenseBillingTimesheetId on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_AccountTimeExpenseBillingTimesheetId'))
CREATE INDEX [IX_AccountTimeExpenseBillingTimesheetId]
	ON [dbo].[AccountEmployeeTimeEntry] ([AccountTimeExpenseBillingTimesheetId])
GO
-- Create Index IX_EstimatedCurrencyId on AccountProjectTask
Print 'Create Index IX_EstimatedCurrencyId on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'IX_EstimatedCurrencyId'))
CREATE INDEX [IX_EstimatedCurrencyId]
	ON [dbo].[AccountProjectTask] ([EstimatedCurrencyId])
GO
-- Create Index IX_IsBillable on AccountProjectTask
Print 'Create Index IX_IsBillable on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'IX_IsBillable'))
CREATE INDEX [IX_IsBillable]
	ON [dbo].[AccountProjectTask] ([IsBillable])
GO
-- Create View vueTimesheetApprovalSequence
Print 'Create View vueTimesheetApprovalSequence'
GO
if not exists (select * from information_schema.tables where table_name = 'vueTimesheetApprovalSequence' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueTimesheetApprovalSequence
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountEmployeeTimeEntryApproval.AccountProjectId AND 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId AND
                       dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId AND 
                      dbo.AccountEmployeeTimeEntryApproval.PreviousStatus <> 1 AND dbo.AccountEmployeeTimeEntryApproval.IsReject <> 1'
GO
-- Create View vueAccountEmployeeTimeEntryApproval
Print 'Create View vueAccountEmployeeTimeEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.AccountEmployeeTimeEntry.AccountEmployeeId AS TimeEntryAccountEmployeeId, 
                      dbo.AccountEmployee.EMailAddress, dbo.AccountEmployee.AccountId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployee.EmployeeManagerId, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, dbo.AccountProjectTask.IsBillable, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 1 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS BillableTotalMinutes, 
                      CASE WHEN dbo.AccountProjectTask.IsBillable = 0 THEN DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) WHEN dbo.AccountProjectTask.IsBillable IS NULL THEN DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) ELSE 0 END AS NonBillableTotalMinutes, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn
FROM         dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalPath.AccountApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountEmployeeTimeEntry.AccountEmployeeId ON 
                      dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountEmployeeTimeEntryApproval.AccountProjectId AND 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId AND
                       dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId AND 
                      dbo.AccountEmployeeTimeEntryApproval.PreviousStatus <> 1 AND dbo.AccountEmployeeTimeEntryApproval.IsReject <> 1'
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate, dbo.AccountRole.AccountRoleId, dbo.AccountRole.Role, dbo.AccountProject.AccountProjectTypeId, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.Billed, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueAccountEmployeeTimeEntryForReport
Print 'Create View vueAccountEmployeeTimeEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryForReport
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.Description, N'''') AS Description, dbo.vueAccountEmployeeTimeEntry.AccountId, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes, dbo.vueAccountEmployeeTimeEntry.WeekDay, 
                      dbo.vueAccountEmployeeTimeEntry.AccountPartyId AS AccountClientId, dbo.vueAccountEmployeeTimeEntry.PartyName AS ClientName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingType, N'''') AS BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.IsBillable, 0) AS IsBillable, ISNULL(dbo.vueAccountEmployeeTimeEntry.Rejected, 0) AS Rejected, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0) AS BillingRate, dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeCode, N'''') AS EmployeeCode, dbo.vueAccountEmployeeTimeEntry.AccountDepartmentId, 
                      dbo.vueAccountEmployeeTimeEntry.DepartmentName, ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedCost, 0) AS EstimatedCost, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EstimatedTimeSpent, 0) AS EstimatedHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.Submitted, 0) 
                      AS Submitted, ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkType, N'''') AS AccountWorkType, 
                      dbo.vueAccountEmployeeTimeEntry.EMailAddress, dbo.vueAccountEmployeeTimeEntry.AccountLocation, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenter, N'''') AS AccountCostCenter, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountCostCenterCode, N'''') AS AccountCostCenterCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.AccountWorkTypeCode, N'''') AS AccountWorkTypeCode, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectCode, N'''') AS ProjectCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskCode, N'''') 
                      AS TaskCode, dbo.vueAccountEmployeeTimeEntry.AccountLocationId, ISNULL(dbo.vueAccountEmployeeTimeEntry.Comments, N'''') 
                      AS ApproverComments, ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0) AS Amount, 
                      dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0) AS BillingRateExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRateExchangeRate, 0) AS EmployeeRateExchangeRate, 
                      dbo.vueAccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS BillingRateCurrencyCode, 
                      dbo.vueAccountCurrency.CurrencyCode AS AmountCurrencyCode, dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.TaskStatusId, dbo.vueAccountEmployeeTimeEntry.AccountPriorityId, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId, dbo.AccountTaskType.TaskType, dbo.AccountStatus.Status AS TaskStatus, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountPriority.Priority, ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2) AS TotalHours, ISNULL(dbo.vueAccountEmployeeTimeEntry.DepartmentCode, N'''') 
                      AS DepartmentCode, ISNULL(dbo.vueAccountEmployeeTimeEntry.PartyNick, N'''') AS ClientNick, 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId, vueAccountCurrency_1.CurrencyCode AS EstimatedCurrencyCode, 
                      dbo.vueAccountEmployeeTimeEntry.ApprovedOn, ISNULL(dbo.vueAccountEmployeeTimeEntry.EmployeeRate, 0) AS EmployeeRate, 
                      vueAccountCurrency_2.CurrencyCode AS EmployeeRateCurrencyCode, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS TeamLeader, 
                      AccountEmployee_2.FirstName + '' '' + AccountEmployee_2.LastName AS ProjectManager, 
                      ISNULL(dbo.AccountEmployee.FirstName + N'' '' + dbo.AccountEmployee.LastName, N'''') AS EmployeeManager, 
                      vueAccountCurrency_1.ExchangeRate AS EstimatedCurrencyExchangeRate, 
                      ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.EmployeeRate / 60, 0) AS EmployeeCost, 
                      { fn DAYOFMONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) } AS DayNo, MONTH(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      AS MonthNo, DATEPART(week, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) AS Year, 
                      LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate)) AS Period, { fn DAYNAME(dbo.vueAccountEmployeeTimeEntry.TimeEntryDate) 
                      } AS WeekDayName, dbo.vueAccountEmployeeTimeEntry.AccountRoleId, dbo.vueAccountEmployeeTimeEntry.Role, 
                      dbo.AccountProjectType.ProjectType, dbo.AccountRole.Role AS ProjectRole, ISNULL(dbo.vueAccountEmployeeTimeEntry.ProjectDescription, N'''') 
                      AS ProjectDescription, ISNULL(dbo.vueAccountEmployeeTimeEntry.TaskDescription, N'''') AS TaskDescription, 
                      dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountProjectType.AccountProjectTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.Billed, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
FROM         dbo.AccountRole INNER JOIN
                      dbo.AccountProjectEmployee ON dbo.AccountRole.AccountRoleId = dbo.AccountProjectEmployee.AccountRoleId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingTimesheet INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountTaskType ON dbo.vueAccountEmployeeTimeEntry.AccountTaskTypeId = dbo.AccountTaskType.AccountTaskTypeId INNER JOIN
                      dbo.AccountStatus ON dbo.vueAccountEmployeeTimeEntry.TaskStatusId = dbo.AccountStatus.AccountStatusId INNER JOIN
                      dbo.AccountProjectMilestone ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectMilestoneId = dbo.AccountProjectMilestone.AccountProjectMilestoneId INNER JOIN
                      dbo.AccountPriority ON dbo.vueAccountEmployeeTimeEntry.AccountPriorityId = dbo.AccountPriority.AccountPriorityId INNER JOIN
                      dbo.AccountProjectType ON dbo.vueAccountEmployeeTimeEntry.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId = dbo.vueAccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId
                       ON dbo.AccountProjectEmployee.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId AND 
                      dbo.AccountProjectEmployee.AccountProjectId = dbo.vueAccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId = AccountEmployee_2.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountEmployee AS AccountEmployee_3 ON dbo.AccountEmployee.AccountEmployeeId = AccountEmployee_3.EmployeeManagerId ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = AccountEmployee_3.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.EmployeeRateCurrencyId = vueAccountCurrency_2.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency AS vueAccountCurrency_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.EstimatedCurrencyId = vueAccountCurrency_1.AccountCurrencyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountEmployeeTimeEntry.BillingRateCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId'
GO
-- Create View vueTimeEntryApprovalActivityForReport
Print 'Create View vueTimeEntryApprovalActivityForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueTimeEntryApprovalActivityForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueTimeEntryApprovalActivityForReport
AS
SELECT     dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalId, dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId, dbo.AccountEmployeeTimeEntryApproval.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.AccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.AccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectName, dbo.vueAccountEmployeeTimeEntryForReport.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TotalTime, dbo.vueAccountEmployeeTimeEntryForReport.StartTime, 
                      dbo.vueAccountEmployeeTimeEntryForReport.EndTime, dbo.vueAccountEmployeeTimeEntryForReport.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientName, dbo.vueAccountEmployeeTimeEntryForReport.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ApproverComments, dbo.vueAccountEmployeeTimeEntryForReport.TotalHours, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Approved, dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId, dbo.vueAccountEmployeeTimeEntryForReport.Description, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountId, dbo.vueAccountEmployeeTimeEntryForReport.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountClientId, dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectTaskId, 
                      dbo.vueAccountEmployeeTimeEntryForReport.BillingType, dbo.vueAccountEmployeeTimeEntryForReport.IsBillable, 
                      dbo.vueAccountEmployeeTimeEntryForReport.Rejected, dbo.vueAccountEmployeeTimeEntryForReport.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountDepartmentId, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ProjectCode, dbo.vueAccountEmployeeTimeEntryForReport.TaskCode, 
                      dbo.vueAccountEmployeeTimeEntryForReport.ClientNick, dbo.AccountApprovalType.ApprovalTypeName, 
                      dbo.SystemApproverType.SystemApproverType, dbo.vueAccountEmployee.EmployeeName AS ApproverEmployeeName, 
                      dbo.vueAccountEmployee.EMailAddress AS ApproverEmailAddress, dbo.vueAccountEmployeeTimeEntryForReport.Submitted, 
                      CASE WHEN AccountEmployeeTimeEntryApproval.IsApproved = 1 THEN ''Approved'' WHEN AccountEmployeeTimeEntryApproval.IsReject = 1 THEN ''Rejected''
                       END AS Status, dbo.vueAccountEmployeeTimeEntryForReport.EmployeeCode, dbo.vueAccountEmployeeTimeEntryForReport.AccountLocation, 
                      dbo.vueAccountEmployee.Role, dbo.vueAccountEmployeeTimeEntryForReport.DepartmentCode, dbo.vueAccountEmployee.AccountLocationId, 
                      dbo.vueAccountEmployee.AccountRoleId, dbo.vueAccountEmployeeTimeEntryForReport.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryForReport.TaskDescription, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate AS PeriodStartDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate AS PeriodEndDate, CONVERT(varchar(10), 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, 111) + '' - '' + CONVERT(varchar(10), 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, 111) AS Period
FROM         dbo.vueAccountEmployeeTimeEntryForReport INNER JOIN
                      dbo.AccountEmployeeTimeEntryPeriod ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId
                       RIGHT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountProjectId = dbo.AccountEmployeeTimeEntryApproval.AccountProjectId AND 
                      dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryPeriodId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId
                       LEFT OUTER JOIN
                      dbo.vueAccountEmployee ON 
                      dbo.AccountEmployeeTimeEntryApproval.ApprovedByEmployeeId = dbo.vueAccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath ON dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId = dbo.AccountApprovalPath.AccountApprovalPathId LEFT OUTER JOIN
                      dbo.AccountApprovalType ON 
                      dbo.AccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId
WHERE     (dbo.vueAccountEmployeeTimeEntryForReport.AccountEmployeeTimeEntryPeriodId IS NOT NULL)'
GO
-- Create View rptvueTimeEntryApprovalActivity
Print 'Create View rptvueTimeEntryApprovalActivity'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueTimeEntryApprovalActivity' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueTimeEntryApprovalActivity
AS
SELECT     TimeSheetApprovalId, AccountEmployeeTimeEntryId, TimeSheetApprovalTypeId, TimeSheetApprovalPathId, ApprovedByEmployeeId, ApprovedOn, 
                      Comments, IsReject, IsApproved, EmployeeName, ProjectName, TaskName, TotalTime, StartTime, EndTime, TimeEntryDate, ClientName, 
                      EMailAddress, ApproverComments, TotalHours, Approved, AccountEmployeeId, AccountProjectId, Description, AccountId, TotalMinutes, AccountClientId, 
                      AccountProjectTaskId, BillingType, IsBillable, Rejected, BillingRate, AccountDepartmentId, DepartmentName, ProjectCode, TaskCode, ClientNick, 
                      ApprovalTypeName, SystemApproverType, ApproverEmployeeName, ApproverEmailAddress, Submitted, Status, EmployeeCode, AccountLocation, 
                      Role, DepartmentCode, AccountLocationId, AccountRoleId, ProjectDescription, TaskDescription, PeriodStartDate, PeriodEndDate, Period
FROM         dbo.vueTimeEntryApprovalActivityForReport'
GO
-- Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
			ON DELETE CASCADE
END

GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] NOCHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'

if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '6e9c451f-3ea6-49d4-a1ed-ff7fb2a464f4')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6e9c451f-3ea6-49d4-a1ed-ff7fb2a464f4', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'Period', 180, 1, NULL, NULL, 32, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Period', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e6142a8a-f0ed-44f2-8807-95ca58d5c8ba', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'PeriodEndDate', 90, 0, NULL, NULL, 31, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Period End Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('97ba15bf-1bce-4312-8772-8e192a1b07d9', 'ad0ea79d-c1d7-40ed-a7c4-03cc4f565873', N'PeriodStartDate', 90, 0, NULL, NULL, 30, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Period Start Date', 0, 0)
END

GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'

if not exists(Select * from [dbo].[AccountReportGroup] where AccountReportGroupId = 'd48714d7-ccca-4e7f-82de-ad574fb9e274')
BEGIN
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('d48714d7-ccca-4e7f-82de-ad574fb9e274', '4db8fc6f-0bb7-46c9-a80a-11089eb0aebc', N'Period', N'Period', 1, '6e9c451f-3ea6-49d4-a1ed-ff7fb2a464f4')
END

GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] CHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'

UPDATE [dbo].[SystemReportFilterSourceMapping] SET [IsAllowAll]=1 WHERE [SystemReportFilterMappingId]='00aea75e-5418-4d24-835e-7ee72e858ac8'
GO
if exists(Select * from systemdata where Version = '3.1.1')
BEGIN
Delete From a From AccountObjectPermission a
Where AccountObjectPermissionId not In (Select top 1 AccountObjectPermissionId From AccountObjectPermission b Where b.AccountId = a.AccountId 
And b.AccountRoleId = a.AccountRoleId
And b.AccountReportId = a.AccountReportId)
END
GO
-- Create Index IX_AccountObjectPermission on AccountObjectPermission
Print 'Create Index IX_AccountObjectPermission on AccountObjectPermission'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'IX_AccountObjectPermission'))
CREATE UNIQUE INDEX [IX_AccountObjectPermission]
	ON [dbo].[AccountObjectPermission] ([AccountReportId], [AccountRoleId], [AccountId])
GO
Update SystemData Set Version = '3.1.2' Where Version = '3.1.1' And SystemDataId = 1

GO
Delete From AccountEmployeeTimeEntryApproval
Where AccountEmployeeTimeEntryid Not In (Select Max(AccountEmployeeTimeEntryId) From AccountEmployeeTimeEntry 
Where AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId = AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId
And AccountEmployeeTimeEntry.AccountProjectId = AccountEmployeeTimeEntryApproval.AccountProjectId)
And AccountEmployeeTimeEntryPeriodId Is Not NULL

GO

-- Drop View vueAccountEmployeeTimeEntryApprovalPending
Print 'Drop View vueAccountEmployeeTimeEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovalPending]
GO
-- Create View vueAccountEmployeeTimeEntryApprovalPending
Print 'Create View vueAccountEmployeeTimeEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovalPending
AS
SELECT     dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, MAX(dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalId) 
                      AS TimeSheetApprovalId, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, dbo.vueAccountEmployeeTimeEntryApproval.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, dbo.vueAccountEmployeeTimeEntryApproval.Approved, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, dbo.vueAccountEmployeeTimeEntryApproval.Comments, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsReject, dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountId, dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Description, dbo.vueAccountEmployeeTimeEntryApproval.Submitted, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId, dbo.vueAccountEmployeeTimeEntryApproval.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsBillable, dbo.vueAccountEmployeeTimeEntryApproval.BillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.NonBillableTotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.Rejected, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId, CONVERT(nvarchar(10), 
                      19000100 + ISNULL(dbo.vueAccountWorkingDay.WeekStartDay, 1)) AS EmployeeWeekStartDay
FROM         dbo.vueAccountWorkingDay INNER JOIN
                      dbo.AccountEmployee ON 
                      dbo.vueAccountWorkingDay.AccountWorkingDayTypeId = dbo.AccountEmployee.AccountWorkingDayTypeId RIGHT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId
WHERE     (dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueTimesheetApprovalSequence
                            WHERE      (TimeSheetApprovalId IS NULL) AND 
                                                   (AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId))) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Approved = 0) AND (dbo.vueAccountEmployeeTimeEntryApproval.Submitted = 1) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.Rejected IS NULL OR
                      dbo.vueAccountEmployeeTimeEntryApproval.Rejected = 0) AND 
                      (dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId IS NOT NULL)
GROUP BY dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectId, dbo.vueAccountEmployeeTimeEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalTypeId, dbo.vueAccountEmployeeTimeEntryApproval.SystemApproverTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountExternalUserId, dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ApprovalPathSequence, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalPathId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectName, dbo.vueAccountEmployeeTimeEntryApproval.ProjectDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.ProjectCode, dbo.vueAccountEmployeeTimeEntryApproval.TaskName, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntryApproval.TaskDescription, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeName, dbo.vueAccountEmployeeTimeEntryApproval.TimeSheetApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TotalTime, dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntryApproval.IsReject, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsApproved, dbo.vueAccountApproverType.MaxApprovalPathSequence, 
                      dbo.vueAccountEmployeeTimeEntryApproval.TimeEntryAccountEmployeeId, dbo.vueAccountEmployeeTimeEntryApproval.AccountId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EMailAddress, dbo.vueAccountEmployeeTimeEntryApproval.Description, 
                      dbo.vueAccountEmployeeTimeEntryApproval.EmployeeManagerId, dbo.vueAccountEmployeeTimeEntryApproval.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.IsBillable, dbo.vueAccountEmployeeTimeEntryApproval.BillableTotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntryApproval.NonBillableTotalMinutes, dbo.vueAccountEmployeeTimeEntryApproval.Rejected, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountApprovalPathId, dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntryApproval.Approved, dbo.vueAccountEmployeeTimeEntryApproval.Submitted, 
                      dbo.vueAccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryPeriodId, dbo.vueAccountWorkingDay.WeekStartDay'
GO
if exists(Select * from systemdata where Version = '3.1.2')
BEGIN
Print 'update duplicate working day type'
Update AccountEmployee 
Set AccountWorkingDayTypeId =
(select top 1 AccountWorkingDayTypeId
from AccountWorkingDayType
where AccountId = AccountEmployee.AccountId and MasterWorkingDayTypeId is not null)
Where AccountWorkingDayTypeId In (Select AccountWorkingDayTypeId From AccountWorkingDayType Where
MasterWorkingDayTypeId Is Not NULL And AccountId = AccountEmployee.AccountId)
END
GO
if exists(Select * from systemdata where Version = '3.1.2')
BEGIN
Print 'delete duplicate working day type'
Delete From a From AccountWorkingDayType a Where a.MasterWorkingDayTypeId Is NOt NULL And a.AccountWorkingDayTypeId not In
(Select Top 1 b.AccountWorkingDayTypeId From AccountWorkingDayType b Where b.AccountId = a.AccountId and b.masterWorkingDayTypeId is not null)
END
GO
Update SystemData Set Version = '3.1.3' Where Version = '3.1.2' And SystemDataId = 1
GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Add Column InvoiceNoPrefix to AccountPreferences
Print 'Add Column InvoiceNoPrefix to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='InvoiceNoPrefix' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [InvoiceNoPrefix] nvarchar(10) NULL
GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode, 
                      dbo.AccountPreferences.PageSize, dbo.AccountEmployee.TimeZoneId AS EmployeeTimeZoneId, dbo.AccountEmployee.TerminationDate, 
                      dbo.AccountEmployee.StatusId, dbo.AccountEmployee.JobTitle, dbo.AccountEmployee.EmployeePayTypeId, dbo.AccountEmployee.HiredDate, 
                      dbo.AccountEmployee.AccountWorkingDayTypeId, dbo.AccountWorkingDayType.AccountWorkingDayType, dbo.AccountWorkingDayType.HoursPerDay, 
                      dbo.AccountWorkingDayType.WeekStartDay AS EmployeeWeekStartDay, dbo.AccountPreferences.ShowClientInTimesheet, 
                      dbo.AccountWorkingDayType.MinimumHoursPerDay, dbo.AccountWorkingDayType.MaximumHoursPerDay, 
                      dbo.AccountWorkingDayType.MinimumHoursPerWeek, dbo.AccountWorkingDayType.MaximumHoursPerWeek, 
                      dbo.AccountPreferences.ShowDescriptionInWeekView, dbo.AccountPreferences.InvoiceNoPrefix
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountWorkingDayType ON 
                      dbo.AccountEmployee.AccountWorkingDayTypeId = dbo.AccountWorkingDayType.AccountWorkingDayTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
-- Drop View vueAccountProjectTask
Print 'Drop View vueAccountProjectTask'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTask]
GO
-- Create View vueAccountProjectTask
Print 'Create View vueAccountProjectTask'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTask' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTask
AS
SELECT     dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProjectTask.AccountProjectId, dbo.AccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountProjectTask.TaskDescription, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.Duration, 
                      dbo.AccountProjectTask.DurationUnit, dbo.AccountProjectTask.DeadlineDate, dbo.AccountProjectTask.CompletedPercent, dbo.AccountProjectTask.Completed, 
                      dbo.AccountProjectTask.IsParentTask, dbo.AccountProjectTask.IsForAllEmployees, dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.CreatedOn, dbo.AccountProjectTask.CreatedByEmployeeId, dbo.AccountProjectTask.ModifiedOn, 
                      dbo.AccountProjectTask.ModifiedByEmployeeId, dbo.AccountStatus.Status AS TaskStatus, dbo.AccountEmployee.FirstName AS CreatedByFirstName, 
                      dbo.AccountEmployee.LastName AS CreatedByLastName, dbo.AccountPriority.Priority, dbo.AccountProject.ProjectName, dbo.AccountProject.ProjectCode, 
                      dbo.AccountTaskType.TaskType, dbo.AccountProject.AccountId, dbo.AccountProjectTask.AccountProjectMilestoneId, 
                      dbo.AccountProjectMilestone.MilestoneDescription, dbo.AccountProjectTask.IsReOpen, AccountEmployee_1.FirstName AS ModifiedByFirstName, 
                      AccountEmployee_1.LastName AS ModifiedByLastName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountProjectTask.EstimatedTimeSpentUnit, dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProjectTask.IsDisabled, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountProject.IsTemplate, dbo.AccountProjectTask.IsForAllProjectTask, dbo.AccountProjectTask.IsBillable, dbo.AccountProjectTask.EstimatedCurrencyId, 
                      dbo.AccountParty.PartyName, dbo.AccountParty.PartyNick, dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectDescription, 
                      dbo.AccountProjectMilestone.MilestoneDate
FROM         dbo.AccountTaskType RIGHT OUTER JOIN
                      dbo.AccountProjectMilestone RIGHT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId RIGHT OUTER JOIN
                      dbo.AccountProjectTask LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProjectTask.ModifiedByEmployeeId = AccountEmployee_1.AccountEmployeeId ON 
                      dbo.AccountProject.AccountProjectId = dbo.AccountProjectTask.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.AccountProjectTask.CreatedByEmployeeId = dbo.AccountEmployee.AccountEmployeeId ON 
                      dbo.AccountProjectMilestone.AccountProjectMilestoneId = dbo.AccountProjectTask.AccountProjectMilestoneId ON 
                      dbo.AccountTaskType.AccountTaskTypeId = dbo.AccountProjectTask.AccountTaskTypeId LEFT OUTER JOIN
                      dbo.AccountStatus ON dbo.AccountProjectTask.TaskStatusId = dbo.AccountStatus.AccountStatusId LEFT OUTER JOIN
                      dbo.AccountPriority ON dbo.AccountProjectTask.AccountPriorityId = dbo.AccountPriority.AccountPriorityId'
GO
-- Drop View vueAccountProjectTaskForReport
Print 'Drop View vueAccountProjectTaskForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskForReport]
GO
-- Create View vueAccountProjectTaskForReport
Print 'Create View vueAccountProjectTaskForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskForReport
AS
SELECT     dbo.vueAccountProjectTask.AccountProjectTaskId, dbo.vueAccountProjectTask.AccountProjectId, dbo.vueAccountProjectTask.ParentAccountProjectTaskId, 
                      dbo.vueAccountProjectTask.TaskName, dbo.vueAccountProjectTask.TaskDescription, dbo.vueAccountProjectTask.AccountTaskTypeId, 
                      dbo.vueAccountProjectTask.DeadlineDate, dbo.vueAccountProjectTask.CompletedPercent, dbo.vueAccountProjectTask.Completed, 
                      dbo.vueAccountProjectTask.IsParentTask, dbo.vueAccountProjectTask.IsForAllEmployees, dbo.vueAccountProjectTask.AccountPriorityId, 
                      dbo.vueAccountProjectTask.TaskStatusId, dbo.vueAccountProjectTask.CreatedOn, dbo.vueAccountProjectTask.CreatedByEmployeeId, 
                      dbo.vueAccountProjectTask.ModifiedOn, dbo.vueAccountProjectTask.ModifiedByEmployeeId, dbo.vueAccountProjectTask.TaskStatus, 
                      dbo.vueAccountProjectTask.CreatedByFirstName, dbo.vueAccountProjectTask.CreatedByLastName, dbo.vueAccountProjectTask.Priority, 
                      dbo.vueAccountProjectTask.ProjectName, dbo.vueAccountProjectTask.ProjectCode, dbo.vueAccountProjectTask.TaskType, dbo.vueAccountProjectTask.AccountId, 
                      dbo.vueAccountProjectTask.AccountProjectMilestoneId, dbo.vueAccountProjectTask.MilestoneDescription, dbo.vueAccountProjectTask.IsReOpen, 
                      dbo.vueAccountProjectTask.ModifiedByFirstName, dbo.vueAccountProjectTask.ModifiedByLastName, dbo.vueAccountProjectTask.EstimatedCost, 
                      dbo.vueAccountProjectTask.EstimatedTimeSpent AS EstimatedHours, dbo.vueAccountProjectTask.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTask.AccountEmployeeId, dbo.vueAccountProjectTask.IsDisabled, dbo.vueAccountProjectTask.TaskCode, 
                      dbo.vueAccountProjectTask.IsTemplate, dbo.vueAccountProjectTask.IsForAllProjectTask, dbo.vueAccountProjectTask.IsBillable, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountParty.PartyNick AS ClientNick, dbo.AccountParty.PartyName AS ClientName, CONVERT(nvarchar(200), 
                      dbo.vueAccountProjectTask.Duration) + '' - '' + dbo.vueAccountProjectTask.DurationUnit AS Duration, dbo.AccountProjectTask.TaskName AS ParentTaskName, 
                      dbo.vueAccountProjectTask.EstimatedCurrencyId, dbo.vueAccountCurrency.CurrencyCode AS EstimatedCurrencyCode, dbo.vueAccountProjectTask.ProjectDescription, 
                      dbo.vueAccountProjectTask.MilestoneDate
FROM         dbo.vueAccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.vueAccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountProjectTask.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.vueAccountProjectTask.ParentAccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId'
GO
-- Drop View vueAccountProjectTaskOnlyForReport
Print 'Drop View vueAccountProjectTaskOnlyForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjectTaskOnlyForReport]
GO
-- Create View vueAccountProjectTaskOnlyForReport
Print 'Create View vueAccountProjectTaskOnlyForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjectTaskOnlyForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjectTaskOnlyForReport
AS
SELECT     dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, dbo.vueAccountProjectTaskForReport.DeadlineDate, 
                      dbo.vueAccountProjectTaskForReport.CompletedPercent, dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, dbo.vueAccountProjectTaskForReport.TaskStatusId, 
                      dbo.vueAccountProjectTaskForReport.CreatedOn, dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedOn, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, dbo.vueAccountProjectTaskForReport.Priority, 
                      dbo.vueAccountProjectTaskForReport.ProjectName, ISNULL(dbo.vueAccountProjectTaskForReport.ProjectCode, N'''') AS ProjectCode, 
                      dbo.vueAccountProjectTaskForReport.TaskType, dbo.vueAccountProjectTaskForReport.AccountId, dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, 
                      dbo.vueAccountProjectTaskForReport.MilestoneDescription, dbo.vueAccountProjectTaskForReport.IsReOpen, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, dbo.vueAccountProjectTaskForReport.ModifiedByLastName, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0) AS EstimatedCost, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0) 
                      AS EstimatedHours, dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, dbo.vueAccountProjectTaskForReport.AccountEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.IsDisabled, ISNULL(dbo.vueAccountProjectTaskForReport.TaskCode, N'''') AS TaskCode, 
                      dbo.vueAccountProjectTaskForReport.IsTemplate, ISNULL(dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, 0) AS IsForAllProjectTask, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.IsBillable, 0) AS IsBillable, dbo.vueAccountProjectTaskForReport.AccountClientId, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ClientNick, N'''') AS ClientNick, dbo.vueAccountProjectTaskForReport.ClientName, 
                      dbo.vueAccountProjectTaskForReport.Duration, ISNULL(dbo.vueAccountProjectTaskForReport.ParentTaskName, N'''') AS ParentTaskName, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.BillableTotalHours, 0)) AS BillableTotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.NonBillableTotalHours, 0)) AS NonBillableTotalHours, dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.TotalHours, 0)) AS TotalHours, 
                      SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyEmployeeCost, 0)) AS CurrencyEmployeeCost, ISNULL(dbo.vueAccountCurrency.ExchangeRate, 0) 
                      AS EstimatedCurrencyExchangeRate, SUM(ISNULL(dbo.rptvueAccountEmployeeTimeEntry.CurrencyAmount, 0)) AS CurrencyAmount, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ProjectDescription, N'''') AS ProjectDescription, dbo.vueAccountProjectTaskForReport.MilestoneDate
FROM         dbo.vueAccountProjectTaskForReport LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.rptvueAccountEmployeeTimeEntry ON 
                      dbo.vueAccountProjectTaskForReport.AccountProjectTaskId = dbo.rptvueAccountEmployeeTimeEntry.AccountProjectTaskId
WHERE     (dbo.vueAccountProjectTaskForReport.IsParentTask <> 1)
GROUP BY dbo.vueAccountProjectTaskForReport.AccountProjectTaskId, dbo.vueAccountProjectTaskForReport.AccountProjectId, 
                      dbo.vueAccountProjectTaskForReport.ParentAccountProjectTaskId, dbo.vueAccountProjectTaskForReport.TaskName, 
                      dbo.vueAccountProjectTaskForReport.TaskDescription, dbo.vueAccountProjectTaskForReport.AccountTaskTypeId, dbo.vueAccountProjectTaskForReport.DeadlineDate, 
                      dbo.vueAccountProjectTaskForReport.CompletedPercent, dbo.vueAccountProjectTaskForReport.Completed, dbo.vueAccountProjectTaskForReport.IsParentTask, 
                      dbo.vueAccountProjectTaskForReport.IsForAllEmployees, dbo.vueAccountProjectTaskForReport.AccountPriorityId, dbo.vueAccountProjectTaskForReport.CreatedOn, 
                      dbo.vueAccountProjectTaskForReport.TaskStatusId, dbo.vueAccountProjectTaskForReport.CreatedByEmployeeId, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByEmployeeId, dbo.vueAccountProjectTaskForReport.ModifiedOn, dbo.vueAccountProjectTaskForReport.TaskStatus, 
                      dbo.vueAccountProjectTaskForReport.CreatedByFirstName, dbo.vueAccountProjectTaskForReport.CreatedByLastName, dbo.vueAccountProjectTaskForReport.Priority, 
                      dbo.vueAccountProjectTaskForReport.ProjectName, ISNULL(dbo.vueAccountProjectTaskForReport.ProjectCode, N''''), dbo.vueAccountProjectTaskForReport.TaskType, 
                      dbo.vueAccountProjectTaskForReport.AccountId, dbo.vueAccountProjectTaskForReport.AccountProjectMilestoneId, dbo.vueAccountProjectTaskForReport.IsReOpen, 
                      dbo.vueAccountProjectTaskForReport.MilestoneDescription, dbo.vueAccountProjectTaskForReport.ModifiedByFirstName, 
                      dbo.vueAccountProjectTaskForReport.ModifiedByLastName, ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedCost, 0), 
                      ISNULL(dbo.vueAccountProjectTaskForReport.EstimatedHours, 0), dbo.vueAccountProjectTaskForReport.EstimatedTimeSpentUnit, 
                      dbo.vueAccountProjectTaskForReport.AccountEmployeeId, dbo.vueAccountProjectTaskForReport.IsDisabled, ISNULL(dbo.vueAccountProjectTaskForReport.TaskCode, 
                      N''''), dbo.vueAccountProjectTaskForReport.IsTemplate, ISNULL(dbo.vueAccountProjectTaskForReport.IsForAllProjectTask, 0), 
                      ISNULL(dbo.vueAccountProjectTaskForReport.IsBillable, 0), dbo.vueAccountProjectTaskForReport.AccountClientId, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ClientNick, N''''), dbo.vueAccountProjectTaskForReport.ClientName, dbo.vueAccountProjectTaskForReport.Duration, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ParentTaskName, N''''), dbo.vueAccountProjectTaskForReport.EstimatedCurrencyId, 
                      dbo.vueAccountProjectTaskForReport.EstimatedCurrencyCode, dbo.vueAccountCurrency.ExchangeRate, 
                      ISNULL(dbo.vueAccountProjectTaskForReport.ProjectDescription, N''''), dbo.vueAccountProjectTaskForReport.MilestoneDate'
GO
-- Drop View rptvueAccountProjectTasks
Print 'Drop View rptvueAccountProjectTasks'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountProjectTasks]
GO
-- Create View rptvueAccountProjectTasks
Print 'Create View rptvueAccountProjectTasks'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountProjectTasks' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountProjectTasks
AS
SELECT     AccountProjectTaskId, AccountProjectId, ParentAccountProjectTaskId, TaskName, TaskDescription, AccountTaskTypeId, DeadlineDate, CompletedPercent, Completed, 
                      IsParentTask, IsForAllEmployees, AccountPriorityId, TaskStatusId, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, TaskStatus, 
                      CreatedByFirstName, CreatedByLastName, Priority, ProjectName, ProjectCode, TaskType, AccountId, AccountProjectMilestoneId, MilestoneDescription, IsReOpen, 
                      ModifiedByFirstName, ModifiedByLastName, ISNULL(EstimatedCost, 0) AS EstimatedCost, EstimatedHours, EstimatedTimeSpentUnit, AccountEmployeeId, IsDisabled, 
                      TaskCode, IsTemplate, IsForAllProjectTask, IsBillable, AccountClientId, ClientNick, ClientName, Duration, ParentTaskName, EstimatedCurrencyId, 
                      EstimatedCurrencyCode, BillableTotalHours, NonBillableTotalHours, TotalHours, CurrencyEmployeeCost, EstimatedCurrencyExchangeRate, 
                      CASE WHEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate > 0 THEN dbo.vueAccountProjectTaskOnlyForReport.EstimatedCost / dbo.vueAccountProjectTaskOnlyForReport.EstimatedCurrencyExchangeRate
                       ELSE 0 END AS CurrencyEstimatedCost, CurrencyAmount, ProjectDescription, MilestoneDate
FROM         dbo.vueAccountProjectTaskOnlyForReport'
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '7cd042a0-32ab-434e-a62d-5e2bd32846b1')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7cd042a0-32ab-434e-a62d-5e2bd32846b1', '3a080202-6842-4eca-8c79-a945978810b4', N'MilestoneDate', 150, 0, NULL, NULL, 198, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Milestone Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('df5731dd-4ca0-4e0c-a7b3-b882b807d26d', '1e657f0a-881b-4f50-839a-c3a962c9a460', N'MilestoneDate', 100, 0, NULL, NULL, 198, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Milestone Date', 0, 0)
END
GO
-- Drop View vueAccountTimeExpenseBillingTimesheet
Print 'Drop View vueAccountTimeExpenseBillingTimesheet'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheet' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountTimeExpenseBillingTimesheet]
GO
-- Drop View vueAccountTimeExpenseBillingExpense
Print 'Drop View vueAccountTimeExpenseBillingExpense'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountTimeExpenseBillingExpense]
GO
-- Create View vueAccountTimeExpenseBillingTimesheet
Print 'Create View vueAccountTimeExpenseBillingTimesheet'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingTimesheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingTimesheet
AS
SELECT     dbo.AccountProject.AccountClientId, dbo.AccountProject.ProjectName, dbo.AccountProjectTask.TaskName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountTimeExpenseBillingTimesheet.Description, 
                      dbo.AccountEmployeeTimeEntry.Approved, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, ROUND(CONVERT(float, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) 
                      * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) AS TotalHours, dbo.AccountEmployeeTimeEntry.BillingRate * DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) AS Amount, dbo.AccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.AccountTimeExpenseBillingTimesheet.BillHours, dbo.AccountTimeExpenseBillingTimesheet.ActualBillingRate, 
                      dbo.AccountTimeExpenseBillingTimesheet.TotalAmount, dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId1, 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTaxCodeId2, dbo.AccountTimeExpenseBilling.SubTotal, dbo.AccountTimeExpenseBilling.TaxCode1, 
                      dbo.AccountTimeExpenseBilling.TaxCode2, dbo.AccountTimeExpenseBilling.GrandTotal, dbo.AccountParty.PartyNick, 
                      dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountEmployeeTimeEntry.Billed, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate
FROM         dbo.AccountTimeExpenseBillingTimesheet RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountProjectTask INNER JOIN
                      dbo.AccountProject ON dbo.AccountProjectTask.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployeeTimeEntry ON dbo.AccountProjectTask.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId AND 
                      dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId ON 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountTimeExpenseBillingTimesheetId = dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId
                       AND dbo.AccountTimeExpenseBillingTimesheet.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingTimesheet.AccountProjectTaskId = dbo.AccountEmployeeTimeEntry.AccountProjectTaskId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId
WHERE     (dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.BillingRate <> 0.0000) AND 
                      (dbo.AccountEmployeeTimeEntry.BillingRate IS NOT NULL) AND (dbo.AccountEmployeeTimeEntry.Approved = 1)'
GO
-- Create View vueAccountTimeExpenseBillingExpense
Print 'Create View vueAccountTimeExpenseBillingExpense'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingExpense
AS
SELECT     dbo.AccountExpenseEntry.Billed, dbo.AccountProject.ProjectName, dbo.AccountProject.AccountClientId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpenseType.ExpenseType, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpense.AccountExpenseId, 
                      dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountExpenseEntry.Approved, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpenseEntry.ExchangeRate, dbo.AccountTimeExpenseBillingExpense.ActualExpenseAmount
FROM         dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId INNER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId = dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId AND
                       dbo.AccountTimeExpenseBillingExpense.AccountProjectId = dbo.AccountExpenseEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingExpense.AccountExpenseId = dbo.AccountExpenseEntry.AccountExpenseId
WHERE     (dbo.AccountExpenseEntry.Approved = 1)'

GO
-- Drop Trigger tr_trigtest
Print 'Drop Trigger tr_trigtest'
GO
IF (EXISTS(SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[dbo].[tr_trigtest]') AND [type]='TR'))
DROP TRIGGER [dbo].[tr_trigtest]
GO
-- Create Trigger tr_trigtest
Print 'Create Trigger tr_trigtest'
GO
IF NOT (EXISTS(SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[dbo].[tr_trigtest]') AND [type]='TR'))
EXEC sp_executesql N'CREATE trigger [dbo].[tr_trigtest] on [dbo].[AccountProjectTask] for insert, update, delete
as

declare @bit int ,
	@field int ,
	@maxfield int ,
	@char int ,
	@fieldname nvarchar(256) ,
	@TableName nvarchar(256) ,
	@PKCols nvarchar(2000) ,
	@sql nvarchar(4000), 
	@UpdateDate nvarchar(42) ,
	@UserName nvarchar(256) ,
	@Type nchar(1) ,
	@PKSelect nvarchar(2000)
	
	select @TableName = ''AccountProjectTask''

	-- date and user
	select 	@UserName = system_user ,
		@UpdateDate = convert(nvarchar(16), getdate(), 112) + '' '' + convert(nvarchar(16), getdate(), 114)



	-- Action
	if exists (select * from inserted)
		if exists (select * from deleted)
			Begin
				select @Type = ''U''
				select @UserName  = ModifiedByEmployeeId from inserted
			End 
		else
			Begin
				select @UserName  = CreatedByEmployeeId from inserted
				select @Type = ''I''
			End
	else
		Begin
			select @Type = ''D''
			select @UserName  = ModifiedByEmployeeId from deleted
		End 
	
	-- get list of columns
	select * into #ins from inserted
	select * into #del from deleted
	
	-- Get primary key columns for full outer join
	select	@PKCols = coalesce(@PKCols + '' and'', '' on'') + '' i.'' + c.COLUMN_NAME + '' = d.'' + c.COLUMN_NAME
	from	INFORMATION_SCHEMA.TABLE_CONSTRAINTS pk ,
		INFORMATION_SCHEMA.KEY_COLUMN_USAGE c
	where 	pk.TABLE_NAME = @TableName
	and	CONSTRAINT_TYPE = ''PRIMARY KEY''
	and	c.TABLE_NAME = pk.TABLE_NAME
	and	c.CONSTRAINT_NAME = pk.CONSTRAINT_NAME
	
	-- Get primary key select for insert
	select @PKSelect = coalesce(@PKSelect+''+'','''') + ''''''<'' + COLUMN_NAME + ''=''''+convert(nvarchar(200),coalesce(i.'' + COLUMN_NAME +'',d.'' + COLUMN_NAME + ''))+''''>'''''' 
	from	INFORMATION_SCHEMA.TABLE_CONSTRAINTS pk ,
		INFORMATION_SCHEMA.KEY_COLUMN_USAGE c
	where 	pk.TABLE_NAME = @TableName
	and	CONSTRAINT_TYPE = ''PRIMARY KEY''
	and	c.TABLE_NAME = pk.TABLE_NAME
	and	c.CONSTRAINT_NAME = pk.CONSTRAINT_NAME
	
	if @PKCols is null
	begin
		raiserror(''no PK on table %s'', 16, -1, @TableName)
		return
	end
	
	select @field = 0, @maxfield = max(ORDINAL_POSITION) from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = @TableName
	while @field < @maxfield
	begin
		select @field = min(ORDINAL_POSITION) from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = @TableName and ORDINAL_POSITION > @field
		select @bit = (@field - 1 )% 8 + 1
		select @bit = power(2,@bit - 1)
		select @char = ((@field - 1) / 8) + 1
		if substring(COLUMNS_UPDATED(),@char, 1) & @bit > 0 or @Type in (''I'',''D'')
		begin
			select @fieldname = COLUMN_NAME from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = @TableName and ORDINAL_POSITION = @field
			select @sql = 		''insert Audit (Type, TableName, PK, FieldName, OldValue, NewValue, UpdateDate, UserName)''
			select @sql = @sql + 	'' select '''''' + @Type + ''''''''
			select @sql = @sql + 	'','''''' + @TableName + ''''''''
			select @sql = @sql + 	'','' + Replace(Replace(@PKSelect,''<AccountProjectTaskId='',''''),''>'','''')
			select @sql = @sql + 	'','''''' + @fieldname + ''''''''
			select @sql = @sql + 	'',convert(nvarchar(2000),d.'' + @fieldname + '')''
			select @sql = @sql + 	'',convert(nvarchar(2000),i.'' + @fieldname + '')''
			select @sql = @sql + 	'','''''' + @UpdateDate + ''''''''
			select @sql = @sql + 	'','''''' + @UserName + ''''''''
			select @sql = @sql + 	'' from #ins i full outer join #del d''
			select @sql = @sql + 	@PKCols
			select @sql = @sql + 	'' where i.'' + @fieldname + '' <> d.'' + @fieldname 
			select @sql = @sql + 	'' or (i.'' + @fieldname + '' is null and  d.'' + @fieldname + '' is not null)'' 
			select @sql = @sql + 	'' or (i.'' + @fieldname + '' is not null and  d.'' + @fieldname + '' is null)'' 
			exec (@sql)
		end
	end'
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPagePermission]') AND name = N'_dta_index_AccountPagePermission_5_936390405__K2_1_3_4_5_6_7_8_9_10_11'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountPagePermission_5_936390405__K2_1_3_4_5_6_7_8_9_10_11] ON [dbo].[AccountPagePermission] 
(
	[AccountId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPagePermission]') AND name = N'_dta_stat_936390405_4_2'))
CREATE STATISTICS [_dta_stat_936390405_4_2] ON [dbo].[AccountPagePermission]([SystemSecurityCategoryPageId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPagePermission]') AND name = N'_dta_stat_936390405_1_2_3'))
CREATE STATISTICS [_dta_stat_936390405_1_2_3] ON [dbo].[AccountPagePermission]([AccountPagePermissionId], [AccountId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPagePermission]') AND name = N'_dta_stat_936390405_1_3_4_5'))
CREATE STATISTICS [_dta_stat_936390405_1_3_4_5] ON [dbo].[AccountPagePermission]([AccountPagePermissionId], [AccountRoleId], [SystemSecurityCategoryPageId], [SystemPermissionId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPagePermission]') AND name = N'_dta_stat_936390405_2_3_4_1'))
CREATE STATISTICS [_dta_stat_936390405_2_3_4_1] ON [dbo].[AccountPagePermission]([AccountId], [AccountRoleId], [SystemSecurityCategoryPageId], [AccountPagePermissionId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPagePermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPagePermission]') AND name = N'_dta_stat_936390405_2_1_3_4_5'))
CREATE STATISTICS [_dta_stat_936390405_2_1_3_4_5] ON [dbo].[AccountPagePermission]([AccountId], [AccountPagePermissionId], [AccountRoleId], [SystemSecurityCategoryPageId], [SystemPermissionId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_index_AccountStatus_5_2102402659__K2_K1_K3_4_5'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountStatus_5_2102402659__K2_K1_K3_4_5] ON [dbo].[AccountStatus] 
(
	[AccountId] ASC,
	[AccountStatusId] ASC,
	[StatusTypeId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_index_AccountStatus_5_2102402659__K1_4'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountStatus_5_2102402659__K1_4] ON [dbo].[AccountStatus] 
(
	[AccountStatusId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_1_3'))
CREATE STATISTICS [_dta_stat_2102402659_1_3] ON [dbo].[AccountStatus]([AccountStatusId], [StatusTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_4_1'))
CREATE STATISTICS [_dta_stat_2102402659_4_1] ON [dbo].[AccountStatus]([Status], [AccountStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_2_3_1'))
CREATE STATISTICS [_dta_stat_2102402659_2_3_1] ON [dbo].[AccountStatus]([AccountId], [StatusTypeId], [AccountStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_2_3_5'))
CREATE STATISTICS [_dta_stat_2102402659_2_3_5] ON [dbo].[AccountStatus]([AccountId], [StatusTypeId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_3_1_6'))
CREATE STATISTICS [_dta_stat_2102402659_3_1_6] ON [dbo].[AccountStatus]([StatusTypeId], [AccountStatusId], [MasterAccountStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_5_1_6'))
CREATE STATISTICS [_dta_stat_2102402659_5_1_6] ON [dbo].[AccountStatus]([IsDisabled], [AccountStatusId], [MasterAccountStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_2_1_3_5'))
CREATE STATISTICS [_dta_stat_2102402659_2_1_3_5] ON [dbo].[AccountStatus]([AccountId], [AccountStatusId], [StatusTypeId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_3_1_5_6'))
CREATE STATISTICS [_dta_stat_2102402659_3_1_5_6] ON [dbo].[AccountStatus]([StatusTypeId], [AccountStatusId], [IsDisabled], [MasterAccountStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_6_1_2_3'))
CREATE STATISTICS [_dta_stat_2102402659_6_1_2_3] ON [dbo].[AccountStatus]([MasterAccountStatusId], [AccountStatusId], [AccountId], [StatusTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountStatus' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountStatus]') AND name = N'_dta_stat_2102402659_1_2_3_5_6'))
CREATE STATISTICS [_dta_stat_2102402659_1_2_3_5_6] ON [dbo].[AccountStatus]([AccountStatusId], [AccountId], [StatusTypeId], [IsDisabled], [MasterAccountStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_index_AccountObjectPermission_5_318064319__K3_K2_K1_4_5_6_7_8_9_10_11_12'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountObjectPermission_5_318064319__K3_K2_K1_4_5_6_7_8_9_10_11_12] ON [dbo].[AccountObjectPermission] 
(
	[AccountRoleId] ASC,
	[AccountReportId] ASC,
	[AccountObjectPermissionId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_10'))
CREATE STATISTICS [_dta_stat_318064319_1_10] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AllowOwnProject])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_12'))
CREATE STATISTICS [_dta_stat_318064319_1_12] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AllowOwnApproval])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_7'))
CREATE STATISTICS [_dta_stat_318064319_1_7] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AllowAllUser])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_8_1'))
CREATE STATISTICS [_dta_stat_318064319_8_1] ON [dbo].[AccountObjectPermission]([AllowOwnReport], [AccountObjectPermissionId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_11'))
CREATE STATISTICS [_dta_stat_318064319_1_11] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AllowOwnSubOrdinates])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_9_1'))
CREATE STATISTICS [_dta_stat_318064319_9_1] ON [dbo].[AccountObjectPermission]([AllowOwnTeam], [AccountObjectPermissionId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_2_9'))
CREATE STATISTICS [_dta_stat_318064319_3_2_9] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountReportId], [AllowOwnTeam])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_2_12'))
CREATE STATISTICS [_dta_stat_318064319_1_2_12] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountReportId], [AllowOwnApproval])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_2_1_3'))
CREATE STATISTICS [_dta_stat_318064319_2_1_3] ON [dbo].[AccountObjectPermission]([AccountReportId], [AccountObjectPermissionId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_2_11'))
CREATE STATISTICS [_dta_stat_318064319_1_2_11] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountReportId], [AllowOwnSubOrdinates])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_2_10'))
CREATE STATISTICS [_dta_stat_318064319_3_2_10] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountReportId], [AllowOwnProject])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_2_11'))
CREATE STATISTICS [_dta_stat_318064319_3_2_11] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountReportId], [AllowOwnSubOrdinates])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_2_12'))
CREATE STATISTICS [_dta_stat_318064319_3_2_12] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountReportId], [AllowOwnApproval])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_2_10'))
CREATE STATISTICS [_dta_stat_318064319_1_2_10] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountReportId], [AllowOwnProject])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_2_9'))
CREATE STATISTICS [_dta_stat_318064319_1_2_9] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountReportId], [AllowOwnTeam])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_2_7'))
CREATE STATISTICS [_dta_stat_318064319_3_2_7] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountReportId], [AllowAllUser])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_2_8'))
CREATE STATISTICS [_dta_stat_318064319_3_2_8] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountReportId], [AllowOwnReport])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_2_7'))
CREATE STATISTICS [_dta_stat_318064319_1_2_7] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountReportId], [AllowAllUser])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_2_8'))
CREATE STATISTICS [_dta_stat_318064319_1_2_8] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountReportId], [AllowOwnReport])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_3_2_9'))
CREATE STATISTICS [_dta_stat_318064319_1_3_2_9] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountRoleId], [AccountReportId], [AllowOwnTeam])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_3_2_8'))
CREATE STATISTICS [_dta_stat_318064319_1_3_2_8] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountRoleId], [AccountReportId], [AllowOwnReport])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_1_2_7'))
CREATE STATISTICS [_dta_stat_318064319_3_1_2_7] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountObjectPermissionId], [AccountReportId], [AllowAllUser])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_1_2_11'))
CREATE STATISTICS [_dta_stat_318064319_3_1_2_11] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountObjectPermissionId], [AccountReportId], [AllowOwnSubOrdinates])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_1_3_2_12'))
CREATE STATISTICS [_dta_stat_318064319_1_3_2_12] ON [dbo].[AccountObjectPermission]([AccountObjectPermissionId], [AccountRoleId], [AccountReportId], [AllowOwnApproval])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountObjectPermission' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountObjectPermission]') AND name = N'_dta_stat_318064319_3_1_2_10'))
CREATE STATISTICS [_dta_stat_318064319_3_1_2_10] ON [dbo].[AccountObjectPermission]([AccountRoleId], [AccountObjectPermissionId], [AccountReportId], [AllowOwnProject])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_index_AccountRole_5_115583550__K2_K3_K1_4_5_6_7_8_9_10_11_12'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountRole_5_115583550__K2_K3_K1_4_5_6_7_8_9_10_11_12] ON [dbo].[AccountRole] 
(
	[AccountId] ASC,
	[Role] ASC,
	[AccountRoleId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_index_AccountRole_5_115583550__K1_3_10'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountRole_5_115583550__K1_3_10] ON [dbo].[AccountRole] 
(
	[AccountRoleId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_stat_115583550_2_1'))
CREATE STATISTICS [_dta_stat_115583550_2_1] ON [dbo].[AccountRole]([AccountId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_stat_115583550_4_1_3'))
CREATE STATISTICS [_dta_stat_115583550_4_1_3] ON [dbo].[AccountRole]([IsDisabled], [AccountRoleId], [Role])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_stat_115583550_10_1_4_3'))
CREATE STATISTICS [_dta_stat_115583550_10_1_4_3] ON [dbo].[AccountRole]([MasterAccountRoleId], [AccountRoleId], [IsDisabled], [Role])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_stat_115583550_2_10_1_4'))
CREATE STATISTICS [_dta_stat_115583550_2_10_1_4] ON [dbo].[AccountRole]([AccountId], [MasterAccountRoleId], [AccountRoleId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_stat_115583550_2_4_1_3'))
CREATE STATISTICS [_dta_stat_115583550_2_4_1_3] ON [dbo].[AccountRole]([AccountId], [IsDisabled], [AccountRoleId], [Role])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountRole' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountRole]') AND name = N'_dta_stat_115583550_3_1_10_2_4'))
CREATE STATISTICS [_dta_stat_115583550_3_1_10_2_4] ON [dbo].[AccountRole]([Role], [AccountRoleId], [MasterAccountRoleId], [AccountId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEMailNotificationPreference' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEMailNotificationPreference]') AND name = N'_dta_index_AccountEMailNotificationPreferen_5_1697441121__K2_K1_K5_K6_3_4_7'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEMailNotificationPreferen_5_1697441121__K2_K1_K5_K6_3_4_7] ON [dbo].[AccountEMailNotificationPreference] 
(
	[AccountId] ASC,
	[AccountEMailNotificationPreferenceId] ASC,
	[SystemEMailNotificationId] ASC,
	[SystemEMailNotificationTypeId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEMailNotificationPreference' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEMailNotificationPreference]') AND name = N'_dta_stat_1697441121_4_1_5'))
CREATE STATISTICS [_dta_stat_1697441121_4_1_5] ON [dbo].[AccountEMailNotificationPreference]([AccountEmployeeId], [AccountEMailNotificationPreferenceId], [SystemEMailNotificationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEMailNotificationPreference' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEMailNotificationPreference]') AND name = N'_dta_stat_1697441121_1_5_6_4'))
CREATE STATISTICS [_dta_stat_1697441121_1_5_6_4] ON [dbo].[AccountEMailNotificationPreference]([AccountEMailNotificationPreferenceId], [SystemEMailNotificationId], [SystemEMailNotificationTypeId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEMailNotificationPreference' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEMailNotificationPreference]') AND name = N'_dta_stat_1697441121_1_5_6_2'))
CREATE STATISTICS [_dta_stat_1697441121_1_5_6_2] ON [dbo].[AccountEMailNotificationPreference]([AccountEMailNotificationPreferenceId], [SystemEMailNotificationId], [SystemEMailNotificationTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseType]') AND name = N'_dta_index_AccountExpenseType_5_631061384__K3_K1_2_4_5_6_7_8_9_10'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountExpenseType_5_631061384__K3_K1_2_4_5_6_7_8_9_10] ON [dbo].[AccountExpenseType] 
(
	[AccountId] ASC,
	[AccountExpenseTypeId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseType]') AND name = N'_dta_stat_631061384_2_1'))
CREATE STATISTICS [_dta_stat_631061384_2_1] ON [dbo].[AccountExpenseType]([ExpenseType], [AccountExpenseTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseType]') AND name = N'_dta_stat_631061384_1_3'))
CREATE STATISTICS [_dta_stat_631061384_1_3] ON [dbo].[AccountExpenseType]([AccountExpenseTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_] ON [dbo].[AccountEmployee] 
(
	[AccountId] ASC,
	[AccountEmployeeId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_index_AccountEmployee_5_1706541213__K1_4_5'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployee_5_1706541213__K1_4_5] ON [dbo].[AccountEmployee] 
(
	[AccountEmployeeId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_42'))
CREATE STATISTICS [_dta_stat_1706541213_1_42] ON [dbo].[AccountEmployee]([AccountEmployeeId], [Username])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_9_30'))
CREATE STATISTICS [_dta_stat_1706541213_9_30] ON [dbo].[AccountEmployee]([AccountDepartmentId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_33_1'))
CREATE STATISTICS [_dta_stat_1706541213_33_1] ON [dbo].[AccountEmployee]([DefaultEmployee], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_4_1'))
CREATE STATISTICS [_dta_stat_1706541213_4_1] ON [dbo].[AccountEmployee]([FirstName], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_30_8'))
CREATE STATISTICS [_dta_stat_1706541213_30_8] ON [dbo].[AccountEmployee]([IsDisabled], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_9_10'))
CREATE STATISTICS [_dta_stat_1706541213_1_9_10] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountDepartmentId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_10_42'))
CREATE STATISTICS [_dta_stat_1706541213_1_10_42] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountRoleId], [Username])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_8_40_1'))
CREATE STATISTICS [_dta_stat_1706541213_8_40_1] ON [dbo].[AccountEmployee]([AccountId], [EmployeeTypeId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_44_48'))
CREATE STATISTICS [_dta_stat_1706541213_1_44_48] ON [dbo].[AccountEmployee]([AccountEmployeeId], [EmployeeManagerId], [AccountWorkingDayTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_2_42_30'))
CREATE STATISTICS [_dta_stat_1706541213_2_42_30] ON [dbo].[AccountEmployee]([Password], [Username], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_25_1_11_10'))
CREATE STATISTICS [_dta_stat_1706541213_25_1_11_10] ON [dbo].[AccountEmployee]([BillingTypeId], [AccountEmployeeId], [AccountLocationId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_8_2_4'))
CREATE STATISTICS [_dta_stat_1706541213_1_8_2_4] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountId], [Password], [FirstName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_48_1_42_8'))
CREATE STATISTICS [_dta_stat_1706541213_48_1_42_8] ON [dbo].[AccountEmployee]([AccountWorkingDayTypeId], [AccountEmployeeId], [Username], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_48_8_1_30'))
CREATE STATISTICS [_dta_stat_1706541213_48_8_1_30] ON [dbo].[AccountEmployee]([AccountWorkingDayTypeId], [AccountId], [AccountEmployeeId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_11_10_9_25'))
CREATE STATISTICS [_dta_stat_1706541213_11_10_9_25] ON [dbo].[AccountEmployee]([AccountLocationId], [AccountRoleId], [AccountDepartmentId], [BillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_11_8_1_30'))
CREATE STATISTICS [_dta_stat_1706541213_11_8_1_30] ON [dbo].[AccountEmployee]([AccountLocationId], [AccountId], [AccountEmployeeId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_9_1_42_8_10'))
CREATE STATISTICS [_dta_stat_1706541213_9_1_42_8_10] ON [dbo].[AccountEmployee]([AccountDepartmentId], [AccountEmployeeId], [Username], [AccountId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_44_1_11_10_9'))
CREATE STATISTICS [_dta_stat_1706541213_44_1_11_10_9] ON [dbo].[AccountEmployee]([EmployeeManagerId], [AccountEmployeeId], [AccountLocationId], [AccountRoleId], [AccountDepartmentId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_10_30_1_2_42'))
CREATE STATISTICS [_dta_stat_1706541213_10_30_1_2_42] ON [dbo].[AccountEmployee]([AccountRoleId], [IsDisabled], [AccountEmployeeId], [Password], [Username])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_48_8_40_10'))
CREATE STATISTICS [_dta_stat_1706541213_1_48_8_40_10] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountWorkingDayTypeId], [AccountId], [EmployeeTypeId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_10_8_1_30_11'))
CREATE STATISTICS [_dta_stat_1706541213_10_8_1_30_11] ON [dbo].[AccountEmployee]([AccountRoleId], [AccountId], [AccountEmployeeId], [IsDisabled], [AccountLocationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_11_1_10_9_25'))
CREATE STATISTICS [_dta_stat_1706541213_11_1_10_9_25] ON [dbo].[AccountEmployee]([AccountLocationId], [AccountEmployeeId], [AccountRoleId], [AccountDepartmentId], [BillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_2_4_5_8'))
CREATE STATISTICS [_dta_stat_1706541213_1_2_4_5_8] ON [dbo].[AccountEmployee]([AccountEmployeeId], [Password], [FirstName], [LastName], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_30_1_9_8_10'))
CREATE STATISTICS [_dta_stat_1706541213_30_1_9_8_10] ON [dbo].[AccountEmployee]([IsDisabled], [AccountEmployeeId], [AccountDepartmentId], [AccountId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_11_42_8_10_48'))
CREATE STATISTICS [_dta_stat_1706541213_1_11_42_8_10_48] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountLocationId], [Username], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_11_1_8_40_10_39'))
CREATE STATISTICS [_dta_stat_1706541213_11_1_8_40_10_39] ON [dbo].[AccountEmployee]([AccountLocationId], [AccountEmployeeId], [AccountId], [EmployeeTypeId], [AccountRoleId], [ExternalUserClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_48_30_1_2_42_8'))
CREATE STATISTICS [_dta_stat_1706541213_48_30_1_2_42_8] ON [dbo].[AccountEmployee]([AccountWorkingDayTypeId], [IsDisabled], [AccountEmployeeId], [Password], [Username], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_9_1_11_10_25_44'))
CREATE STATISTICS [_dta_stat_1706541213_9_1_11_10_25_44] ON [dbo].[AccountEmployee]([AccountDepartmentId], [AccountEmployeeId], [AccountLocationId], [AccountRoleId], [BillingTypeId], [EmployeeManagerId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_9_8_1_30_11_48'))
CREATE STATISTICS [_dta_stat_1706541213_9_8_1_30_11_48] ON [dbo].[AccountEmployee]([AccountDepartmentId], [AccountId], [AccountEmployeeId], [IsDisabled], [AccountLocationId], [AccountWorkingDayTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_11_1_8_40_10_48'))
CREATE STATISTICS [_dta_stat_1706541213_11_1_8_40_10_48] ON [dbo].[AccountEmployee]([AccountLocationId], [AccountEmployeeId], [AccountId], [EmployeeTypeId], [AccountRoleId], [AccountWorkingDayTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_8_30_2_4_5'))
CREATE STATISTICS [_dta_stat_1706541213_1_8_30_2_4_5] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountId], [IsDisabled], [Password], [FirstName], [LastName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_40_1_10_48_9_11'))
CREATE STATISTICS [_dta_stat_1706541213_40_1_10_48_9_11] ON [dbo].[AccountEmployee]([EmployeeTypeId], [AccountEmployeeId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_10_1_8_40_39_9_11'))
CREATE STATISTICS [_dta_stat_1706541213_10_1_8_40_39_9_11] ON [dbo].[AccountEmployee]([AccountRoleId], [AccountEmployeeId], [AccountId], [EmployeeTypeId], [ExternalUserClientId], [AccountDepartmentId], [AccountLocationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_30_1_9_2_42_8_10'))
CREATE STATISTICS [_dta_stat_1706541213_30_1_9_2_42_8_10] ON [dbo].[AccountEmployee]([IsDisabled], [AccountEmployeeId], [AccountDepartmentId], [Password], [Username], [AccountId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_25_1_8_40_10_48_9'))
CREATE STATISTICS [_dta_stat_1706541213_25_1_8_40_10_48_9] ON [dbo].[AccountEmployee]([BillingTypeId], [AccountEmployeeId], [AccountId], [EmployeeTypeId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_10_48_9_11_25_40'))
CREATE STATISTICS [_dta_stat_1706541213_1_10_48_9_11_25_40] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId], [BillingTypeId], [EmployeeTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_25_8_1_30_11_48_10'))
CREATE STATISTICS [_dta_stat_1706541213_25_8_1_30_11_48_10] ON [dbo].[AccountEmployee]([BillingTypeId], [AccountId], [AccountEmployeeId], [IsDisabled], [AccountLocationId], [AccountWorkingDayTypeId], [AccountRoleId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_30_1_25_8_10_48_9'))
CREATE STATISTICS [_dta_stat_1706541213_30_1_25_8_10_48_9] ON [dbo].[AccountEmployee]([IsDisabled], [AccountEmployeeId], [BillingTypeId], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_10_39_9_11_25_8'))
CREATE STATISTICS [_dta_stat_1706541213_1_10_39_9_11_25_8] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountRoleId], [ExternalUserClientId], [AccountDepartmentId], [AccountLocationId], [BillingTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_30_1_10_48_9_11_25'))
CREATE STATISTICS [_dta_stat_1706541213_30_1_10_48_9_11_25] ON [dbo].[AccountEmployee]([IsDisabled], [AccountEmployeeId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId], [BillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_25_1_42_8_10_48_9'))
CREATE STATISTICS [_dta_stat_1706541213_25_1_42_8_10_48_9] ON [dbo].[AccountEmployee]([BillingTypeId], [AccountEmployeeId], [Username], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_40_1_10_39_9_11_25'))
CREATE STATISTICS [_dta_stat_1706541213_40_1_10_39_9_11_25] ON [dbo].[AccountEmployee]([EmployeeTypeId], [AccountEmployeeId], [AccountRoleId], [ExternalUserClientId], [AccountDepartmentId], [AccountLocationId], [BillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_11_8_48_1_10_9_25'))
CREATE STATISTICS [_dta_stat_1706541213_11_8_48_1_10_9_25] ON [dbo].[AccountEmployee]([AccountLocationId], [AccountId], [AccountWorkingDayTypeId], [AccountEmployeeId], [AccountRoleId], [AccountDepartmentId], [BillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_42_30_1_8_10_48_9_11'))
CREATE STATISTICS [_dta_stat_1706541213_42_30_1_8_10_48_9_11] ON [dbo].[AccountEmployee]([Username], [IsDisabled], [AccountEmployeeId], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_30_1_11_2_42_8_10_48'))
CREATE STATISTICS [_dta_stat_1706541213_30_1_11_2_42_8_10_48] ON [dbo].[AccountEmployee]([IsDisabled], [AccountEmployeeId], [AccountLocationId], [Password], [Username], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_30_11_8_48_1_10_9_25'))
CREATE STATISTICS [_dta_stat_1706541213_30_11_8_48_1_10_9_25] ON [dbo].[AccountEmployee]([IsDisabled], [AccountLocationId], [AccountId], [AccountWorkingDayTypeId], [AccountEmployeeId], [AccountRoleId], [AccountDepartmentId], [BillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_9_8_40_10_48_11_25'))
CREATE STATISTICS [_dta_stat_1706541213_1_9_8_40_10_48_11_25] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountDepartmentId], [AccountId], [EmployeeTypeId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountLocationId], [BillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_25_8_40_10_39_9_11'))
CREATE STATISTICS [_dta_stat_1706541213_1_25_8_40_10_39_9_11] ON [dbo].[AccountEmployee]([AccountEmployeeId], [BillingTypeId], [AccountId], [EmployeeTypeId], [AccountRoleId], [ExternalUserClientId], [AccountDepartmentId], [AccountLocationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_2_1_42_30_8_10_48_9_11'))
CREATE STATISTICS [_dta_stat_1706541213_2_1_42_30_8_10_48_9_11] ON [dbo].[AccountEmployee]([Password], [AccountEmployeeId], [Username], [IsDisabled], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_8_10_48_9_11_25_42_30'))
CREATE STATISTICS [_dta_stat_1706541213_1_8_10_48_9_11_25_42_30] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId], [BillingTypeId], [Username], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_1_8_10_48_9_11_25_2_42'))
CREATE STATISTICS [_dta_stat_1706541213_1_8_10_48_9_11_25_2_42] ON [dbo].[AccountEmployee]([AccountEmployeeId], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId], [BillingTypeId], [Password], [Username])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_stat_1706541213_25_30_1_2_42_8_10_48_9_11'))
CREATE STATISTICS [_dta_stat_1706541213_25_30_1_2_42_8_10_48_9_11] ON [dbo].[AccountEmployee]([BillingTypeId], [IsDisabled], [AccountEmployeeId], [Password], [Username], [AccountId], [AccountRoleId], [AccountWorkingDayTypeId], [AccountDepartmentId], [AccountLocationId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33] ON [dbo].[AccountProject] 
(
	[TimeSheetApprovalTypeId] ASC,
	[AccountProjectId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33] ON [dbo].[AccountProject] 
(
	[AccountClientId] ASC,
	[AccountProjectId] ASC,
	[IsTemplate] ASC,
	[IsDisabled] ASC,
	[LeaderEmployeeId] ASC,
	[ProjectManagerEmployeeId] ASC,
	[ProjectBillingRateTypeId] ASC,
	[ProjectStatusId] ASC,
	[ProjectName] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16] ON [dbo].[AccountProject] 
(
	[ExpenseApprovalTypeId] ASC,
	[AccountProjectId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16] ON [dbo].[AccountProject] 
(
	[TimeSheetApprovalTypeId] ASC,
	[AccountProjectId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16] ON [dbo].[AccountProject] 
(
	[IsTemplate] ASC,
	[AccountClientId] ASC,
	[AccountProjectId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12] ON [dbo].[AccountProject] 
(
	[AccountProjectId] ASC,
	[TimeSheetApprovalTypeId] ASC,
	[ProjectName] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K1_K21'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_5_1708637230__K1_K21] ON [dbo].[AccountProject] 
(
	[AccountProjectId] ASC,
	[TimeSheetApprovalTypeId] ASC
)ON [PRIMARY]
GO


IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_2_11'))
CREATE STATISTICS [_dta_stat_1708637230_2_11] ON [dbo].[AccountProject]([AccountId], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_16_31'))
CREATE STATISTICS [_dta_stat_1708637230_16_31] ON [dbo].[AccountProject]([ProjectCode], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_11_12'))
CREATE STATISTICS [_dta_stat_1708637230_1_11_12] ON [dbo].[AccountProject]([AccountProjectId], [LeaderEmployeeId], [ProjectManagerEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_2_1_11'))
CREATE STATISTICS [_dta_stat_1708637230_2_1_11] ON [dbo].[AccountProject]([AccountId], [AccountProjectId], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_11_1_21'))
CREATE STATISTICS [_dta_stat_1708637230_11_1_21] ON [dbo].[AccountProject]([LeaderEmployeeId], [AccountProjectId], [TimeSheetApprovalTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_30_31_11'))
CREATE STATISTICS [_dta_stat_1708637230_30_31_11] ON [dbo].[AccountProject]([IsDisabled], [IsTemplate], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_22_11'))
CREATE STATISTICS [_dta_stat_1708637230_1_22_11] ON [dbo].[AccountProject]([AccountProjectId], [ExpenseApprovalTypeId], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_22_6'))
CREATE STATISTICS [_dta_stat_1708637230_1_22_6] ON [dbo].[AccountProject]([AccountProjectId], [ExpenseApprovalTypeId], [ProjectName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_12_21'))
CREATE STATISTICS [_dta_stat_1708637230_1_12_21] ON [dbo].[AccountProject]([AccountProjectId], [ProjectManagerEmployeeId], [TimeSheetApprovalTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_22_1_4'))
CREATE STATISTICS [_dta_stat_1708637230_22_1_4] ON [dbo].[AccountProject]([ExpenseApprovalTypeId], [AccountProjectId], [AccountClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_2_1_4'))
CREATE STATISTICS [_dta_stat_1708637230_2_1_4] ON [dbo].[AccountProject]([AccountId], [AccountProjectId], [AccountClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_4_2_31'))
CREATE STATISTICS [_dta_stat_1708637230_4_2_31] ON [dbo].[AccountProject]([AccountClientId], [AccountId], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_31_1_12'))
CREATE STATISTICS [_dta_stat_1708637230_31_1_12] ON [dbo].[AccountProject]([IsTemplate], [AccountProjectId], [ProjectManagerEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_12_1_22'))
CREATE STATISTICS [_dta_stat_1708637230_12_1_22] ON [dbo].[AccountProject]([ProjectManagerEmployeeId], [AccountProjectId], [ExpenseApprovalTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_31_16'))
CREATE STATISTICS [_dta_stat_1708637230_1_31_16] ON [dbo].[AccountProject]([AccountProjectId], [IsTemplate], [ProjectCode])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_4_31_1'))
CREATE STATISTICS [_dta_stat_1708637230_4_31_1] ON [dbo].[AccountProject]([AccountClientId], [IsTemplate], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_30_11_12_4'))
CREATE STATISTICS [_dta_stat_1708637230_30_11_12_4] ON [dbo].[AccountProject]([IsDisabled], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_31_2_11_12'))
CREATE STATISTICS [_dta_stat_1708637230_31_2_11_12] ON [dbo].[AccountProject]([IsTemplate], [AccountId], [LeaderEmployeeId], [ProjectManagerEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_31_30_11'))
CREATE STATISTICS [_dta_stat_1708637230_1_31_30_11] ON [dbo].[AccountProject]([AccountProjectId], [IsTemplate], [IsDisabled], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_2_1_12_11'))
CREATE STATISTICS [_dta_stat_1708637230_2_1_12_11] ON [dbo].[AccountProject]([AccountId], [AccountProjectId], [ProjectManagerEmployeeId], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_2_31_1_4'))
CREATE STATISTICS [_dta_stat_1708637230_2_31_1_4] ON [dbo].[AccountProject]([AccountId], [IsTemplate], [AccountProjectId], [AccountClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_12_11_31_30'))
CREATE STATISTICS [_dta_stat_1708637230_12_11_31_30] ON [dbo].[AccountProject]([ProjectManagerEmployeeId], [LeaderEmployeeId], [IsTemplate], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_11_12_2_1_3'))
CREATE STATISTICS [_dta_stat_1708637230_11_12_2_1_3] ON [dbo].[AccountProject]([LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountId], [AccountProjectId], [AccountProjectTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_27_1_31_30_11'))
CREATE STATISTICS [_dta_stat_1708637230_27_1_31_30_11] ON [dbo].[AccountProject]([ProjectBillingRateTypeId], [AccountProjectId], [IsTemplate], [IsDisabled], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_6_11_12_4_1'))
CREATE STATISTICS [_dta_stat_1708637230_6_11_12_4_1] ON [dbo].[AccountProject]([ProjectName], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountClientId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_4_12_11_31_30'))
CREATE STATISTICS [_dta_stat_1708637230_4_12_11_31_30] ON [dbo].[AccountProject]([AccountClientId], [ProjectManagerEmployeeId], [LeaderEmployeeId], [IsTemplate], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_30_2_11_12_1'))
CREATE STATISTICS [_dta_stat_1708637230_30_2_11_12_1] ON [dbo].[AccountProject]([IsDisabled], [AccountId], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_2_3_4_11'))
CREATE STATISTICS [_dta_stat_1708637230_1_2_3_4_11] ON [dbo].[AccountProject]([AccountProjectId], [AccountId], [AccountProjectTypeId], [AccountClientId], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_27_11_12_2_30_31'))
CREATE STATISTICS [_dta_stat_1708637230_27_11_12_2_30_31] ON [dbo].[AccountProject]([ProjectBillingRateTypeId], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountId], [IsDisabled], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_11_12_1_31_30_27'))
CREATE STATISTICS [_dta_stat_1708637230_11_12_1_31_30_27] ON [dbo].[AccountProject]([LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountProjectId], [IsTemplate], [IsDisabled], [ProjectBillingRateTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_4_11_12_2_30_31'))
CREATE STATISTICS [_dta_stat_1708637230_4_11_12_2_30_31] ON [dbo].[AccountProject]([AccountClientId], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountId], [IsDisabled], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_11_12_4_1_19_30'))
CREATE STATISTICS [_dta_stat_1708637230_11_12_4_1_19_30] ON [dbo].[AccountProject]([LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountClientId], [AccountProjectId], [ProjectStatusId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_4_19_12_11_2'))
CREATE STATISTICS [_dta_stat_1708637230_1_4_19_12_11_2] ON [dbo].[AccountProject]([AccountProjectId], [AccountClientId], [ProjectStatusId], [ProjectManagerEmployeeId], [LeaderEmployeeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_31_1_4_19_12_11'))
CREATE STATISTICS [_dta_stat_1708637230_31_1_4_19_12_11] ON [dbo].[AccountProject]([IsTemplate], [AccountProjectId], [AccountClientId], [ProjectStatusId], [ProjectManagerEmployeeId], [LeaderEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_19_31_1_2_4_12'))
CREATE STATISTICS [_dta_stat_1708637230_19_31_1_2_4_12] ON [dbo].[AccountProject]([ProjectStatusId], [IsTemplate], [AccountProjectId], [AccountId], [AccountClientId], [ProjectManagerEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_30_11_12_27_4_1'))
CREATE STATISTICS [_dta_stat_1708637230_30_11_12_27_4_1] ON [dbo].[AccountProject]([IsDisabled], [LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectBillingRateTypeId], [AccountClientId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_31_6_11_12_4'))
CREATE STATISTICS [_dta_stat_1708637230_1_31_6_11_12_4] ON [dbo].[AccountProject]([AccountProjectId], [IsTemplate], [ProjectName], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_3_4_11_12_2'))
CREATE STATISTICS [_dta_stat_1708637230_1_3_4_11_12_2] ON [dbo].[AccountProject]([AccountProjectId], [AccountProjectTypeId], [AccountClientId], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_31_30_4_11_12'))
CREATE STATISTICS [_dta_stat_1708637230_1_31_30_4_11_12] ON [dbo].[AccountProject]([AccountProjectId], [IsTemplate], [IsDisabled], [AccountClientId], [LeaderEmployeeId], [ProjectManagerEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_19_12_11_31_30_4_1'))
CREATE STATISTICS [_dta_stat_1708637230_19_12_11_31_30_4_1] ON [dbo].[AccountProject]([ProjectStatusId], [ProjectManagerEmployeeId], [LeaderEmployeeId], [IsTemplate], [IsDisabled], [AccountClientId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_12_11_31_1_2_4_19'))
CREATE STATISTICS [_dta_stat_1708637230_12_11_31_1_2_4_19] ON [dbo].[AccountProject]([ProjectManagerEmployeeId], [LeaderEmployeeId], [IsTemplate], [AccountProjectId], [AccountId], [AccountClientId], [ProjectStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_19_1_31_30_11_12_27'))
CREATE STATISTICS [_dta_stat_1708637230_19_1_31_30_11_12_27] ON [dbo].[AccountProject]([ProjectStatusId], [AccountProjectId], [IsTemplate], [IsDisabled], [LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectBillingRateTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_11_12_27_4_1_19_31'))
CREATE STATISTICS [_dta_stat_1708637230_11_12_27_4_1_19_31] ON [dbo].[AccountProject]([LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectBillingRateTypeId], [AccountClientId], [AccountProjectId], [ProjectStatusId], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_11_12_2_30_31_1_27'))
CREATE STATISTICS [_dta_stat_1708637230_11_12_2_30_31_1_27] ON [dbo].[AccountProject]([LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountId], [IsDisabled], [IsTemplate], [AccountProjectId], [ProjectBillingRateTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_19_11_12_2_30_31_1_4'))
CREATE STATISTICS [_dta_stat_1708637230_19_11_12_2_30_31_1_4] ON [dbo].[AccountProject]([ProjectStatusId], [LeaderEmployeeId], [ProjectManagerEmployeeId], [AccountId], [IsDisabled], [IsTemplate], [AccountProjectId], [AccountClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_1_4_27_19_12_11_2_31'))
CREATE STATISTICS [_dta_stat_1708637230_1_4_27_19_12_11_2_31] ON [dbo].[AccountProject]([AccountProjectId], [AccountClientId], [ProjectBillingRateTypeId], [ProjectStatusId], [ProjectManagerEmployeeId], [LeaderEmployeeId], [AccountId], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_12_1_2_11_31_30_4_27_19'))
CREATE STATISTICS [_dta_stat_1708637230_12_1_2_11_31_30_4_27_19] ON [dbo].[AccountProject]([ProjectManagerEmployeeId], [AccountProjectId], [AccountId], [LeaderEmployeeId], [IsTemplate], [IsDisabled], [AccountClientId], [ProjectBillingRateTypeId], [ProjectStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_31_11_12_27_4_1_30_19_6'))
CREATE STATISTICS [_dta_stat_1708637230_31_11_12_27_4_1_30_19_6] ON [dbo].[AccountProject]([IsTemplate], [LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectBillingRateTypeId], [AccountClientId], [AccountProjectId], [IsDisabled], [ProjectStatusId], [ProjectName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9] ON [dbo].[AccountEmployeeTimeEntry] 
(
	[Approved] ASC,
	[AccountProjectId] ASC,
	[AccountEmployeeTimeEntryPeriodId] ASC,
	[AccountEmployeeTimeEntryId] ASC,
	[Submitted] ASC,
	[Rejected] ASC,
	[AccountEmployeeId] ASC,
	[AccountProjectTaskId] ASC,
	[TimeEntryDate] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6] ON [dbo].[AccountEmployeeTimeEntry] 
(
	[Approved] ASC,
	[AccountProjectId] ASC,
	[AccountEmployeeTimeEntryPeriodId] ASC,
	[AccountEmployeeTimeEntryId] ASC,
	[Submitted] ASC,
	[Rejected] ASC,
	[AccountEmployeeId] ASC,
	[AccountProjectTaskId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_3_11'))
CREATE STATISTICS [_dta_stat_2090542581_3_11] ON [dbo].[AccountEmployeeTimeEntry]([TimeEntryDate], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_8'))
CREATE STATISTICS [_dta_stat_2090542581_7_8] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_8_2'))
CREATE STATISTICS [_dta_stat_2090542581_8_2] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectTaskId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_11_1_2'))
CREATE STATISTICS [_dta_stat_2090542581_11_1_2] ON [dbo].[AccountEmployeeTimeEntry]([Approved], [AccountEmployeeTimeEntryId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_11_3'))
CREATE STATISTICS [_dta_stat_2090542581_7_11_3] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [Approved], [TimeEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_29_20_17'))
CREATE STATISTICS [_dta_stat_2090542581_29_20_17] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryPeriodId], [Submitted], [Rejected])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_1_3'))
CREATE STATISTICS [_dta_stat_2090542581_7_1_3] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountEmployeeTimeEntryId], [TimeEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_2_1_8_7'))
CREATE STATISTICS [_dta_stat_2090542581_2_1_8_7] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeId], [AccountEmployeeTimeEntryId], [AccountProjectTaskId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_11_2_3_7'))
CREATE STATISTICS [_dta_stat_2090542581_11_2_3_7] ON [dbo].[AccountEmployeeTimeEntry]([Approved], [AccountEmployeeId], [TimeEntryDate], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_29_20_17'))
CREATE STATISTICS [_dta_stat_2090542581_7_29_20_17] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [Submitted], [Rejected])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_3_1_2_21'))
CREATE STATISTICS [_dta_stat_2090542581_3_1_2_21] ON [dbo].[AccountEmployeeTimeEntry]([TimeEntryDate], [AccountEmployeeTimeEntryId], [AccountEmployeeId], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_8_20_17_11'))
CREATE STATISTICS [_dta_stat_2090542581_8_20_17_11] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectTaskId], [Submitted], [Rejected], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_2_20_17_11'))
CREATE STATISTICS [_dta_stat_2090542581_2_20_17_11] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeId], [Submitted], [Rejected], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_3_1_20_17'))
CREATE STATISTICS [_dta_stat_2090542581_3_1_20_17] ON [dbo].[AccountEmployeeTimeEntry]([TimeEntryDate], [AccountEmployeeTimeEntryId], [Submitted], [Rejected])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_2_3_7_8'))
CREATE STATISTICS [_dta_stat_2090542581_2_3_7_8] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeId], [TimeEntryDate], [AccountProjectId], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_17_7_29_11'))
CREATE STATISTICS [_dta_stat_2090542581_17_7_29_11] ON [dbo].[AccountEmployeeTimeEntry]([Rejected], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_20_17_11'))
CREATE STATISTICS [_dta_stat_2090542581_7_20_17_11] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [Submitted], [Rejected], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_1_11_2'))
CREATE STATISTICS [_dta_stat_2090542581_7_1_11_2] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountEmployeeTimeEntryId], [Approved], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_3_1_7_8'))
CREATE STATISTICS [_dta_stat_2090542581_3_1_7_8] ON [dbo].[AccountEmployeeTimeEntry]([TimeEntryDate], [AccountEmployeeTimeEntryId], [AccountProjectId], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_8_1_11_2_3'))
CREATE STATISTICS [_dta_stat_2090542581_8_1_11_2_3] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectTaskId], [AccountEmployeeTimeEntryId], [Approved], [AccountEmployeeId], [TimeEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_1_7_29_11_20'))
CREATE STATISTICS [_dta_stat_2090542581_1_7_29_11_20] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryId], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [Approved], [Submitted])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_17_7_29_1_11'))
CREATE STATISTICS [_dta_stat_2090542581_17_7_29_1_11] ON [dbo].[AccountEmployeeTimeEntry]([Rejected], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [AccountEmployeeTimeEntryId], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_1_20_17_11_3'))
CREATE STATISTICS [_dta_stat_2090542581_1_20_17_11_3] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryId], [Submitted], [Rejected], [Approved], [TimeEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_8_1_3_2_21'))
CREATE STATISTICS [_dta_stat_2090542581_8_1_3_2_21] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectTaskId], [AccountEmployeeTimeEntryId], [TimeEntryDate], [AccountEmployeeId], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_11_1_3_7_8'))
CREATE STATISTICS [_dta_stat_2090542581_11_1_3_7_8] ON [dbo].[AccountEmployeeTimeEntry]([Approved], [AccountEmployeeTimeEntryId], [TimeEntryDate], [AccountProjectId], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_20_17_11_1_2_7'))
CREATE STATISTICS [_dta_stat_2090542581_20_17_11_1_2_7] ON [dbo].[AccountEmployeeTimeEntry]([Submitted], [Rejected], [Approved], [AccountEmployeeTimeEntryId], [AccountEmployeeId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_11_20_17_29_1_2'))
CREATE STATISTICS [_dta_stat_2090542581_11_20_17_29_1_2] ON [dbo].[AccountEmployeeTimeEntry]([Approved], [Submitted], [Rejected], [AccountEmployeeTimeEntryPeriodId], [AccountEmployeeTimeEntryId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_1_21_7_8_23_3'))
CREATE STATISTICS [_dta_stat_2090542581_1_21_7_8_23_3] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryId], [AccountWorkTypeId], [AccountProjectId], [AccountProjectTaskId], [AccountCostCenterId], [TimeEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_11_7_8_2_1_23_21'))
CREATE STATISTICS [_dta_stat_2090542581_11_7_8_2_1_23_21] ON [dbo].[AccountEmployeeTimeEntry]([Approved], [AccountProjectId], [AccountProjectTaskId], [AccountEmployeeId], [AccountEmployeeTimeEntryId], [AccountCostCenterId], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_20_17_11_1_8_7_29'))
CREATE STATISTICS [_dta_stat_2090542581_20_17_11_1_8_7_29] ON [dbo].[AccountEmployeeTimeEntry]([Submitted], [Rejected], [Approved], [AccountEmployeeTimeEntryId], [AccountProjectTaskId], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_11_7_29_20_17_2_8'))
CREATE STATISTICS [_dta_stat_2090542581_11_7_29_20_17_2_8] ON [dbo].[AccountEmployeeTimeEntry]([Approved], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [Submitted], [Rejected], [AccountEmployeeId], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_3_1_11_7_8_23_21'))
CREATE STATISTICS [_dta_stat_2090542581_3_1_11_7_8_23_21] ON [dbo].[AccountEmployeeTimeEntry]([TimeEntryDate], [AccountEmployeeTimeEntryId], [Approved], [AccountProjectId], [AccountProjectTaskId], [AccountCostCenterId], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_29_2_8_1_11_20'))
CREATE STATISTICS [_dta_stat_2090542581_7_29_2_8_1_11_20] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [AccountEmployeeId], [AccountProjectTaskId], [AccountEmployeeTimeEntryId], [Approved], [Submitted])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_29_1_2_8_11_20_17_3'))
CREATE STATISTICS [_dta_stat_2090542581_29_1_2_8_11_20_17_3] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryPeriodId], [AccountEmployeeTimeEntryId], [AccountEmployeeId], [AccountProjectTaskId], [Approved], [Submitted], [Rejected], [TimeEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_1_2_8_23_21_31_25_24'))
CREATE STATISTICS [_dta_stat_2090542581_1_2_8_23_21_31_25_24] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryId], [AccountEmployeeId], [AccountProjectTaskId], [AccountCostCenterId], [AccountWorkTypeId], [AccountTimeExpenseBillingTimesheetId], [EmployeeRateCurrencyId], [BillingRateCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_8_11_3_7_2_1_23_21'))
CREATE STATISTICS [_dta_stat_2090542581_8_11_3_7_2_1_23_21] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectTaskId], [Approved], [TimeEntryDate], [AccountProjectId], [AccountEmployeeId], [AccountEmployeeTimeEntryId], [AccountCostCenterId], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_1_2_8_23_21_31_25_24'))
CREATE STATISTICS [_dta_stat_2090542581_7_1_2_8_23_21_31_25_24] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountEmployeeTimeEntryId], [AccountEmployeeId], [AccountProjectTaskId], [AccountCostCenterId], [AccountWorkTypeId], [AccountTimeExpenseBillingTimesheetId], [EmployeeRateCurrencyId], [BillingRateCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_3_2_1_8_23_21_31_25_24'))
CREATE STATISTICS [_dta_stat_2090542581_3_2_1_8_23_21_31_25_24] ON [dbo].[AccountEmployeeTimeEntry]([TimeEntryDate], [AccountEmployeeId], [AccountEmployeeTimeEntryId], [AccountProjectTaskId], [AccountCostCenterId], [AccountWorkTypeId], [AccountTimeExpenseBillingTimesheetId], [EmployeeRateCurrencyId], [BillingRateCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_20_17_11_1_7_29_2_8_3'))
CREATE STATISTICS [_dta_stat_2090542581_20_17_11_1_7_29_2_8_3] ON [dbo].[AccountEmployeeTimeEntry]([Submitted], [Rejected], [Approved], [AccountEmployeeTimeEntryId], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [AccountEmployeeId], [AccountProjectTaskId], [TimeEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_3_2_1_8_23_21_31_25_24'))
CREATE STATISTICS [_dta_stat_2090542581_7_3_2_1_8_23_21_31_25_24] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [TimeEntryDate], [AccountEmployeeId], [AccountEmployeeTimeEntryId], [AccountProjectTaskId], [AccountCostCenterId], [AccountWorkTypeId], [AccountTimeExpenseBillingTimesheetId], [EmployeeRateCurrencyId], [BillingRateCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_index_AccountCurrency_5_1424060159__K4_K1_K3_K5_K2_6'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountCurrency_5_1424060159__K4_K1_K3_K5_K2_6] ON [dbo].[AccountCurrency] 
(
	[AccountId] ASC,
	[AccountCurrencyId] ASC,
	[SystemCurrencyId] ASC,
	[Disabled] ASC,
	[AccountCurrencyExchangeRateId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_4_2'))
CREATE STATISTICS [_dta_stat_1424060159_4_2] ON [dbo].[AccountCurrency]([AccountId], [AccountCurrencyExchangeRateId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_2_3'))
CREATE STATISTICS [_dta_stat_1424060159_2_3] ON [dbo].[AccountCurrency]([AccountCurrencyExchangeRateId], [SystemCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_1_4'))
CREATE STATISTICS [_dta_stat_1424060159_1_4] ON [dbo].[AccountCurrency]([AccountCurrencyId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_5_1_2'))
CREATE STATISTICS [_dta_stat_1424060159_5_1_2] ON [dbo].[AccountCurrency]([Disabled], [AccountCurrencyId], [AccountCurrencyExchangeRateId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_3_4_2'))
CREATE STATISTICS [_dta_stat_1424060159_3_4_2] ON [dbo].[AccountCurrency]([SystemCurrencyId], [AccountId], [AccountCurrencyExchangeRateId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_4_5_1_2'))
CREATE STATISTICS [_dta_stat_1424060159_4_5_1_2] ON [dbo].[AccountCurrency]([AccountId], [Disabled], [AccountCurrencyId], [AccountCurrencyExchangeRateId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_1_2_3_4'))
CREATE STATISTICS [_dta_stat_1424060159_1_2_3_4] ON [dbo].[AccountCurrency]([AccountCurrencyId], [AccountCurrencyExchangeRateId], [SystemCurrencyId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrency]') AND name = N'_dta_stat_1424060159_1_3_4_5_2'))
CREATE STATISTICS [_dta_stat_1424060159_1_3_4_5_2] ON [dbo].[AccountCurrency]([AccountCurrencyId], [SystemCurrencyId], [AccountId], [Disabled], [AccountCurrencyExchangeRateId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkingDay]') AND name = N'_dta_index_AccountWorkingDay_5_397244470__K4_K1_K3'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountWorkingDay_5_397244470__K4_K1_K3] ON [dbo].[AccountWorkingDay] 
(
	[AccountWorkingDayTypeId] ASC,
	[AccountWorkingDayId] ASC,
	[WorkingDayNo] ASC
)ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkingDay]') AND name = N'_dta_stat_397244470_3_4'))
CREATE STATISTICS [_dta_stat_397244470_3_4] ON [dbo].[AccountWorkingDay]([WorkingDayNo], [AccountWorkingDayTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingType]') AND name = N'_dta_index_AccountBillingType_5_1402540130__K1_4'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountBillingType_5_1402540130__K1_4] ON [dbo].[AccountBillingType] 
(
	[AccountBillingTypeId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingType]') AND name = N'_dta_stat_1402540130_1_2'))
CREATE STATISTICS [_dta_stat_1402540130_1_2] ON [dbo].[AccountBillingType]([AccountBillingTypeId], [BillingCategoryId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingType]') AND name = N'_dta_stat_1402540130_3_10'))
CREATE STATISTICS [_dta_stat_1402540130_3_10] ON [dbo].[AccountBillingType]([AccountId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingType]') AND name = N'_dta_stat_1402540130_4_1'))
CREATE STATISTICS [_dta_stat_1402540130_4_1] ON [dbo].[AccountBillingType]([BillingType], [AccountBillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingType]') AND name = N'_dta_stat_1402540130_3_2_1'))
CREATE STATISTICS [_dta_stat_1402540130_3_2_1] ON [dbo].[AccountBillingType]([AccountId], [BillingCategoryId], [AccountBillingTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingType]') AND name = N'_dta_stat_1402540130_10_1_2'))
CREATE STATISTICS [_dta_stat_1402540130_10_1_2] ON [dbo].[AccountBillingType]([IsDisabled], [AccountBillingTypeId], [BillingCategoryId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingType]') AND name = N'_dta_stat_1402540130_3_1_10_2'))
CREATE STATISTICS [_dta_stat_1402540130_3_1_10_2] ON [dbo].[AccountBillingType]([AccountId], [AccountBillingTypeId], [IsDisabled], [BillingCategoryId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_index_AccountEmployeeTimeEntryApproval_5_103059503__K11_K10_K4_K12_K8_K1_K7_K9'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployeeTimeEntryApproval_5_103059503__K11_K10_K4_K12_K8_K1_K7_K9] ON [dbo].[AccountEmployeeTimeEntryApproval] 
(
	[AccountProjectId] ASC,
	[AccountEmployeeTimeEntryPeriodId] ASC,
	[TimeSheetApprovalPathId] ASC,
	[PreviousStatus] ASC,
	[IsReject] ASC,
	[TimeSheetApprovalId] ASC,
	[Comments] ASC,
	[IsApproved] ASC
)ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_1_2'))
CREATE STATISTICS [_dta_stat_103059503_1_2] ON [dbo].[AccountEmployeeTimeEntryApproval]([TimeSheetApprovalId], [AccountEmployeeTimeEntryId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_1_8_12'))
CREATE STATISTICS [_dta_stat_103059503_1_8_12] ON [dbo].[AccountEmployeeTimeEntryApproval]([TimeSheetApprovalId], [IsReject], [PreviousStatus])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_12_11_10'))
CREATE STATISTICS [_dta_stat_103059503_12_11_10] ON [dbo].[AccountEmployeeTimeEntryApproval]([PreviousStatus], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_11_1_8_12'))
CREATE STATISTICS [_dta_stat_103059503_11_1_8_12] ON [dbo].[AccountEmployeeTimeEntryApproval]([AccountProjectId], [TimeSheetApprovalId], [IsReject], [PreviousStatus])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_1_4_7_8'))
CREATE STATISTICS [_dta_stat_103059503_1_4_7_8] ON [dbo].[AccountEmployeeTimeEntryApproval]([TimeSheetApprovalId], [TimeSheetApprovalPathId], [Comments], [IsReject])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_4_8_12_11'))
CREATE STATISTICS [_dta_stat_103059503_4_8_12_11] ON [dbo].[AccountEmployeeTimeEntryApproval]([TimeSheetApprovalPathId], [IsReject], [PreviousStatus], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_4_8_1_12_7'))
CREATE STATISTICS [_dta_stat_103059503_4_8_1_12_7] ON [dbo].[AccountEmployeeTimeEntryApproval]([TimeSheetApprovalPathId], [IsReject], [TimeSheetApprovalId], [PreviousStatus], [Comments])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_8_11_10_4_12'))
CREATE STATISTICS [_dta_stat_103059503_8_11_10_4_12] ON [dbo].[AccountEmployeeTimeEntryApproval]([IsReject], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [TimeSheetApprovalPathId], [PreviousStatus])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_11_10_1_8_12'))
CREATE STATISTICS [_dta_stat_103059503_11_10_1_8_12] ON [dbo].[AccountEmployeeTimeEntryApproval]([AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [TimeSheetApprovalId], [IsReject], [PreviousStatus])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_4_7_8_9_1_12'))
CREATE STATISTICS [_dta_stat_103059503_4_7_8_9_1_12] ON [dbo].[AccountEmployeeTimeEntryApproval]([TimeSheetApprovalPathId], [Comments], [IsReject], [IsApproved], [TimeSheetApprovalId], [PreviousStatus])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_12_8_11_10_4_7_9'))
CREATE STATISTICS [_dta_stat_103059503_12_8_11_10_4_7_9] ON [dbo].[AccountEmployeeTimeEntryApproval]([PreviousStatus], [IsReject], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [TimeSheetApprovalPathId], [Comments], [IsApproved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_4_1_8_12_11_10_7_9'))
CREATE STATISTICS [_dta_stat_103059503_4_1_8_12_11_10_7_9] ON [dbo].[AccountEmployeeTimeEntryApproval]([TimeSheetApprovalPathId], [TimeSheetApprovalId], [IsReject], [PreviousStatus], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [Comments], [IsApproved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8] ON [dbo].[AccountExpenseEntry] 
(
	[AccountProjectId] ASC,
	[AccountExpenseEntryId] ASC,
	[Approved] ASC,
	[Submitted] ASC,
	[Rejected] ASC,
	[AccountEmployeeId] ASC,
	[AccountCurrencyId] ASC,
	[AccountExpenseId] ASC,
	[AccountExpenseEntryDate] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_19_12'))
CREATE STATISTICS [_dta_stat_343060358_19_12] ON [dbo].[AccountExpenseEntry]([Rejected], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_25_29_19'))
CREATE STATISTICS [_dta_stat_343060358_25_29_19] ON [dbo].[AccountExpenseEntry]([AccountCurrencyId], [Submitted], [Rejected])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_12_1_29'))
CREATE STATISTICS [_dta_stat_343060358_12_1_29] ON [dbo].[AccountExpenseEntry]([Approved], [AccountExpenseEntryId], [Submitted])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_1_4_2'))
CREATE STATISTICS [_dta_stat_343060358_1_4_2] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryId], [AccountEmployeeId], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_5_1_6'))
CREATE STATISTICS [_dta_stat_343060358_5_1_6] ON [dbo].[AccountExpenseEntry]([AccountProjectId], [AccountExpenseEntryId], [AccountExpenseId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_19_1_12'))
CREATE STATISTICS [_dta_stat_343060358_19_1_12] ON [dbo].[AccountExpenseEntry]([Rejected], [AccountExpenseEntryId], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_2_3_4'))
CREATE STATISTICS [_dta_stat_343060358_2_3_4] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryDate], [AccountId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_4_1_6_2'))
CREATE STATISTICS [_dta_stat_343060358_4_1_6_2] ON [dbo].[AccountExpenseEntry]([AccountEmployeeId], [AccountExpenseEntryId], [AccountExpenseId], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_6_12_3_2'))
CREATE STATISTICS [_dta_stat_343060358_6_12_3_2] ON [dbo].[AccountExpenseEntry]([AccountExpenseId], [Approved], [AccountId], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_19_1_5_12'))
CREATE STATISTICS [_dta_stat_343060358_19_1_5_12] ON [dbo].[AccountExpenseEntry]([Rejected], [AccountExpenseEntryId], [AccountProjectId], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_1_29_19_12'))
CREATE STATISTICS [_dta_stat_343060358_1_29_19_12] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryId], [Submitted], [Rejected], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_3_4_2_18'))
CREATE STATISTICS [_dta_stat_343060358_3_4_2_18] ON [dbo].[AccountExpenseEntry]([AccountId], [AccountEmployeeId], [AccountExpenseEntryDate], [IsBillable])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_25_4_1_2_3'))
CREATE STATISTICS [_dta_stat_343060358_25_4_1_2_3] ON [dbo].[AccountExpenseEntry]([AccountCurrencyId], [AccountEmployeeId], [AccountExpenseEntryId], [AccountExpenseEntryDate], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_2_1_29_19_12'))
CREATE STATISTICS [_dta_stat_343060358_2_1_29_19_12] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryDate], [AccountExpenseEntryId], [Submitted], [Rejected], [Approved])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_4_29_19_12_25'))
CREATE STATISTICS [_dta_stat_343060358_4_29_19_12_25] ON [dbo].[AccountExpenseEntry]([AccountEmployeeId], [Submitted], [Rejected], [Approved], [AccountCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_4_29_19_12_1'))
CREATE STATISTICS [_dta_stat_343060358_4_29_19_12_1] ON [dbo].[AccountExpenseEntry]([AccountEmployeeId], [Submitted], [Rejected], [Approved], [AccountExpenseEntryId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_5_29_19_12_25'))
CREATE STATISTICS [_dta_stat_343060358_5_29_19_12_25] ON [dbo].[AccountExpenseEntry]([AccountProjectId], [Submitted], [Rejected], [Approved], [AccountCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_6_29_19_12_25'))
CREATE STATISTICS [_dta_stat_343060358_6_29_19_12_25] ON [dbo].[AccountExpenseEntry]([AccountExpenseId], [Submitted], [Rejected], [Approved], [AccountCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_6_4_12_3_2'))
CREATE STATISTICS [_dta_stat_343060358_6_4_12_3_2] ON [dbo].[AccountExpenseEntry]([AccountExpenseId], [AccountEmployeeId], [Approved], [AccountId], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_29_19_12_25_1_5'))
CREATE STATISTICS [_dta_stat_343060358_29_19_12_25_1_5] ON [dbo].[AccountExpenseEntry]([Submitted], [Rejected], [Approved], [AccountCurrencyId], [AccountExpenseEntryId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_1_12_3_2_18_6'))
CREATE STATISTICS [_dta_stat_343060358_1_12_3_2_18_6] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryId], [Approved], [AccountId], [AccountExpenseEntryDate], [IsBillable], [AccountExpenseId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_3_4_1_6_25_5'))
CREATE STATISTICS [_dta_stat_343060358_3_4_1_6_25_5] ON [dbo].[AccountExpenseEntry]([AccountId], [AccountEmployeeId], [AccountExpenseEntryId], [AccountExpenseId], [AccountCurrencyId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_1_6_25_5_4_2'))
CREATE STATISTICS [_dta_stat_343060358_1_6_25_5_4_2] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryId], [AccountExpenseId], [AccountCurrencyId], [AccountProjectId], [AccountEmployeeId], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_4_1_5_2_3_6'))
CREATE STATISTICS [_dta_stat_343060358_4_1_5_2_3_6] ON [dbo].[AccountExpenseEntry]([AccountEmployeeId], [AccountExpenseEntryId], [AccountProjectId], [AccountExpenseEntryDate], [AccountId], [AccountExpenseId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_4_5_25_6_1_12_29'))
CREATE STATISTICS [_dta_stat_343060358_4_5_25_6_1_12_29] ON [dbo].[AccountExpenseEntry]([AccountEmployeeId], [AccountProjectId], [AccountCurrencyId], [AccountExpenseId], [AccountExpenseEntryId], [Approved], [Submitted])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_2_1_3_4_6_25_5'))
CREATE STATISTICS [_dta_stat_343060358_2_1_3_4_6_25_5] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryDate], [AccountExpenseEntryId], [AccountId], [AccountEmployeeId], [AccountExpenseId], [AccountCurrencyId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_12_3_4_2_18_6_31'))
CREATE STATISTICS [_dta_stat_343060358_12_3_4_2_18_6_31] ON [dbo].[AccountExpenseEntry]([Approved], [AccountId], [AccountEmployeeId], [AccountExpenseEntryDate], [IsBillable], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_12_29_19_4_5_25_6'))
CREATE STATISTICS [_dta_stat_343060358_12_29_19_4_5_25_6] ON [dbo].[AccountExpenseEntry]([Approved], [Submitted], [Rejected], [AccountEmployeeId], [AccountProjectId], [AccountCurrencyId], [AccountExpenseId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_29_19_12_25_1_6_4'))
CREATE STATISTICS [_dta_stat_343060358_29_19_12_25_1_6_4] ON [dbo].[AccountExpenseEntry]([Submitted], [Rejected], [Approved], [AccountCurrencyId], [AccountExpenseEntryId], [AccountExpenseId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_29_19_12_1_6_5_4'))
CREATE STATISTICS [_dta_stat_343060358_29_19_12_1_6_5_4] ON [dbo].[AccountExpenseEntry]([Submitted], [Rejected], [Approved], [AccountExpenseEntryId], [AccountExpenseId], [AccountProjectId], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_1_4_25_6_12_29_19_2'))
CREATE STATISTICS [_dta_stat_343060358_1_4_25_6_12_29_19_2] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryId], [AccountEmployeeId], [AccountCurrencyId], [AccountExpenseId], [Approved], [Submitted], [Rejected], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_25_12_3_2_18_6_31_1_26'))
CREATE STATISTICS [_dta_stat_343060358_25_12_3_2_18_6_31_1_26] ON [dbo].[AccountExpenseEntry]([AccountCurrencyId], [Approved], [AccountId], [AccountExpenseEntryDate], [IsBillable], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId], [AccountExpenseEntryId], [AccountPaymentMethodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_29_19_12_25_1_4_5_6_2'))
CREATE STATISTICS [_dta_stat_343060358_29_19_12_25_1_4_5_6_2] ON [dbo].[AccountExpenseEntry]([Submitted], [Rejected], [Approved], [AccountCurrencyId], [AccountExpenseEntryId], [AccountEmployeeId], [AccountProjectId], [AccountExpenseId], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_25_4_12_3_2_18_6_31_1_26'))
CREATE STATISTICS [_dta_stat_343060358_25_4_12_3_2_18_6_31_1_26] ON [dbo].[AccountExpenseEntry]([AccountCurrencyId], [AccountEmployeeId], [Approved], [AccountId], [AccountExpenseEntryDate], [IsBillable], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId], [AccountExpenseEntryId], [AccountPaymentMethodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_5_12_3_2_18_6_31_1_26_30'))
CREATE STATISTICS [_dta_stat_343060358_5_12_3_2_18_6_31_1_26_30] ON [dbo].[AccountExpenseEntry]([AccountProjectId], [Approved], [AccountId], [AccountExpenseEntryDate], [IsBillable], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId], [AccountExpenseEntryId], [AccountPaymentMethodId], [AccountTaxZoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_4_12_5_3_2_18_6_31_1_26_30'))
CREATE STATISTICS [_dta_stat_343060358_4_12_5_3_2_18_6_31_1_26_30] ON [dbo].[AccountExpenseEntry]([AccountEmployeeId], [Approved], [AccountProjectId], [AccountId], [AccountExpenseEntryDate], [IsBillable], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId], [AccountExpenseEntryId], [AccountPaymentMethodId], [AccountTaxZoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_12_6_31_1_26_30_25_5_3_4_2'))
CREATE STATISTICS [_dta_stat_343060358_12_6_31_1_26_30_25_5_3_4_2] ON [dbo].[AccountExpenseEntry]([Approved], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId], [AccountExpenseEntryId], [AccountPaymentMethodId], [AccountTaxZoneId], [AccountCurrencyId], [AccountProjectId], [AccountId], [AccountEmployeeId], [AccountExpenseEntryDate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_3_2_18_12_6_31_1_26_30_25_5'))
CREATE STATISTICS [_dta_stat_343060358_3_2_18_12_6_31_1_26_30_25_5] ON [dbo].[AccountExpenseEntry]([AccountId], [AccountExpenseEntryDate], [IsBillable], [Approved], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId], [AccountExpenseEntryId], [AccountPaymentMethodId], [AccountTaxZoneId], [AccountCurrencyId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_stat_343060358_1_4_12_3_2_18_6_31_26_30_25_5'))
CREATE STATISTICS [_dta_stat_343060358_1_4_12_3_2_18_6_31_26_30_25_5] ON [dbo].[AccountExpenseEntry]([AccountExpenseEntryId], [AccountEmployeeId], [Approved], [AccountId], [AccountExpenseEntryDate], [IsBillable], [AccountExpenseId], [AccountTimeExpenseBillingExpenseId], [AccountPaymentMethodId], [AccountTaxZoneId], [AccountCurrencyId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaskType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaskType]') AND name = N'_dta_index_AccountTaskType_5_371584462__K1_2'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountTaskType_5_371584462__K1_2] ON [dbo].[AccountTaskType] 
(
	[AccountTaskTypeId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaskType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaskType]') AND name = N'_dta_stat_371584462_1_3'))
CREATE STATISTICS [_dta_stat_371584462_1_3] ON [dbo].[AccountTaskType]([AccountTaskTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaskType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaskType]') AND name = N'_dta_stat_371584462_9_1_2'))
CREATE STATISTICS [_dta_stat_371584462_9_1_2] ON [dbo].[AccountTaskType]([IsDisabled], [AccountTaskTypeId], [TaskType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaskType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaskType]') AND name = N'_dta_stat_371584462_2_1_3'))
CREATE STATISTICS [_dta_stat_371584462_2_1_3] ON [dbo].[AccountTaskType]([TaskType], [AccountTaskTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaskType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaskType]') AND name = N'_dta_stat_371584462_3_9_1_2'))
CREATE STATISTICS [_dta_stat_371584462_3_9_1_2] ON [dbo].[AccountTaskType]([AccountId], [IsDisabled], [AccountTaskTypeId], [TaskType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrencyExchangeRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrencyExchangeRate]') AND name = N'_dta_stat_1392060045_2_1'))
CREATE STATISTICS [_dta_stat_1392060045_2_1] ON [dbo].[AccountCurrencyExchangeRate]([ExchangeRateEffectiveStartDate], [AccountCurrencyExchangeRateId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCurrencyExchangeRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCurrencyExchangeRate]') AND name = N'_dta_stat_1392060045_1_4'))
CREATE STATISTICS [_dta_stat_1392060045_1_4] ON [dbo].[AccountCurrencyExchangeRate]([AccountCurrencyExchangeRateId], [ExchangeRate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectMilestone]') AND name = N'_dta_stat_1638401006_4_1'))
CREATE STATISTICS [_dta_stat_1638401006_4_1] ON [dbo].[AccountProjectMilestone]([MilestoneDescription], [AccountProjectMilestoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectMilestone]') AND name = N'_dta_stat_1638401006_3_1'))
CREATE STATISTICS [_dta_stat_1638401006_3_1] ON [dbo].[AccountProjectMilestone]([AccountProjectId], [AccountProjectMilestoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountDepartment' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountDepartment]') AND name = N'_dta_stat_1578540757_2_5'))
CREATE STATISTICS [_dta_stat_1578540757_2_5] ON [dbo].[AccountDepartment]([AccountId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountDepartment' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountDepartment]') AND name = N'_dta_stat_1578540757_3_1'))
CREATE STATISTICS [_dta_stat_1578540757_3_1] ON [dbo].[AccountDepartment]([DepartmentCode], [AccountDepartmentId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountDepartment' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountDepartment]') AND name = N'_dta_stat_1578540757_1_5_4'))
CREATE STATISTICS [_dta_stat_1578540757_1_5_4] ON [dbo].[AccountDepartment]([AccountDepartmentId], [IsDisabled], [DepartmentName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountDepartment' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountDepartment]') AND name = N'_dta_stat_1578540757_4_1_2'))
CREATE STATISTICS [_dta_stat_1578540757_4_1_2] ON [dbo].[AccountDepartment]([DepartmentName], [AccountDepartmentId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountDepartment' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountDepartment]') AND name = N'_dta_stat_1578540757_2_1_5_4'))
CREATE STATISTICS [_dta_stat_1578540757_2_1_5_4] ON [dbo].[AccountDepartment]([AccountId], [AccountDepartmentId], [IsDisabled], [DepartmentName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalType]') AND name = N'_dta_stat_1210539446_1_2'))
CREATE STATISTICS [_dta_stat_1210539446_1_2] ON [dbo].[AccountApprovalType]([AccountApprovalTypeId], [ApprovalTypeName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalType]') AND name = N'_dta_stat_1210539446_1_3'))
CREATE STATISTICS [_dta_stat_1210539446_1_3] ON [dbo].[AccountApprovalType]([AccountApprovalTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectType]') AND name = N'_dta_stat_35583265_3_2'))
CREATE STATISTICS [_dta_stat_35583265_3_2] ON [dbo].[AccountProjectType]([ProjectType], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectType]') AND name = N'_dta_stat_35583265_1_2'))
CREATE STATISTICS [_dta_stat_35583265_1_2] ON [dbo].[AccountProjectType]([AccountProjectTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectType]') AND name = N'_dta_stat_35583265_3_1_2'))
CREATE STATISTICS [_dta_stat_35583265_3_1_2] ON [dbo].[AccountProjectType]([ProjectType], [AccountProjectTypeId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectType]') AND name = N'_dta_stat_35583265_9_1_3'))
CREATE STATISTICS [_dta_stat_35583265_9_1_3] ON [dbo].[AccountProjectType]([IsDisabled], [AccountProjectTypeId], [ProjectType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectType]') AND name = N'_dta_stat_35583265_2_9_1_3'))
CREATE STATISTICS [_dta_stat_35583265_2_9_1_3] ON [dbo].[AccountProjectType]([AccountId], [IsDisabled], [AccountProjectTypeId], [ProjectType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPaymentMethod]') AND name = N'_dta_stat_1031062809_2_1'))
CREATE STATISTICS [_dta_stat_1031062809_2_1] ON [dbo].[AccountPaymentMethod]([AccountId], [AccountPaymentMethodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPaymentMethod]') AND name = N'_dta_stat_1031062809_1_5'))
CREATE STATISTICS [_dta_stat_1031062809_1_5] ON [dbo].[AccountPaymentMethod]([AccountPaymentMethodId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPaymentMethod' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPaymentMethod]') AND name = N'_dta_stat_1031062809_2_5_1'))
CREATE STATISTICS [_dta_stat_1031062809_2_5_1] ON [dbo].[AccountPaymentMethod]([AccountId], [IsDisabled], [AccountPaymentMethodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemReportDataSourceField' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[SystemReportDataSourceField]') AND name = N'_dta_stat_638065459_1_2_9'))
CREATE STATISTICS [_dta_stat_638065459_1_2_9] ON [dbo].[SystemReportDataSourceField]([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportFieldTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_4_12'))
CREATE STATISTICS [_dta_stat_1004634722_4_12] ON [dbo].[AccountProjectTask]([TaskName], [IsParentTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_21_12'))
CREATE STATISTICS [_dta_stat_1004634722_21_12] ON [dbo].[AccountProjectTask]([ModifiedByEmployeeId], [IsParentTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_14_12'))
CREATE STATISTICS [_dta_stat_1004634722_14_12] ON [dbo].[AccountProjectTask]([AccountPriorityId], [IsParentTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_16_1'))
CREATE STATISTICS [_dta_stat_1004634722_16_1] ON [dbo].[AccountProjectTask]([AccountProjectMilestoneId], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_25_1'))
CREATE STATISTICS [_dta_stat_1004634722_25_1] ON [dbo].[AccountProjectTask]([IsBillable], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_16_2'))
CREATE STATISTICS [_dta_stat_1004634722_12_16_2] ON [dbo].[AccountProjectTask]([IsParentTask], [AccountProjectMilestoneId], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_12_4'))
CREATE STATISTICS [_dta_stat_1004634722_1_12_4] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [IsParentTask], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_4_2_12'))
CREATE STATISTICS [_dta_stat_1004634722_4_2_12] ON [dbo].[AccountProjectTask]([TaskName], [AccountProjectId], [IsParentTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_13_26'))
CREATE STATISTICS [_dta_stat_1004634722_2_13_26] ON [dbo].[AccountProjectTask]([AccountProjectId], [IsForAllEmployees], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_2_11'))
CREATE STATISTICS [_dta_stat_1004634722_12_2_11] ON [dbo].[AccountProjectTask]([IsParentTask], [AccountProjectId], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_14_13_26'))
CREATE STATISTICS [_dta_stat_1004634722_14_13_26] ON [dbo].[AccountProjectTask]([AccountPriorityId], [IsForAllEmployees], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_19_12_11'))
CREATE STATISTICS [_dta_stat_1004634722_19_12_11] ON [dbo].[AccountProjectTask]([CreatedByEmployeeId], [IsParentTask], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_15_1_11'))
CREATE STATISTICS [_dta_stat_1004634722_15_1_11] ON [dbo].[AccountProjectTask]([TaskStatusId], [AccountProjectTaskId], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_14_1_16'))
CREATE STATISTICS [_dta_stat_1004634722_14_1_16] ON [dbo].[AccountProjectTask]([AccountPriorityId], [AccountProjectTaskId], [AccountProjectMilestoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_26_13_4'))
CREATE STATISTICS [_dta_stat_1004634722_12_26_13_4] ON [dbo].[AccountProjectTask]([IsParentTask], [IsDisabled], [IsForAllEmployees], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_11_1_2_15'))
CREATE STATISTICS [_dta_stat_1004634722_11_1_2_15] ON [dbo].[AccountProjectTask]([Completed], [AccountProjectTaskId], [AccountProjectId], [TaskStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_15_1_16_6'))
CREATE STATISTICS [_dta_stat_1004634722_15_1_16_6] ON [dbo].[AccountProjectTask]([TaskStatusId], [AccountProjectTaskId], [AccountProjectMilestoneId], [AccountTaskTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_21_19_13_26'))
CREATE STATISTICS [_dta_stat_1004634722_21_19_13_26] ON [dbo].[AccountProjectTask]([ModifiedByEmployeeId], [CreatedByEmployeeId], [IsForAllEmployees], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_19_1_12_11'))
CREATE STATISTICS [_dta_stat_1004634722_19_1_12_11] ON [dbo].[AccountProjectTask]([CreatedByEmployeeId], [AccountProjectTaskId], [IsParentTask], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_13_2_1_12'))
CREATE STATISTICS [_dta_stat_1004634722_13_2_1_12] ON [dbo].[AccountProjectTask]([IsForAllEmployees], [AccountProjectId], [AccountProjectTaskId], [IsParentTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_11_12_13_26'))
CREATE STATISTICS [_dta_stat_1004634722_11_12_13_26] ON [dbo].[AccountProjectTask]([Completed], [IsParentTask], [IsForAllEmployees], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_1_11_13'))
CREATE STATISTICS [_dta_stat_1004634722_12_1_11_13] ON [dbo].[AccountProjectTask]([IsParentTask], [AccountProjectTaskId], [Completed], [IsForAllEmployees])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_1_2_19_11'))
CREATE STATISTICS [_dta_stat_1004634722_12_1_2_19_11] ON [dbo].[AccountProjectTask]([IsParentTask], [AccountProjectTaskId], [AccountProjectId], [CreatedByEmployeeId], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_26_13_12_1_21'))
CREATE STATISTICS [_dta_stat_1004634722_26_13_12_1_21] ON [dbo].[AccountProjectTask]([IsDisabled], [IsForAllEmployees], [IsParentTask], [AccountProjectTaskId], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_11_12_26_1_13'))
CREATE STATISTICS [_dta_stat_1004634722_11_12_26_1_13] ON [dbo].[AccountProjectTask]([Completed], [IsParentTask], [IsDisabled], [AccountProjectTaskId], [IsForAllEmployees])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_26_1_2_13'))
CREATE STATISTICS [_dta_stat_1004634722_12_26_1_2_13] ON [dbo].[AccountProjectTask]([IsParentTask], [IsDisabled], [AccountProjectTaskId], [AccountProjectId], [IsForAllEmployees])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_12_26_13_4'))
CREATE STATISTICS [_dta_stat_1004634722_2_12_26_13_4] ON [dbo].[AccountProjectTask]([AccountProjectId], [IsParentTask], [IsDisabled], [IsForAllEmployees], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_26_2_11_12_1_21'))
CREATE STATISTICS [_dta_stat_1004634722_26_2_11_12_1_21] ON [dbo].[AccountProjectTask]([IsDisabled], [AccountProjectId], [Completed], [IsParentTask], [AccountProjectTaskId], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_6_2_1_12_26_28'))
CREATE STATISTICS [_dta_stat_1004634722_6_2_1_12_26_28] ON [dbo].[AccountProjectTask]([AccountTaskTypeId], [AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_16_2_1_12_26_28'))
CREATE STATISTICS [_dta_stat_1004634722_16_2_1_12_26_28] ON [dbo].[AccountProjectTask]([AccountProjectMilestoneId], [AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_2_12_26_13_4'))
CREATE STATISTICS [_dta_stat_1004634722_1_2_12_26_13_4] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [AccountProjectId], [IsParentTask], [IsDisabled], [IsForAllEmployees], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_16_12_1_19_11_2'))
CREATE STATISTICS [_dta_stat_1004634722_16_12_1_19_11_2] ON [dbo].[AccountProjectTask]([AccountProjectMilestoneId], [IsParentTask], [AccountProjectTaskId], [CreatedByEmployeeId], [Completed], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_13_16_2_12_26_1'))
CREATE STATISTICS [_dta_stat_1004634722_13_16_2_12_26_1] ON [dbo].[AccountProjectTask]([IsForAllEmployees], [AccountProjectMilestoneId], [AccountProjectId], [IsParentTask], [IsDisabled], [AccountProjectTaskId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_14_2_1_12_26_28'))
CREATE STATISTICS [_dta_stat_1004634722_14_2_1_12_26_28] ON [dbo].[AccountProjectTask]([AccountPriorityId], [AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_6_1_16_14_15_31'))
CREATE STATISTICS [_dta_stat_1004634722_6_1_16_14_15_31] ON [dbo].[AccountProjectTask]([AccountTaskTypeId], [AccountProjectTaskId], [AccountProjectMilestoneId], [AccountPriorityId], [TaskStatusId], [EstimatedCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_4_2_1_12_26_28_13'))
CREATE STATISTICS [_dta_stat_1004634722_4_2_1_12_26_28_13] ON [dbo].[AccountProjectTask]([TaskName], [AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask], [IsForAllEmployees])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_13_26_12_21_19_1_11'))
CREATE STATISTICS [_dta_stat_1004634722_13_26_12_21_19_1_11] ON [dbo].[AccountProjectTask]([IsForAllEmployees], [IsDisabled], [IsParentTask], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectTaskId], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_14_26_13_12_1_2_4'))
CREATE STATISTICS [_dta_stat_1004634722_14_26_13_12_1_2_4] ON [dbo].[AccountProjectTask]([AccountPriorityId], [IsDisabled], [IsForAllEmployees], [IsParentTask], [AccountProjectTaskId], [AccountProjectId], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_28_2_11_12_26_1_21'))
CREATE STATISTICS [_dta_stat_1004634722_28_2_11_12_26_1_21] ON [dbo].[AccountProjectTask]([IsForAllProjectTask], [AccountProjectId], [Completed], [IsParentTask], [IsDisabled], [AccountProjectTaskId], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_15_26_13_12_1_2_4'))
CREATE STATISTICS [_dta_stat_1004634722_15_26_13_12_1_2_4] ON [dbo].[AccountProjectTask]([TaskStatusId], [IsDisabled], [IsForAllEmployees], [IsParentTask], [AccountProjectTaskId], [AccountProjectId], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_2_28_12_26_13_11'))
CREATE STATISTICS [_dta_stat_1004634722_1_2_28_12_26_13_11] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [AccountProjectId], [IsForAllProjectTask], [IsParentTask], [IsDisabled], [IsForAllEmployees], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_28_16_2_12_26_1_21'))
CREATE STATISTICS [_dta_stat_1004634722_28_16_2_12_26_1_21] ON [dbo].[AccountProjectTask]([IsForAllProjectTask], [AccountProjectMilestoneId], [AccountProjectId], [IsParentTask], [IsDisabled], [AccountProjectTaskId], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_1_12_26_28_13_21'))
CREATE STATISTICS [_dta_stat_1004634722_2_1_12_26_28_13_21] ON [dbo].[AccountProjectTask]([AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask], [IsForAllEmployees], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_16_26_13_12_1_2_4'))
CREATE STATISTICS [_dta_stat_1004634722_16_26_13_12_1_2_4] ON [dbo].[AccountProjectTask]([AccountProjectMilestoneId], [IsDisabled], [IsForAllEmployees], [IsParentTask], [AccountProjectTaskId], [AccountProjectId], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_6_12_1_19_11_2_21'))
CREATE STATISTICS [_dta_stat_1004634722_6_12_1_19_11_2_21] ON [dbo].[AccountProjectTask]([AccountTaskTypeId], [IsParentTask], [AccountProjectTaskId], [CreatedByEmployeeId], [Completed], [AccountProjectId], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_2_12_26_28_13_16'))
CREATE STATISTICS [_dta_stat_1004634722_1_2_12_26_28_13_16] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [AccountProjectId], [IsParentTask], [IsDisabled], [IsForAllProjectTask], [IsForAllEmployees], [AccountProjectMilestoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_26_13_12_1_6_2_4'))
CREATE STATISTICS [_dta_stat_1004634722_26_13_12_1_6_2_4] ON [dbo].[AccountProjectTask]([IsDisabled], [IsForAllEmployees], [IsParentTask], [AccountProjectTaskId], [AccountTaskTypeId], [AccountProjectId], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_2_21_16_6_15_14_12'))
CREATE STATISTICS [_dta_stat_1004634722_1_2_21_16_6_15_14_12] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [AccountProjectId], [ModifiedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [IsParentTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_26_16_2_12_1_21_13_28'))
CREATE STATISTICS [_dta_stat_1004634722_26_16_2_12_1_21_13_28] ON [dbo].[AccountProjectTask]([IsDisabled], [AccountProjectMilestoneId], [AccountProjectId], [IsParentTask], [AccountProjectTaskId], [ModifiedByEmployeeId], [IsForAllEmployees], [IsForAllProjectTask])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_16_13_26_12_1_11_2_21'))
CREATE STATISTICS [_dta_stat_1004634722_16_13_26_12_1_11_2_21] ON [dbo].[AccountProjectTask]([AccountProjectMilestoneId], [IsForAllEmployees], [IsDisabled], [IsParentTask], [AccountProjectTaskId], [Completed], [AccountProjectId], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_4_1_2_13_28_12_26_11'))
CREATE STATISTICS [_dta_stat_1004634722_4_1_2_13_28_12_26_11] ON [dbo].[AccountProjectTask]([TaskName], [AccountProjectTaskId], [AccountProjectId], [IsForAllEmployees], [IsForAllProjectTask], [IsParentTask], [IsDisabled], [Completed])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_15_12_1_19_11_2_21_16'))
CREATE STATISTICS [_dta_stat_1004634722_15_12_1_19_11_2_21_16] ON [dbo].[AccountProjectTask]([TaskStatusId], [IsParentTask], [AccountProjectTaskId], [CreatedByEmployeeId], [Completed], [AccountProjectId], [ModifiedByEmployeeId], [AccountProjectMilestoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_21_19_26_13_12_1_2_4'))
CREATE STATISTICS [_dta_stat_1004634722_21_19_26_13_12_1_2_4] ON [dbo].[AccountProjectTask]([ModifiedByEmployeeId], [CreatedByEmployeeId], [IsDisabled], [IsForAllEmployees], [IsParentTask], [AccountProjectTaskId], [AccountProjectId], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_1_14_19_11_2_21_16_6'))
CREATE STATISTICS [_dta_stat_1004634722_12_1_14_19_11_2_21_16_6] ON [dbo].[AccountProjectTask]([IsParentTask], [AccountProjectTaskId], [AccountPriorityId], [CreatedByEmployeeId], [Completed], [AccountProjectId], [ModifiedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_13_2_11_12_26_1_21_28_19'))
CREATE STATISTICS [_dta_stat_1004634722_13_2_11_12_26_1_21_28_19] ON [dbo].[AccountProjectTask]([IsForAllEmployees], [AccountProjectId], [Completed], [IsParentTask], [IsDisabled], [AccountProjectTaskId], [ModifiedByEmployeeId], [IsForAllProjectTask], [CreatedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_1_12_26_28_13_6_16_21'))
CREATE STATISTICS [_dta_stat_1004634722_2_1_12_26_28_13_6_16_21] ON [dbo].[AccountProjectTask]([AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask], [IsForAllEmployees], [AccountTaskTypeId], [AccountProjectMilestoneId], [ModifiedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_6_13_26_12_1_11_2_21_19'))
CREATE STATISTICS [_dta_stat_1004634722_6_13_26_12_1_11_2_21_19] ON [dbo].[AccountProjectTask]([AccountTaskTypeId], [IsForAllEmployees], [IsDisabled], [IsParentTask], [AccountProjectTaskId], [Completed], [AccountProjectId], [ModifiedByEmployeeId], [CreatedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_12_11_1_2_21_16_6_15_14'))
CREATE STATISTICS [_dta_stat_1004634722_12_11_1_2_21_16_6_15_14] ON [dbo].[AccountProjectTask]([IsParentTask], [Completed], [AccountProjectTaskId], [AccountProjectId], [ModifiedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_1_28_12_26_13_6_11_21_19'))
CREATE STATISTICS [_dta_stat_1004634722_2_1_28_12_26_13_6_11_21_19] ON [dbo].[AccountProjectTask]([AccountProjectId], [AccountProjectTaskId], [IsForAllProjectTask], [IsParentTask], [IsDisabled], [IsForAllEmployees], [AccountTaskTypeId], [Completed], [ModifiedByEmployeeId], [CreatedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_15_2_1_12_26_28_13_16_21_19'))
CREATE STATISTICS [_dta_stat_1004634722_15_2_1_12_26_28_13_16_21_19] ON [dbo].[AccountProjectTask]([TaskStatusId], [AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask], [IsForAllEmployees], [AccountProjectMilestoneId], [ModifiedByEmployeeId], [CreatedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_15_13_26_12_1_11_2_21_19_16'))
CREATE STATISTICS [_dta_stat_1004634722_15_13_26_12_1_11_2_21_19_16] ON [dbo].[AccountProjectTask]([TaskStatusId], [IsForAllEmployees], [IsDisabled], [IsParentTask], [AccountProjectTaskId], [Completed], [AccountProjectId], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_13_26_12_11_2_21_19_16_6_15'))
CREATE STATISTICS [_dta_stat_1004634722_1_13_26_12_11_2_21_19_16_6_15] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [IsForAllEmployees], [IsDisabled], [IsParentTask], [Completed], [AccountProjectId], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_15_2_1_28_12_26_13_11_21_19_16'))
CREATE STATISTICS [_dta_stat_1004634722_15_2_1_28_12_26_13_11_21_19_16] ON [dbo].[AccountProjectTask]([TaskStatusId], [AccountProjectId], [AccountProjectTaskId], [IsForAllProjectTask], [IsParentTask], [IsDisabled], [IsForAllEmployees], [Completed], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_16_2_21_1_19_6_15_14_12_26_13'))
CREATE STATISTICS [_dta_stat_1004634722_16_2_21_1_19_6_15_14_12_26_13] ON [dbo].[AccountProjectTask]([AccountProjectMilestoneId], [AccountProjectId], [ModifiedByEmployeeId], [AccountProjectTaskId], [CreatedByEmployeeId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [IsParentTask], [IsDisabled], [IsForAllEmployees])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_1_12_26_28_13_14_16_21_19_6'))
CREATE STATISTICS [_dta_stat_1004634722_2_1_12_26_28_13_14_16_21_19_6] ON [dbo].[AccountProjectTask]([AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask], [IsForAllEmployees], [AccountPriorityId], [AccountProjectMilestoneId], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountTaskTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_13_26_12_14_1_11_2_21_19_16_6'))
CREATE STATISTICS [_dta_stat_1004634722_13_26_12_14_1_11_2_21_19_16_6] ON [dbo].[AccountProjectTask]([IsForAllEmployees], [IsDisabled], [IsParentTask], [AccountPriorityId], [AccountProjectTaskId], [Completed], [AccountProjectId], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_21_19_16_6_15_14_12_26_13_4'))
CREATE STATISTICS [_dta_stat_1004634722_1_21_19_16_6_15_14_12_26_13_4] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [IsParentTask], [IsDisabled], [IsForAllEmployees], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_1_28_12_26_13_14_11_21_19_16_6'))
CREATE STATISTICS [_dta_stat_1004634722_2_1_28_12_26_13_14_11_21_19_16_6] ON [dbo].[AccountProjectTask]([AccountProjectId], [AccountProjectTaskId], [IsForAllProjectTask], [IsParentTask], [IsDisabled], [IsForAllEmployees], [AccountPriorityId], [Completed], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_2_21_19_16_6_15_14_12_26_13_4'))
CREATE STATISTICS [_dta_stat_1004634722_1_2_21_19_16_6_15_14_12_26_13_4] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [AccountProjectId], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [IsParentTask], [IsDisabled], [IsForAllEmployees], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_2_21_1_19_16_6_15_14_11_12_26_13'))
CREATE STATISTICS [_dta_stat_1004634722_2_21_1_19_16_6_15_14_11_12_26_13] ON [dbo].[AccountProjectTask]([AccountProjectId], [ModifiedByEmployeeId], [AccountProjectTaskId], [CreatedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [Completed], [IsParentTask], [IsDisabled], [IsForAllEmployees])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_21_19_2_1_12_26_28_13_16_6_15_14_4'))
CREATE STATISTICS [_dta_stat_1004634722_21_19_2_1_12_26_28_13_16_6_15_14_4] ON [dbo].[AccountProjectTask]([ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectId], [AccountProjectTaskId], [IsParentTask], [IsDisabled], [IsForAllProjectTask], [IsForAllEmployees], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_1_2_21_19_16_6_15_14_11_12_13_26_4'))
CREATE STATISTICS [_dta_stat_1004634722_1_2_21_19_16_6_15_14_11_12_13_26_4] ON [dbo].[AccountProjectTask]([AccountProjectTaskId], [AccountProjectId], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountProjectMilestoneId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [Completed], [IsParentTask], [IsForAllEmployees], [IsDisabled], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_stat_1004634722_16_2_1_28_12_26_13_11_21_19_6_15_14_4'))
CREATE STATISTICS [_dta_stat_1004634722_16_2_1_28_12_26_13_11_21_19_6_15_14_4] ON [dbo].[AccountProjectTask]([AccountProjectMilestoneId], [AccountProjectId], [AccountProjectTaskId], [IsForAllProjectTask], [IsParentTask], [IsDisabled], [IsForAllEmployees], [Completed], [ModifiedByEmployeeId], [CreatedByEmployeeId], [AccountTaskTypeId], [TaskStatusId], [AccountPriorityId], [TaskName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeType]') AND name = N'_dta_stat_219303991_2_3'))
CREATE STATISTICS [_dta_stat_219303991_2_3] ON [dbo].[AccountEmployeeType]([AccountEmployeeType], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeType]') AND name = N'_dta_stat_219303991_1_2'))
CREATE STATISTICS [_dta_stat_219303991_1_2] ON [dbo].[AccountEmployeeType]([AccountEmployeeTypeId], [AccountEmployeeType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeType]') AND name = N'_dta_stat_219303991_3_1_2'))
CREATE STATISTICS [_dta_stat_219303991_3_1_2] ON [dbo].[AccountEmployeeType]([AccountId], [AccountEmployeeTypeId], [AccountEmployeeType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeType]') AND name = N'_dta_stat_219303991_1_8_2'))
CREATE STATISTICS [_dta_stat_219303991_1_8_2] ON [dbo].[AccountEmployeeType]([AccountEmployeeTypeId], [IsDisabled], [AccountEmployeeType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeType]') AND name = N'_dta_stat_219303991_3_8_1_2'))
CREATE STATISTICS [_dta_stat_219303991_3_8_1_2] ON [dbo].[AccountEmployeeType]([AccountId], [IsDisabled], [AccountEmployeeTypeId], [AccountEmployeeType])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_6_4_7'))
CREATE STATISTICS [_dta_stat_641437359_6_4_7] ON [dbo].[AccountApprovalPath]([AccountEmployeeId], [SystemApproverTypeId], [ApprovalPathSequence])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_5_4_7'))
CREATE STATISTICS [_dta_stat_641437359_5_4_7] ON [dbo].[AccountApprovalPath]([AccountExternalUserId], [SystemApproverTypeId], [ApprovalPathSequence])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_3_1_4'))
CREATE STATISTICS [_dta_stat_641437359_3_1_4] ON [dbo].[AccountApprovalPath]([AccountApprovalTypeId], [AccountApprovalPathId], [SystemApproverTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_3_1_4'))
CREATE STATISTICS [_dta_stat_641437359_4_7_3] ON [dbo].[AccountApprovalPath]([SystemApproverTypeId], [ApprovalPathSequence], [AccountApprovalTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_1_4_7_3'))
CREATE STATISTICS [_dta_stat_641437359_1_4_7_3] ON [dbo].[AccountApprovalPath]([AccountApprovalPathId], [SystemApproverTypeId], [ApprovalPathSequence], [AccountApprovalTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_1_5_4_7'))
CREATE STATISTICS [_dta_stat_641437359_1_5_4_7] ON [dbo].[AccountApprovalPath]([AccountApprovalPathId], [AccountExternalUserId], [SystemApproverTypeId], [ApprovalPathSequence])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_3_1_5_4'))
CREATE STATISTICS [_dta_stat_641437359_3_1_5_4] ON [dbo].[AccountApprovalPath]([AccountApprovalTypeId], [AccountApprovalPathId], [AccountExternalUserId], [SystemApproverTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_1_6_4_7'))
CREATE STATISTICS [_dta_stat_641437359_1_6_4_7] ON [dbo].[AccountApprovalPath]([AccountApprovalPathId], [AccountEmployeeId], [SystemApproverTypeId], [ApprovalPathSequence])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_1_3_6_4'))
CREATE STATISTICS [_dta_stat_641437359_1_3_6_4] ON [dbo].[AccountApprovalPath]([AccountApprovalPathId], [AccountApprovalTypeId], [AccountEmployeeId], [SystemApproverTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_3_7_1_6_4'))
CREATE STATISTICS [_dta_stat_641437359_3_7_1_6_4] ON [dbo].[AccountApprovalPath]([AccountApprovalTypeId], [ApprovalPathSequence], [AccountApprovalPathId], [AccountEmployeeId], [SystemApproverTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountApprovalPath' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountApprovalPath]') AND name = N'_dta_stat_641437359_7_3_1_5_4'))
CREATE STATISTICS [_dta_stat_641437359_7_3_1_5_4] ON [dbo].[AccountApprovalPath]([ApprovalPathSequence], [AccountApprovalTypeId], [AccountApprovalPathId], [AccountExternalUserId], [SystemApproverTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPreferences]') AND name = N'_dta_stat_2007886420_1_15'))
CREATE STATISTICS [_dta_stat_2007886420_1_15] ON [dbo].[AccountPreferences]([AccountPreferencesId], [AccountBaseCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPreferences]') AND name = N'_dta_stat_2007886420_1_2_15'))
CREATE STATISTICS [_dta_stat_2007886420_1_2_15] ON [dbo].[AccountPreferences]([AccountPreferencesId], [AccountId], [AccountBaseCurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseTypeTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseTypeTaxCode]') AND name = N'_dta_stat_698537622_3_2'))
CREATE STATISTICS [_dta_stat_698537622_3_2] ON [dbo].[AccountExpenseTypeTaxCode]([AccountTaxZoneId], [AccountExpenseTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseTypeTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseTypeTaxCode]') AND name = N'_dta_stat_698537622_1_4'))
CREATE STATISTICS [_dta_stat_698537622_1_4] ON [dbo].[AccountExpenseTypeTaxCode]([AccountExpenseTypeTaxCodeId], [AccountTaxCodeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseTypeTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseTypeTaxCode]') AND name = N'_dta_stat_698537622_2_1_4'))
CREATE STATISTICS [_dta_stat_698537622_2_1_4] ON [dbo].[AccountExpenseTypeTaxCode]([AccountExpenseTypeId], [AccountExpenseTypeTaxCodeId], [AccountTaxCodeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseTypeTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseTypeTaxCode]') AND name = N'_dta_stat_698537622_1_3_2_4'))
CREATE STATISTICS [_dta_stat_698537622_1_3_2_4] ON [dbo].[AccountExpenseTypeTaxCode]([AccountExpenseTypeTaxCodeId], [AccountTaxZoneId], [AccountExpenseTypeId], [AccountTaxCodeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[SystemCurrency]') AND name = N'_dta_stat_1635588965_2_1'))
CREATE STATISTICS [_dta_stat_1635588965_2_1] ON [dbo].[SystemCurrency]([CurrencyCode], [CurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[SystemCurrency]') AND name = N'_dta_stat_1635588965_1_3'))
CREATE STATISTICS [_dta_stat_1635588965_1_3] ON [dbo].[SystemCurrency]([CurrencyId], [Currency])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemCurrency' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[SystemCurrency]') AND name = N'_dta_stat_1635588965_2_3_1'))
CREATE STATISTICS [_dta_stat_1635588965_2_3_1] ON [dbo].[SystemCurrency]([CurrencyCode], [Currency], [CurrencyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaxCode]') AND name = N'_dta_stat_483584861_7_1'))
CREATE STATISTICS [_dta_stat_483584861_7_1] ON [dbo].[AccountTaxCode]([AccountTaxZoneId], [AccountTaxCodeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaxCode]') AND name = N'_dta_stat_483584861_2_7'))
CREATE STATISTICS [_dta_stat_483584861_2_7] ON [dbo].[AccountTaxCode]([AccountId], [AccountTaxZoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTaxCode' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountTaxCode]') AND name = N'_dta_stat_483584861_1_2_7'))
CREATE STATISTICS [_dta_stat_483584861_1_2_7] ON [dbo].[AccountTaxCode]([AccountTaxCodeId], [AccountId], [AccountTaxZoneId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkType]') AND name = N'_dta_stat_755585830_2_1'))
CREATE STATISTICS [_dta_stat_755585830_2_1] ON [dbo].[AccountWorkType]([AccountWorkTypeCode], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_20_1'))
CREATE STATISTICS [_dta_stat_756405964_20_1] ON [dbo].[AccountParty]([IsDisabled], [AccountPartyId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_4_3'))
CREATE STATISTICS [_dta_stat_756405964_4_3] ON [dbo].[AccountParty]([PartyName], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_1_3'))
CREATE STATISTICS [_dta_stat_756405964_1_3] ON [dbo].[AccountParty]([AccountPartyId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_1_9_4'))
CREATE STATISTICS [_dta_stat_756405964_1_9_4] ON [dbo].[AccountParty]([AccountPartyId], [CountryId], [PartyName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_4_1_3'))
CREATE STATISTICS [_dta_stat_756405964_4_1_3] ON [dbo].[AccountParty]([PartyName], [AccountPartyId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_1_20_4'))
CREATE STATISTICS [_dta_stat_756405964_1_20_4] ON [dbo].[AccountParty]([AccountPartyId], [IsDisabled], [PartyName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_3_20_1_4'))
CREATE STATISTICS [_dta_stat_756405964_3_20_1_4] ON [dbo].[AccountParty]([AccountId], [IsDisabled], [AccountPartyId], [PartyName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_stat_756405964_1_9_3_4'))
CREATE STATISTICS [_dta_stat_756405964_1_9_3_4] ON [dbo].[AccountParty]([AccountPartyId], [CountryId], [AccountId], [PartyName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAbsenceType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountAbsenceType]') AND name = N'_dta_stat_1098539047_3_2'))
CREATE STATISTICS [_dta_stat_1098539047_3_2] ON [dbo].[AccountAbsenceType]([AbsenceDescription], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAbsenceType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountAbsenceType]') AND name = N'_dta_stat_1098539047_9_1'))
CREATE STATISTICS [_dta_stat_1098539047_9_1] ON [dbo].[AccountAbsenceType]([IsDisabled], [AccountAbsenceTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAbsenceType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountAbsenceType]') AND name = N'_dta_stat_1098539047_2_9_1'))
CREATE STATISTICS [_dta_stat_1098539047_2_9_1] ON [dbo].[AccountAbsenceType]([AccountId], [IsDisabled], [AccountAbsenceTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountAbsenceType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountAbsenceType]') AND name = N'_dta_stat_1098539047_1_2_3'))
CREATE STATISTICS [_dta_stat_1098539047_1_2_3] ON [dbo].[AccountAbsenceType]([AccountAbsenceTypeId], [AccountId], [AbsenceDescription])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportColumn' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountReportColumn]') AND name = N'_dta_stat_590065288_5_1'))
CREATE STATISTICS [_dta_stat_590065288_5_1] ON [dbo].[AccountReportColumn]([ColumnOrder], [AccountReportColumnId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportColumn' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountReportColumn]') AND name = N'_dta_stat_590065288_5_2'))
CREATE STATISTICS [_dta_stat_590065288_5_2] ON [dbo].[AccountReportColumn]([ColumnOrder], [AccountReportId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportColumn' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountReportColumn]') AND name = N'_dta_stat_590065288_1_4_5'))
CREATE STATISTICS [_dta_stat_590065288_1_4_5] ON [dbo].[AccountReportColumn]([AccountReportColumnId], [SystemReportDataSourceFieldId], [ColumnOrder])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountReportColumn' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountReportColumn]') AND name = N'_dta_stat_590065288_2_4_5'))
CREATE STATISTICS [_dta_stat_590065288_2_4_5] ON [dbo].[AccountReportColumn]([AccountReportId], [SystemReportDataSourceFieldId], [ColumnOrder])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPriority' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPriority]') AND name = N'_dta_stat_1207063436_3_1'))
CREATE STATISTICS [_dta_stat_1207063436_3_1] ON [dbo].[AccountPriority]([Priority], [AccountPriorityId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPriority' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPriority]') AND name = N'_dta_stat_1207063436_2_5'))
CREATE STATISTICS [_dta_stat_1207063436_2_5] ON [dbo].[AccountPriority]([AccountId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPriority' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPriority]') AND name = N'_dta_stat_1207063436_1_5_4'))
CREATE STATISTICS [_dta_stat_1207063436_1_5_4] ON [dbo].[AccountPriority]([AccountPriorityId], [IsDisabled], [PriorityOrder])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPriority' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPriority]') AND name = N'_dta_stat_1207063436_4_1_2'))
CREATE STATISTICS [_dta_stat_1207063436_4_1_2] ON [dbo].[AccountPriority]([PriorityOrder], [AccountPriorityId], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPriority' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPriority]') AND name = N'_dta_stat_1207063436_2_1_5_4'))
CREATE STATISTICS [_dta_stat_1207063436_2_1_5_4] ON [dbo].[AccountPriority]([AccountId], [AccountPriorityId], [IsDisabled], [PriorityOrder])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_1_3'))
CREATE STATISTICS [_dta_stat_215059902_1_3] ON [dbo].[AccountExpense]([AccountExpenseId], [AccountExpenseTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_5_10'))
CREATE STATISTICS [_dta_stat_215059902_5_10] ON [dbo].[AccountExpense]([AccountId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_10_1'))
CREATE STATISTICS [_dta_stat_215059902_10_1] ON [dbo].[AccountExpense]([IsDisabled], [AccountExpenseId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_1_2'))
CREATE STATISTICS [_dta_stat_215059902_1_2] ON [dbo].[AccountExpense]([AccountExpenseId], [AccountExpenseName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_2_5'))
CREATE STATISTICS [_dta_stat_215059902_2_5] ON [dbo].[AccountExpense]([AccountExpenseName], [AccountId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_2_4_1'))
CREATE STATISTICS [_dta_stat_215059902_2_4_1] ON [dbo].[AccountExpense]([AccountExpenseName], [IsBillable], [AccountExpenseId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_1_5_10'))
CREATE STATISTICS [_dta_stat_215059902_1_5_10] ON [dbo].[AccountExpense]([AccountExpenseId], [AccountId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_1_5_3_2'))
CREATE STATISTICS [_dta_stat_215059902_1_5_3_2] ON [dbo].[AccountExpense]([AccountExpenseId], [AccountId], [AccountExpenseTypeId], [AccountExpenseName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpense]') AND name = N'_dta_stat_215059902_1_5_2_10'))
CREATE STATISTICS [_dta_stat_215059902_1_5_2_10] ON [dbo].[AccountExpense]([AccountExpenseId], [AccountId], [AccountExpenseName], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29] ON [dbo].[AccountProjectTask] 
(
	[TaskName] ASC,
	[AccountProjectTaskId] ASC,
	[AccountProjectId] ASC,
	[IsForAllEmployees] ASC,
	[IsForAllProjectTask] ASC,
	[IsParentTask] ASC,
	[IsDisabled] ASC,
	[Completed] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkingDay' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkingDay]') AND name = N'_dta_index_AccountWorkingDay_10_397244470__K2_K4_K3_1'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountWorkingDay_10_397244470__K2_K4_K3_1] ON [dbo].[AccountWorkingDay] 
(
	[AccountId] ASC,
	[AccountWorkingDayTypeId] ASC,
	[WorkingDayNo] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkType]') AND name = N'_dta_index_AccountWorkType_10_755585830__K5_1_2_3_4_6_7_8_9_10'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountWorkType_10_755585830__K5_1_2_3_4_6_7_8_9_10] ON [dbo].[AccountWorkType] 
(
	[AccountId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkType]') AND name = N'_dta_stat_755585830_3_1'))
CREATE STATISTICS [_dta_stat_755585830_3_1] ON [dbo].[AccountWorkType]([AccountWorkType], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6] ON [dbo].[AccountEmployeeTimeEntryApproval] 
(
	[AccountEmployeeTimeEntryPeriodId] ASC,
	[AccountEmployeeTimeEntryId] ASC,
	[TimeSheetApprovalPathId] ASC,
	[ApprovedByEmployeeId] ASC,
	[Comments] ASC,
	[IsReject] ASC,
	[IsApproved] ASC,
	[BatchId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_2_4_5'))
CREATE STATISTICS [_dta_stat_103059503_2_4_5] ON [dbo].[AccountEmployeeTimeEntryApproval]([AccountEmployeeTimeEntryId], [TimeSheetApprovalPathId], [ApprovedByEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_stat_103059503_7_8_9_13_10'))
CREATE STATISTICS [_dta_stat_103059503_7_8_9_13_10] ON [dbo].[AccountEmployeeTimeEntryApproval]([Comments], [IsReject], [IsApproved], [BatchId], [AccountEmployeeTimeEntryPeriodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30] ON [dbo].[AccountEmployeeTimeEntry] 
(
	[AccountEmployeeTimeEntryPeriodId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_10_2090542581__K2_K3_K1_K7_K8_K21_K23'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountEmployeeTimeEntry_10_2090542581__K2_K3_K1_K7_K8_K21_K23] ON [dbo].[AccountEmployeeTimeEntry] 
(
	[AccountEmployeeId] ASC,
	[TimeEntryDate] ASC,
	[AccountEmployeeTimeEntryId] ASC,
	[AccountProjectId] ASC,
	[AccountProjectTaskId] ASC,
	[AccountWorkTypeId] ASC,
	[AccountCostCenterId] ASC
)ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_23_21'))
CREATE STATISTICS [_dta_stat_2090542581_23_21] ON [dbo].[AccountEmployeeTimeEntry]([AccountCostCenterId], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_1_30_29'))
CREATE STATISTICS [_dta_stat_2090542581_1_30_29] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryId], [AccountEmployeeTimeEntryApprovalProjectId], [AccountEmployeeTimeEntryPeriodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_1_21_23'))
CREATE STATISTICS [_dta_stat_2090542581_1_21_23] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryId], [AccountWorkTypeId], [AccountCostCenterId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_1_30_7_29'))
CREATE STATISTICS [_dta_stat_2090542581_1_30_7_29] ON [dbo].[AccountEmployeeTimeEntry]([AccountEmployeeTimeEntryId], [AccountEmployeeTimeEntryApprovalProjectId], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_8_3_2_21'))
CREATE STATISTICS [_dta_stat_2090542581_7_8_3_2_21] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountProjectTaskId], [TimeEntryDate], [AccountEmployeeId], [AccountWorkTypeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_stat_2090542581_7_8_23_21_3_2'))
CREATE STATISTICS [_dta_stat_2090542581_7_8_23_21_3_2] ON [dbo].[AccountEmployeeTimeEntry]([AccountProjectId], [AccountProjectTaskId], [AccountCostCenterId], [AccountWorkTypeId], [TimeEntryDate], [AccountEmployeeId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPriority' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountPriority]') AND name = N'_dta_index_AccountPriority_10_1207063436__K1_3'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountPriority_10_1207063436__K1_3] ON [dbo].[AccountPriority] 
(
	[AccountPriorityId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectMilestone' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectMilestone]') AND name = N'_dta_index_AccountProjectMilestone_10_1638401006__K1_4'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProjectMilestone_10_1638401006__K1_4] ON [dbo].[AccountProjectMilestone] 
(
	[AccountProjectMilestoneId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_index_AccountParty_10_756405964__K1_K4'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountParty_10_756405964__K1_K4] ON [dbo].[AccountParty] 
(
	[AccountPartyId] ASC,
	[PartyName] ASC
)ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountParty' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountParty]') AND name = N'_dta_index_AccountParty_10_756405964__K1_4'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountParty_10_756405964__K1_4] ON [dbo].[AccountParty] 
(
	[AccountPartyId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_10_1708637230__K1_K31_K30_K4'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_10_1708637230__K1_K31_K30_K4] ON [dbo].[AccountProject] 
(
	[AccountProjectId] ASC,
	[IsTemplate] ASC,
	[IsDisabled] ASC,
	[AccountClientId] ASC
)ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16'))
CREATE NONCLUSTERED INDEX [_dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16] ON [dbo].[AccountProject] 
(
	[AccountProjectId] ASC,
	[AccountId] ASC,
	[IsTemplate] ASC,
	[AccountClientId] ASC
)
ON [PRIMARY]
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_6_1'))
CREATE STATISTICS [_dta_stat_1708637230_6_1] ON [dbo].[AccountProject]([ProjectName], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_30_1'))
CREATE STATISTICS [_dta_stat_1708637230_30_1] ON [dbo].[AccountProject]([IsDisabled], [AccountProjectId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_27_1_30'))
CREATE STATISTICS [_dta_stat_1708637230_27_1_30] ON [dbo].[AccountProject]([ProjectBillingRateTypeId], [AccountProjectId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_19_1_30'))
CREATE STATISTICS [_dta_stat_1708637230_19_1_30] ON [dbo].[AccountProject]([ProjectStatusId], [AccountProjectId], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_4_31_30'))
CREATE STATISTICS [_dta_stat_1708637230_4_31_30] ON [dbo].[AccountProject]([AccountClientId], [IsTemplate], [IsDisabled])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_4_1_6'))
CREATE STATISTICS [_dta_stat_1708637230_4_1_6] ON [dbo].[AccountProject]([AccountClientId], [AccountProjectId], [ProjectName])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_31_11_12_19_27_4'))
CREATE STATISTICS [_dta_stat_1708637230_31_11_12_19_27_4] ON [dbo].[AccountProject]([IsTemplate], [LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectStatusId], [ProjectBillingRateTypeId], [AccountClientId])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_30_11_12_19_27_4_31'))
CREATE STATISTICS [_dta_stat_1708637230_30_11_12_19_27_4_31] ON [dbo].[AccountProject]([IsDisabled], [LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectStatusId], [ProjectBillingRateTypeId], [AccountClientId], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_stat_1708637230_6_11_12_19_1_30_31'))
CREATE STATISTICS [_dta_stat_1708637230_6_11_12_19_1_30_31] ON [dbo].[AccountProject]([ProjectName], [LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectStatusId], [AccountProjectId], [IsDisabled], [IsTemplate])
GO

IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Account' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[Account]') AND name = N'_dta_stat_1390784162_15_1'))
CREATE STATISTICS [_dta_stat_1390784162_15_1] ON [dbo].[Account]([IsDisabled], [AccountId])
GO

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSource]'
if not exists(Select * from [dbo].[SystemReportFilterSource] where SystemReportFilterSourceId = '856fd505-bc92-40b3-a5c8-4d5db9d896dc')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSource] ([SystemReportFilterSourceId], [SystemReportFilterSource], [ClassName], [ClassFunction], [ParameterName1], [Caption], [FilterSourceType], [FilterSource], [FilterOperator], [IsOptional], [FilterField], [ParentFilterSource]) VALUES ('856fd505-bc92-40b3-a5c8-4d5db9d896dc', N'Billed', NULL, NULL, NULL, N'Billed:', NULL, NULL, N'Billed', NULL, N'Billed', NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'
if not exists(Select * from [dbo].[SystemReportFilterSourceMapping] where SystemReportFilterMappingId = 'a6282f2c-97e3-4ad2-beef-a7b4c96655a2')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('a6282f2c-97e3-4ad2-beef-a7b4c96655a2', '856fd505-bc92-40b3-a5c8-4d5db9d896dc', '3a080202-6842-4eca-8c79-a945978810b4', 0, 0, 13)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('a3ef7252-582e-46b5-838a-2293d09ac484', '856fd505-bc92-40b3-a5c8-4d5db9d896dc', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', 0, 0, 15)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'

UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=16 WHERE [SystemReportFilterMappingId]='b10113af-d36f-42aa-bc23-56cb98be5aed'
UPDATE [dbo].[SystemReportFilterSourceMapping] SET [FilterSequence]=14 WHERE [SystemReportFilterMappingId]='c633f4fa-0039-44aa-8838-acbb6676c6d2'
GO
Print 'Delete expenseentry where employee not exists'
if exists (Select * from AccountExpenseEntry Where AccountEmployeeID not in (Select AccountEmployeeID from AccountEmployee))
BEGIN
Delete from AccountExpenseEntry Where AccountEMployeeID not in (Select AccountEmployeeID from AccountEmployee)
END
GO
-- Create Foreign Key FK_AccountExpenseEntry_AccountEmployee on AccountExpenseEntry
Print 'Create Foreign Key FK_AccountExpenseEntry_AccountEmployee on AccountExpenseEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_AccountEmployee' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseEntry]
			ADD CONSTRAINT [FK_AccountExpenseEntry_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END

GO
-- Drop View vueAccountTimeExpenseBillingExpenseForEdit
Print 'Drop View vueAccountTimeExpenseBillingExpenseForEdit'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpenseForEdit' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountTimeExpenseBillingExpenseForEdit]
GO
-- Drop View vueAccountTimeExpenseBillingExpense
Print 'Drop View vueAccountTimeExpenseBillingExpense'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountTimeExpenseBillingExpense]
GO
-- Add Column AccountTaxCodeId1 to AccountTimeExpenseBillingExpense
Print 'Add Column AccountTaxCodeId1 to AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTaxCodeId1' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	ADD [AccountTaxCodeId1] int NULL

GO
-- Add Column AccountTaxCodeId2 to AccountTimeExpenseBillingExpense
Print 'Add Column AccountTaxCodeId2 to AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountTaxCodeId2' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	ADD [AccountTaxCodeId2] int NULL

GO
-- Add Column TaxCode1 to AccountTimeExpenseBillingExpense
Print 'Add Column TaxCode1 to AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaxCode1' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	ADD [TaxCode1] float NULL

GO
-- Add Column TaxCode2 to AccountTimeExpenseBillingExpense
Print 'Add Column TaxCode2 to AccountTimeExpenseBillingExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBillingExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='TaxCode2' AND TABLE_NAME='AccountTimeExpenseBillingExpense'))
ALTER TABLE [dbo].[AccountTimeExpenseBillingExpense]
	ADD [TaxCode2] float NULL

GO
-- Create View vueAccountTimeExpenseBillingExpenseForEdit
Print 'Create View vueAccountTimeExpenseBillingExpenseForEdit'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpenseForEdit' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingExpenseForEdit
AS
SELECT     dbo.AccountParty.PartyName, dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, 
                      dbo.AccountTimeExpenseBilling.PONumber, dbo.AccountProject.ProjectName, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountParty.AccountPartyId AS AccountClientId, dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId, 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountTimeExpenseBillingExpense.ActualExpenseAmount, dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, 
                      dbo.AccountExpense.AccountExpenseId, dbo.AccountExpense.AccountExpenseName, dbo.AccountExpenseType.AccountExpenseTypeId, 
                      dbo.AccountExpenseType.ExpenseType, dbo.AccountCurrencyExchangeRate.ExchangeRate, 
                      dbo.AccountTimeExpenseBillingExpense.AccountTaxCodeId1, dbo.AccountTimeExpenseBillingExpense.AccountTaxCodeId2, 
                      dbo.AccountTimeExpenseBillingExpense.TaxCode1, dbo.AccountTimeExpenseBillingExpense.TaxCode2
FROM         dbo.AccountCurrencyExchangeRate RIGHT OUTER JOIN
                      dbo.AccountCurrency ON 
                      dbo.AccountCurrencyExchangeRate.AccountCurrencyExchangeRateId = dbo.AccountCurrency.AccountCurrencyExchangeRateId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountParty ON dbo.AccountTimeExpenseBillingExpense.AccountId = dbo.AccountParty.AccountId INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId AND 
                      dbo.AccountParty.AccountPartyId = dbo.AccountTimeExpenseBilling.AccountClientId LEFT OUTER JOIN
                      dbo.AccountExpenseType ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountTimeExpenseBillingExpense.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject ON dbo.AccountTimeExpenseBillingExpense.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'
GO
-- Create View vueAccountTimeExpenseBillingExpense
Print 'Create View vueAccountTimeExpenseBillingExpense'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBillingExpense' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBillingExpense
AS
SELECT     dbo.AccountExpenseEntry.Billed, dbo.AccountProject.ProjectName, dbo.AccountProject.AccountClientId, dbo.AccountProject.AccountProjectId, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpenseType.ExpenseType, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseType.AccountExpenseTypeId, dbo.AccountExpense.AccountExpenseId, 
                      dbo.AccountTimeExpenseBillingExpense.BilledExpenseAmount, dbo.AccountTimeExpenseBillingExpense.Description, 
                      dbo.AccountExpenseEntry.Approved, dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpenseEntry.ExchangeRate, dbo.AccountTimeExpenseBillingExpense.ActualExpenseAmount, 
                      dbo.AccountTimeExpenseBillingExpense.AccountTaxCodeId1, dbo.AccountTimeExpenseBillingExpense.AccountTaxCodeId2, 
                      dbo.AccountTimeExpenseBillingExpense.TaxCode1, dbo.AccountTimeExpenseBillingExpense.TaxCode2
FROM         dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId RIGHT OUTER
                       JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId INNER JOIN
                      dbo.AccountExpenseType ON dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId RIGHT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId = dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId AND
                       dbo.AccountTimeExpenseBillingExpense.AccountProjectId = dbo.AccountExpenseEntry.AccountProjectId AND 
                      dbo.AccountTimeExpenseBillingExpense.AccountExpenseId = dbo.AccountExpenseEntry.AccountExpenseId
WHERE     (dbo.AccountExpenseEntry.Approved = 1)'

GO
--Start 3.1.1

-- Add Column DefaultExpenseRate to MasterAccountExpense
Print 'Add Column DefaultExpenseRate to MasterAccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DefaultExpenseRate' AND TABLE_NAME='MasterAccountExpense'))
ALTER TABLE [dbo].[MasterAccountExpense]
	ADD [DefaultExpenseRate] float NULL

GO
-- Add Column DisabledEditingOfRate to MasterAccountExpense
Print 'Add Column DisabledEditingOfRate to MasterAccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterAccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DisabledEditingOfRate' AND TABLE_NAME='MasterAccountExpense'))

ALTER TABLE [dbo].[MasterAccountExpense]
	ADD [DisabledEditingOfRate] bit NOT NULL
	CONSTRAINT [DF_MasterAccountExpense_DisabledEditingOfRate] DEFAULT ((0))

GO
-- Add Column AccountEmployeeExpenseSheetId to AccountExpenseEntry
Print 'Add Column AccountEmployeeExpenseSheetId to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountEmployeeExpenseSheetId' AND TABLE_NAME='AccountExpenseEntry'))

ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [AccountEmployeeExpenseSheetId] uniqueidentifier NULL

GO
-- Add Column DefaultExpenseRate to AccountExpense
Print 'Add Column DefaultExpenseRate to AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DefaultExpenseRate' AND TABLE_NAME='AccountExpense'))

ALTER TABLE [dbo].[AccountExpense]
	ADD [DefaultExpenseRate] float NULL

GO
-- Add Column DisabledEditingOfRate to AccountExpense
Print 'Add Column DisabledEditingOfRate to AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='DisabledEditingOfRate' AND TABLE_NAME='AccountExpense'))
ALTER TABLE [dbo].[AccountExpense]
	ADD [DisabledEditingOfRate] bit NOT NULL
	CONSTRAINT [DF_AccountExpense_DisabledEditingOfRate] DEFAULT ((0))

GO
-- Add Column MasterAccountExpenseId to AccountExpense
Print 'Add Column MasterAccountExpenseId to AccountExpense'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpense' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MasterAccountExpenseId' AND TABLE_NAME='AccountExpense'))
ALTER TABLE [dbo].[AccountExpense]
	ADD [MasterAccountExpenseId] smallint NULL

GO
-- Create Table AccountEmployeeExpenseSheet
Print 'Create Table AccountEmployeeExpenseSheet'
GO
IF NOT EXISTS (select * from information_schema.tables where table_name = 'AccountEmployeeExpenseSheet' and table_type = 'BASE TABLE') 
CREATE TABLE [dbo].[AccountEmployeeExpenseSheet] (
		[AccountEmployeeExpenseSheetId]     uniqueidentifier NOT NULL,
		[AccountId]                         int NOT NULL,
		[AccountEmployeeId]                 int NOT NULL,
		[Description]                       nvarchar(500) NOT NULL,
		[ExpenseSheetDate]                  datetime NOT NULL,
		[Approved]                          bit NOT NULL,
		[Rejected]                          bit NOT NULL,
		[Submitted]                         bit NOT NULL,
		[InApproval]                        bit NOT NULL,
		[CreatedByEmployeeId]               int NULL,
		[CreatedOn]                         datetime NULL,
		[ModifiedByEmployeeId]              int NULL,
		[ModifiedOn]                        datetime NULL,
		[SubmittedDate]                     datetime NULL
)
GO
-- Add Primary Key PK_AccountEmployeeExpenseSheet to AccountEmployeeExpenseSheet
Print 'Add Primary Key PK_AccountEmployeeExpenseSheet to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_NAME='PK_AccountEmployeeExpenseSheet' AND TABLE_NAME='AccountEmployeeExpenseSheet'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [PK_AccountEmployeeExpenseSheet]
	PRIMARY KEY
	([AccountEmployeeExpenseSheetId])
GO
-- Add Default Constraint DF_AccountEmployeeExpenseSheet_AccountEmployeeExpenseSheetId to AccountEmployeeExpenseSheet
Print 'Add Default Constraint DF_AccountEmployeeExpenseSheet_AccountEmployeeExpenseSheetId to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeExpenseSheet_AccountEmployeeExpenseSheetId'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [DF_AccountEmployeeExpenseSheet_AccountEmployeeExpenseSheetId]
	DEFAULT (newid()) FOR [AccountEmployeeExpenseSheetId]
GO
-- Add Default Constraint DF_AccountEmployeeExpenseSheet_Approved to AccountEmployeeExpenseSheet
Print 'Add Default Constraint DF_AccountEmployeeExpenseSheet_Approved to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeExpenseSheet_Approved'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [DF_AccountEmployeeExpenseSheet_Approved]
	DEFAULT ((0)) FOR [Approved]
GO
-- Add Default Constraint DF_AccountEmployeeExpenseSheet_CreatedOn to AccountEmployeeExpenseSheet
Print 'Add Default Constraint DF_AccountEmployeeExpenseSheet_CreatedOn to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeExpenseSheet_CreatedOn'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [DF_AccountEmployeeExpenseSheet_CreatedOn]
	DEFAULT (getdate()) FOR [CreatedOn]
GO
-- Add Default Constraint DF_AccountEmployeeExpenseSheet_InApproval to AccountEmployeeExpenseSheet
Print 'Add Default Constraint DF_AccountEmployeeExpenseSheet_InApproval to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeExpenseSheet_InApproval'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [DF_AccountEmployeeExpenseSheet_InApproval]
	DEFAULT ((0)) FOR [InApproval]
GO
-- Add Default Constraint DF_AccountEmployeeExpenseSheet_ModifiedOn to AccountEmployeeExpenseSheet
Print 'Add Default Constraint DF_AccountEmployeeExpenseSheet_ModifiedOn to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeExpenseSheet_ModifiedOn'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [DF_AccountEmployeeExpenseSheet_ModifiedOn]
	DEFAULT (getdate()) FOR [ModifiedOn]
GO
-- Add Default Constraint DF_AccountEmployeeExpenseSheet_Rejected to AccountEmployeeExpenseSheet
Print 'Add Default Constraint DF_AccountEmployeeExpenseSheet_Rejected to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeExpenseSheet_Rejected'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [DF_AccountEmployeeExpenseSheet_Rejected]
	DEFAULT ((0)) FOR [Rejected]
GO
-- Add Default Constraint DF_AccountEmployeeExpenseSheet_Submitted to AccountEmployeeExpenseSheet
Print 'Add Default Constraint DF_AccountEmployeeExpenseSheet_Submitted to AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM sysobjects WHERE name= N'DF_AccountEmployeeExpenseSheet_Submitted'))
ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
	ADD
	CONSTRAINT [DF_AccountEmployeeExpenseSheet_Submitted]
	DEFAULT ((0)) FOR [Submitted]
GO
-- Create Index IX_AccountEmployee_AccountId on AccountEmployeeExpenseSheet
Print 'Create Index IX_AccountEmployee_AccountId on AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeExpenseSheet]') AND name = N'IX_AccountEmployee_AccountId'))
CREATE INDEX [IX_AccountEmployee_AccountId]
	ON [dbo].[AccountEmployeeExpenseSheet] ([AccountEmployeeId], [AccountId])
GO
-- Create Index IX_AccountEmployeeId_1 on AccountEmployeeExpenseSheet
Print 'Create Index IX_AccountEmployeeId_1 on AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeExpenseSheet]') AND name = N'IX_AccountEmployeeId_1'))
CREATE INDEX [IX_AccountEmployeeId_1]
	ON [dbo].[AccountEmployeeExpenseSheet] ([AccountEmployeeId])
GO
-- Create Index IX_AccountId_1 on AccountEmployeeExpenseSheet
Print 'Create Index IX_AccountId_1 on AccountEmployeeExpenseSheet'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeExpenseSheet' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeExpenseSheet]') AND name = N'IX_AccountId_1'))
CREATE INDEX [IX_AccountId_1]
	ON [dbo].[AccountEmployeeExpenseSheet] ([AccountId])
GO
-- Create Foreign Key FK_AccountEmployeeExpenseSheet_Account on AccountEmployeeExpenseSheet
Print 'Create Foreign Key FK_AccountEmployeeExpenseSheet_Account on AccountEmployeeExpenseSheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeExpenseSheet_Account' AND TABLE_NAME='AccountEmployeeExpenseSheet')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
			ADD CONSTRAINT [FK_AccountEmployeeExpenseSheet_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountEmployeeExpenseSheet_AccountEmployee on AccountEmployeeExpenseSheet
Print 'Create Foreign Key FK_AccountEmployeeExpenseSheet_AccountEmployee on AccountEmployeeExpenseSheet'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeExpenseSheet_AccountEmployee' AND TABLE_NAME='AccountEmployeeExpenseSheet')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeExpenseSheet]
			ADD CONSTRAINT [FK_AccountEmployeeExpenseSheet_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
GO
-- Create Foreign Key FK_AccountExpenseEntry_AccountEmployeeExpenseSheet on AccountExpenseEntry
Print 'Create Foreign Key FK_AccountExpenseEntry_AccountEmployeeExpenseSheet on AccountExpenseEntry'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountExpenseEntry_AccountEmployeeExpenseSheet' AND TABLE_NAME='AccountExpenseEntry')
BEGIN
		ALTER TABLE [dbo].[AccountExpenseEntry]
			ADD CONSTRAINT [FK_AccountExpenseEntry_AccountEmployeeExpenseSheet]
			FOREIGN KEY ([AccountEmployeeExpenseSheetId]) REFERENCES [dbo].[AccountEmployeeExpenseSheet] ([AccountEmployeeExpenseSheetId])
			ON DELETE CASCADE
END

GO
-- Drop View vueAccountExpenseEntryApprovalPendingEmailWithPreference
Print 'Drop View vueAccountExpenseEntryApprovalPendingEmailWithPreference'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPendingEmailWithPreference]
GO
-- Drop View vueAccountExpenseEntryApprovedEmail
Print 'Drop View vueAccountExpenseEntryApprovedEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovedEmail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovedEmail]
GO
-- Drop View vueAccountExpenseEntryWithLastStatus
Print 'Drop View vueAccountExpenseEntryWithLastStatus'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryWithLastStatus]
GO
-- Drop View vueAccountExpenseEntryRejectedEmail
Print 'Drop View vueAccountExpenseEntryRejectedEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryRejectedEmail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryRejectedEmail]
GO
-- Drop View rptvueAccountExpenseEntry
Print 'Drop View rptvueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountExpenseEntry]
GO
-- Drop View vueAccountExpenseWithTaxCode
Print 'Drop View vueAccountExpenseWithTaxCode'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseWithTaxCode' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseWithTaxCode]
GO
-- Drop View vueAccountExpenseEntryApprovalPendingEmail
Print 'Drop View vueAccountExpenseEntryApprovalPendingEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPendingEmail]
GO
-- Drop View vueAccountExpenseEntry
Print 'Drop View vueAccountExpenseEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntry]
GO
-- Drop View vueAccountExpenseEntryApprovalPendingApprover
Print 'Drop View vueAccountExpenseEntryApprovalPendingApprover'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingApprover' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPendingApprover]
GO
-- Drop View vueAccountExpenseEntryForReport
Print 'Drop View vueAccountExpenseEntryForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryForReport]
GO
-- Drop View vueAccountExpenseEntryApprovalPending
Print 'Drop View vueAccountExpenseEntryApprovalPending'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApprovalPending]
GO
-- Drop View vueAccountExpenseEntryApproval
Print 'Drop View vueAccountExpenseEntryApproval'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountExpenseEntryApproval]
GO
-- Create View vueAccountExpenseEntryApproval
Print 'Create View vueAccountExpenseEntryApproval'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApproval' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApproval
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.LeaderEmployeeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountApprovalType.ApprovalTypeName, dbo.AccountApprovalPath.AccountApprovalPathId, dbo.AccountApprovalPath.AccountApprovalTypeId, 
                      dbo.AccountApprovalPath.SystemApproverTypeId, dbo.AccountApprovalPath.AccountExternalUserId, dbo.AccountApprovalPath.AccountEmployeeId, 
                      dbo.AccountApprovalPath.ApprovalPathSequence, dbo.AccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.AccountProject.ProjectName, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, dbo.AccountExpenseEntryApproval.Comments, 
                      dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, dbo.AccountExpenseEntry.Amount, 
                      dbo.AccountExpense.AccountExpenseName, dbo.AccountExpense.IsBillable, 
                      dbo.AccountExpenseEntry.AccountEmployeeId AS ExpenseEntryAccountEmployeeId, dbo.AccountExpenseEntry.Description, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountEmployee.EmployeeManagerId, dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountExpenseEntry.AccountEmployeeExpenseSheetId, dbo.AccountEmployeeExpenseSheet.Description AS MasterDescription, 
                      dbo.AccountEmployeeExpenseSheet.ExpenseSheetDate, dbo.AccountEmployeeExpenseSheet.SubmittedDate
FROM         dbo.AccountEmployeeExpenseSheet LEFT OUTER JOIN
                      dbo.AccountEmployee INNER JOIN
                      dbo.AccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId ON 
                      dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId = dbo.AccountExpenseEntry.AccountEmployeeExpenseSheetId LEFT OUTER JOIN
                      dbo.AccountCurrency INNER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseEntry.AccountCurrencyId = dbo.AccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId LEFT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountApprovalPath ON dbo.AccountApprovalType.AccountApprovalTypeId = dbo.AccountApprovalPath.AccountApprovalTypeId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId AND 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId'
GO
-- Create View vueAccountExpenseEntryApprovalPending
Print 'Create View vueAccountExpenseEntryApprovalPending'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPending' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPending
AS
SELECT     dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, MAX(dbo.vueAccountExpenseEntryApproval.ExpenseApprovalId) 
                      AS ExpenseApprovalId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApproval.ProjectName, 
                      dbo.vueAccountExpenseEntryApproval.ProjectDescription, dbo.vueAccountExpenseEntryApproval.ProjectCode, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeName, dbo.vueAccountExpenseEntryApproval.Approved, 
                      dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, 
                      MAX(dbo.vueAccountExpenseEntryApproval.Comments) AS Comments, dbo.vueAccountExpenseEntryApproval.IsRejected, 
                      dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, 
                      dbo.vueAccountExpenseEntryApproval.EMailAddress, dbo.vueAccountExpenseEntryApproval.Submitted, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeManagerId, dbo.vueAccountExpenseEntryApproval.CurrencyCode, 
                      dbo.vueAccountExpenseEntryApproval.Rejected, dbo.vueAccountExpenseEntryApproval.AccountEmployeeExpenseSheetId, 
                      MAX(dbo.vueAccountExpenseEntryApproval.MasterDescription) AS MasterDescription, MAX(dbo.vueAccountExpenseEntryApproval.ExpenseSheetDate) 
                      AS ExpenseSheetDate, MAX(dbo.vueAccountCurrency.CurrencyCode) AS BaseCurrencyCode, MAX(dbo.vueAccountCurrency.Currency) 
                      AS BaseCurrency, MAX(dbo.vueAccountExpenseEntryApproval.SubmittedDate) AS SubmittedDate
FROM         dbo.vueAccountExpenseEntryApproval INNER JOIN
                      dbo.vueAccountApproverType ON 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId = dbo.vueAccountApproverType.AccountApprovalTypeId INNER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountExpenseEntryApproval.AccountId = dbo.AccountPreferences.AccountId INNER JOIN
                      dbo.vueAccountCurrency ON dbo.AccountPreferences.AccountBaseCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId
WHERE     (dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId IN
                          (SELECT     TOP 1 AccountApprovalPathId
                            FROM          dbo.vueExpenseApprovalSequence AS vueExpenseApprovalSequence_1
                            WHERE      (ExpenseApprovalId IS NULL) AND (AccountExpenseEntryId = dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId))) AND 
                      (dbo.vueAccountExpenseEntryApproval.Approved = 0) AND (dbo.vueAccountExpenseEntryApproval.Submitted = 1) AND 
                      (dbo.vueAccountExpenseEntryApproval.Rejected IS NULL OR
                      dbo.vueAccountExpenseEntryApproval.Rejected = 0)
GROUP BY dbo.vueAccountExpenseEntryApproval.AccountProjectId, dbo.vueAccountExpenseEntryApproval.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectManagerEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApproval.AccountApprovalPathId, dbo.vueAccountExpenseEntryApproval.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.SystemApproverTypeId, dbo.vueAccountExpenseEntryApproval.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApproval.AccountEmployeeId, dbo.vueAccountExpenseEntryApproval.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalPathId, 
                      dbo.vueAccountExpenseEntryApproval.ProjectName, dbo.vueAccountExpenseEntryApproval.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApproval.ProjectCode, dbo.vueAccountExpenseEntryApproval.EmployeeName, 
                      dbo.vueAccountExpenseEntryApproval.Approved, dbo.vueAccountExpenseEntryApproval.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseEntryDate, dbo.vueAccountExpenseEntryApproval.IsRejected, 
                      dbo.vueAccountExpenseEntryApproval.IsApproved, dbo.vueAccountExpenseEntryApproval.Amount, 
                      dbo.vueAccountExpenseEntryApproval.AccountExpenseName, dbo.vueAccountExpenseEntryApproval.IsBillable, 
                      dbo.vueAccountApproverType.MaxApprovalPathSequence, dbo.vueAccountExpenseEntryApproval.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApproval.Description, dbo.vueAccountExpenseEntryApproval.AccountId, 
                      dbo.vueAccountExpenseEntryApproval.EMailAddress, dbo.vueAccountExpenseEntryApproval.Submitted, 
                      dbo.vueAccountExpenseEntryApproval.EmployeeManagerId, dbo.vueAccountExpenseEntryApproval.CurrencyCode, 
                      dbo.vueAccountExpenseEntryApproval.Rejected, dbo.vueAccountExpenseEntryApproval.AccountEmployeeExpenseSheetId'
GO
-- Create View vueAccountExpenseEntry
Print 'Create View vueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountExpense.AccountExpenseName, 
                      dbo.AccountProject.ProjectName, dbo.AccountExpenseEntry.AccountExpenseEntryId, dbo.AccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountExpenseEntry.Amount, dbo.AccountExpenseEntry.TeamLeadApproved, 
                      dbo.AccountExpenseEntry.ProjectManagerApproved, dbo.AccountExpenseEntry.AdministratorApproved, dbo.AccountExpenseEntry.Approved, 
                      dbo.AccountExpenseEntry.CreatedOn, dbo.AccountExpenseEntry.CreatedByEmployeeId, dbo.AccountExpenseEntry.ModifiedOn, 
                      dbo.AccountExpenseEntry.ModifiedByEmployeeId, dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, 
                      dbo.AccountExpenseEntry.Description, dbo.AccountExpenseType.ExpenseType, dbo.AccountExpense.AccountExpenseTypeId, 
                      dbo.AccountProject.LeaderEmployeeId, dbo.AccountExpenseEntry.IsBillable, dbo.AccountExpenseEntry.Rejected, 
                      dbo.AccountEmployee.EmployeeCode, dbo.AccountExpenseEntry.Reimburse, dbo.AccountExpenseEntry.AccountCurrencyId, 
                      dbo.SystemCurrency.CurrencyCode, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountExpenseEntry.AccountBaseCurrencyId, dbo.AccountExpenseEntry.ExchangeRate, ISNULL(dbo.AccountExpenseEntry.TaxAmount, 0) 
                      AS TaxAmount, ISNULL(dbo.AccountExpenseEntry.AmountBeforeTax, 0) AS NetAmount, dbo.AccountExpenseEntry.Submitted, 
                      dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, dbo.AccountProject.ProjectManagerEmployeeId, 
                      dbo.AccountExpenseEntry.TimeSheetApprovalPathId, dbo.AccountEmployee.EMailAddress, dbo.AccountDepartment.DepartmentName, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountTaxZone.AccountTaxZone, dbo.AccountExpenseEntry.Quantity, dbo.AccountExpenseEntry.Rate, 
                      dbo.AccountPaymentMethod.PaymentMethod, dbo.AccountLocation.AccountLocationId, dbo.AccountParty.PartyNick, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProject.ProjectCode, dbo.AccountDepartment.DepartmentCode, 
                      dbo.vueAccountExpenseEntryApprovalLastAction.Comments, dbo.vueAccountExpenseEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountDepartment.AccountDepartmentId, dbo.AccountRole.Role, dbo.AccountRole.AccountRoleId, 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.AccountExpenseEntry.Billed, dbo.AccountTimeExpenseBilling.InvoiceNumber, 
                      dbo.AccountTimeExpenseBilling.InvoiceDate, dbo.AccountProjectType.AccountProjectTypeId, dbo.AccountProjectType.ProjectType, 
                      dbo.AccountExpenseEntry.AccountEmployeeExpenseSheetId, dbo.AccountEmployeeExpenseSheet.Description AS ExpenseSheetDescription, 
                      dbo.AccountEmployeeExpenseSheet.ExpenseSheetDate, dbo.AccountEmployeeExpenseSheet.SubmittedDate, 
                      dbo.AccountEmployeeExpenseSheet.Approved AS SheetApproved, dbo.AccountEmployeeExpenseSheet.Rejected AS SheetRejected, 
                      dbo.AccountEmployeeExpenseSheet.Submitted AS SheetSubmitted, dbo.AccountEmployeeExpenseSheet.InApproval AS SheetInApproval
FROM         dbo.AccountDepartment RIGHT OUTER JOIN
                      dbo.AccountLocation RIGHT OUTER JOIN
                      dbo.AccountRole RIGHT OUTER JOIN
                      dbo.AccountExpenseType RIGHT OUTER JOIN
                      dbo.AccountCurrency RIGHT OUTER JOIN
                      dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountEmployeeExpenseSheet RIGHT OUTER JOIN
                      dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseEntry.AccountExpenseId = dbo.AccountExpense.AccountExpenseId ON 
                      dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId = dbo.AccountExpenseEntry.AccountEmployeeExpenseSheetId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountTimeExpenseBillingExpense INNER JOIN
                      dbo.AccountTimeExpenseBilling ON 
                      dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingId = dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId ON 
                      dbo.AccountExpenseEntry.AccountTimeExpenseBillingExpenseId = dbo.AccountTimeExpenseBillingExpense.AccountTimeExpenseBillingExpenseId LEFT
                       OUTER JOIN
                      dbo.vueAccountExpenseEntryApprovalLastAction ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.vueAccountExpenseEntryApprovalLastAction.AccountExpenseEntryId LEFT OUTER JOIN
                      dbo.AccountPaymentMethod ON 
                      dbo.AccountExpenseEntry.AccountPaymentMethodId = dbo.AccountPaymentMethod.AccountPaymentMethodId LEFT OUTER JOIN
                      dbo.AccountTaxZone ON dbo.AccountExpenseEntry.AccountTaxZoneId = dbo.AccountTaxZone.AccountTaxZoneId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountExpenseEntry.AccountCurrencyId LEFT OUTER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId ON 
                      dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId LEFT OUTER JOIN
                      dbo.AccountParty RIGHT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountProjectType ON dbo.AccountProject.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId ON 
                      dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId ON 
                      dbo.AccountRole.AccountRoleId = dbo.AccountEmployee.AccountRoleId ON 
                      dbo.AccountLocation.AccountLocationId = dbo.AccountEmployee.AccountLocationId ON 
                      dbo.AccountDepartment.AccountDepartmentId = dbo.AccountEmployee.AccountDepartmentId'

GO
-- Create View vueAccountExpenseEntryForReport
Print 'Create View vueAccountExpenseEntryForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryForReport
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount AS NetAmount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, ISNULL(Approved, 
                      0) AS Approved, CreatedOn, CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, PartyName AS ClientName, AccountClientId, 
                      ISNULL(Description, N'''') AS Description, ExpenseType, AccountExpenseTypeId, LeaderEmployeeId, IsBillable, ISNULL(Rejected, 0) AS Rejected, 
                      ISNULL(EmployeeCode, N'''') AS EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, ISNULL(QuantityFieldCaption, N'''') 
                      AS QuantityFieldCaption, AccountBaseCurrencyId, ISNULL(ExchangeRate, 0) AS ExchangeRate, TaxAmount, NetAmount AS Amount, ISNULL(Submitted, 
                      0) AS Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, 
                      DepartmentName, AccountLocation, ISNULL(AccountTaxZone, N'''') AS AccountTaxZone, ISNULL(Quantity, 0) AS Quantity, ISNULL(Rate, 0) AS Rate, 
                      ISNULL(PaymentMethod, N'''') AS PaymentMethod, AccountLocationId, ISNULL(PartyNick, N'''') AS ClientNick, ProjectDescription, ISNULL(ProjectCode, 
                      N'''') AS ProjectCode, ISNULL(DepartmentCode, N'''') AS DepartmentCode, ISNULL(Comments, N'''') AS Comments, ApprovedOn, AccountDepartmentId, 
                      Role, AccountRoleId, { fn DAYOFMONTH(AccountExpenseEntryDate) } AS DayNo, MONTH(AccountExpenseEntryDate) AS MonthNo, DATEPART(week, 
                      AccountExpenseEntryDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, AccountExpenseEntryDate), 0)) + 1 AS WeekNo, 
                      YEAR(AccountExpenseEntryDate) AS Year, LEFT({ fn MONTHNAME(AccountExpenseEntryDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(AccountExpenseEntryDate)) AS Period, { fn DAYNAME(AccountExpenseEntryDate) } AS WeekDayName, InvoiceNumber, InvoiceDate, 
                      AccountProjectTypeId, ProjectType, Billed, AccountEmployeeExpenseSheetId, ExpenseSheetDescription, ExpenseSheetDate, SubmittedDate, SheetApproved, 
                      SheetRejected, SheetSubmitted, SheetInApproval
FROM         dbo.vueAccountExpenseEntry'
GO
-- Create View vueAccountExpenseEntryApprovalPendingApprover
Print 'Create View vueAccountExpenseEntryApprovalPendingApprover'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingApprover' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingApprover
AS
SELECT     AccountProjectId, LeaderEmployeeId, ProjectManagerEmployeeId, ApprovalTypeName, AccountApprovalPathId, AccountApprovalTypeId, 
                      SystemApproverTypeId, AccountExternalUserId, AccountEmployeeId, ApprovalPathSequence, AccountExpenseEntryId, ExpenseApprovalId, 
                      ExpenseApprovalPathId, ProjectName, ProjectCode, ProjectDescription, EmployeeName, Approved, ExpenseApprovalTypeId, 
                      AccountExpenseEntryDate, Comments, IsRejected, IsApproved, Amount, AccountExpenseName, IsBillable, ExpenseEntryAccountEmployeeId, 
                      Description, AccountId, MaxApprovalPathSequence, 
                      CASE WHEN systemapprovertypeid = 1 THEN LeaderEmployeeId WHEN systemapprovertypeid = 2 THEN ProjectManagerEmployeeId WHEN systemapprovertypeid
                       = 3 THEN AccountEmployeeId WHEN systemapprovertypeid = 4 THEN AccountExternalUserId WHEN systemapprovertypeid = 5 THEN EmployeeManagerId
                       END AS ApproverEmployeeId, EMailAddress, EmployeeManagerId, AccountEmployeeExpenseSheetId, MasterDescription, ExpenseSheetDate, 
                      BaseCurrencyCode, SubmittedDate
FROM         dbo.vueAccountExpenseEntryApprovalPending'
GO
-- Create View vueAccountExpenseEntryApprovalPendingEmail
Print 'Create View vueAccountExpenseEntryApprovalPendingEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingEmail
AS
SELECT     dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountProjectId, dbo.vueAccountExpenseEntryApprovalPendingApprover.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApprovalTypeName, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountApprovalPathId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.SystemApproverTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExternalUserId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseEntryId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectName, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectCode, dbo.vueAccountExpenseEntryApprovalPendingApprover.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.EmployeeName, dbo.vueAccountExpenseEntryApprovalPendingApprover.Approved, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.Comments, dbo.vueAccountExpenseEntryApprovalPendingApprover.IsRejected, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.IsApproved, dbo.vueAccountExpenseEntryApprovalPendingApprover.Amount, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountExpenseName, dbo.vueAccountExpenseEntryApprovalPendingApprover.IsBillable, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.Description, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.MaxApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApproverEmployeeId, dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.EMailAddress, dbo.vueAccountExpenseEntryApprovalPendingApprover.EmployeeManagerId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountEmployeeExpenseSheetId, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.MasterDescription, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ExpenseSheetDate, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.BaseCurrencyCode, 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.SubmittedDate
FROM         dbo.vueAccountExpenseEntryApprovalPendingApprover LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountProjectId = AccountEMailNotificationPreference_2.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.AccountId = AccountEMailNotificationPreference_1.AccountId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntryApprovalPendingApprover.ApproverEmployeeId = dbo.AccountEMailNotificationPreference.AccountEmployeeId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 26) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 27) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 28) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountExpenseEntryWithLastStatus
Print 'Create View vueAccountExpenseEntryWithLastStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryWithLastStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryWithLastStatus
AS
SELECT     dbo.vueAccountExpenseEntryWithLastAction.IsRejected, dbo.vueAccountExpenseEntryWithLastAction.IsApproved, 
                      dbo.vueAccountExpenseEntry.EmployeeName, dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, 
                      dbo.vueAccountExpenseEntry.QuantityFieldCaption, dbo.vueAccountExpenseEntry.Submitted, 
                      dbo.vueAccountExpenseEntry.AccountEmployeeExpenseSheetId, dbo.vueAccountExpenseEntry.SubmittedDate, 
                      dbo.vueAccountExpenseEntry.ExpenseSheetDate, dbo.vueAccountExpenseEntry.ExpenseSheetDescription, 
                      dbo.vueAccountExpenseEntry.ExchangeRate
FROM         dbo.vueAccountExpenseEntryWithLastAction RIGHT OUTER JOIN
                      dbo.vueAccountExpenseEntry ON 
                      dbo.vueAccountExpenseEntryWithLastAction.AccountExpenseEntryId = dbo.vueAccountExpenseEntry.AccountExpenseEntryId'
GO
-- Create View vueAccountExpenseWithTaxCode
Print 'Create View vueAccountExpenseWithTaxCode'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseWithTaxCode' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseWithTaxCode
AS
SELECT     dbo.AccountExpense.AccountExpenseId, dbo.AccountExpense.AccountId, dbo.AccountExpenseType.AccountExpenseTypeId, 
                      dbo.AccountExpenseType.ExpenseType, dbo.AccountExpenseType.IsQuantityField, dbo.AccountExpenseType.QuantityFieldCaption, 
                      dbo.AccountTaxCode.Formula, dbo.AccountTaxCode.TaxCode, dbo.AccountTaxCode.AccountTaxZoneId, dbo.AccountTaxCode.AccountTaxCodeId, 
                      dbo.AccountExpense.DefaultExpenseRate, dbo.AccountExpense.DisabledEditingOfRate
FROM         dbo.AccountExpenseTypeTaxCode RIGHT OUTER JOIN
                      dbo.AccountTaxCode ON dbo.AccountExpenseTypeTaxCode.AccountTaxCodeId = dbo.AccountTaxCode.AccountTaxCodeId RIGHT OUTER JOIN
                      dbo.AccountExpenseType ON 
                      dbo.AccountExpenseTypeTaxCode.AccountExpenseTypeId = dbo.AccountExpenseType.AccountExpenseTypeId RIGHT OUTER JOIN
                      dbo.AccountExpense ON dbo.AccountExpenseType.AccountExpenseTypeId = dbo.AccountExpense.AccountExpenseTypeId'
GO
-- Create View vueAccountReimbursementCurrency
Print 'Create View vueAccountReimbursementCurrency'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountReimbursementCurrency' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountReimbursementCurrency
AS
SELECT     dbo.vueAccountCurrency.CurrencyCode + '' - '' + dbo.vueAccountCurrency.Currency AS ReimbursmentCurrency, dbo.AccountPreferences.AccountId, 
                      dbo.vueAccountCurrency.CurrencyCode, dbo.AccountPreferences.AccountReimbursementCurrencyId
FROM         dbo.AccountPreferences INNER JOIN
                      dbo.vueAccountCurrency ON dbo.AccountPreferences.AccountReimbursementCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId AND 
                      dbo.AccountPreferences.AccountId = dbo.vueAccountCurrency.AccountId'
GO
-- Create View vueAccountExpenseEntryRejectedEmail
Print 'Create View vueAccountExpenseEntryRejectedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryRejectedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryRejectedEmail
AS
SELECT     dbo.AccountEmployee.EMailAddress, dbo.AccountExpenseEntryApproval.Comments, dbo.vueAccountExpenseEntry.EmployeeName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseName, dbo.vueAccountExpenseEntry.ProjectName, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId, dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, 
                      dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, dbo.vueAccountExpenseEntry.AccountProjectId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, dbo.vueAccountExpenseEntry.TeamLeadApproved, 
                      dbo.vueAccountExpenseEntry.ProjectManagerApproved, dbo.vueAccountExpenseEntry.AdministratorApproved, 
                      dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, dbo.vueAccountExpenseEntry.CreatedByEmployeeId, 
                      dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId, dbo.vueAccountExpenseEntry.PartyName, 
                      dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, dbo.vueAccountExpenseEntry.ExpenseType, 
                      dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, dbo.vueAccountExpenseEntry.IsBillable, 
                      dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, dbo.vueAccountExpenseEntry.Reimburse, 
                      dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, dbo.vueAccountExpenseEntry.IsQuantityField, 
                      dbo.vueAccountExpenseEntry.QuantityFieldCaption, dbo.vueAccountExpenseEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntry.TimeSheetApprovalTypeId, dbo.vueAccountExpenseEntry.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntry.TimeSheetApprovalPathId, dbo.vueAccountExpenseEntry.ExchangeRate, 
                      dbo.vueAccountExpenseEntry.AccountEmployeeExpenseSheetId, dbo.vueAccountExpenseEntry.ExpenseSheetDescription, 
                      dbo.vueAccountExpenseEntry.ExpenseSheetDate, dbo.vueAccountExpenseEntry.SubmittedDate, 
                      dbo.AccountExpenseEntryApproval.ExpenseApprovalId, dbo.vueAccountBaseCurrency.BaseCurrency, 
                      dbo.vueAccountBaseCurrency.CurrencyCode AS BaseCurrencyCode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.vueAccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId INNER JOIN
                      dbo.vueAccountBaseCurrency ON dbo.vueAccountExpenseEntry.AccountId = dbo.vueAccountBaseCurrency.AccountId LEFT OUTER JOIN
                      dbo.vueAccountExpenseEntryApprovalLastAction INNER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.vueAccountExpenseEntryApprovalLastAction.ExpenseApprovalId = dbo.AccountExpenseEntryApproval.ExpenseApprovalId ON 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountExpenseEntry.AccountEmployeeId = AccountEMailNotificationPreference_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 25) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 23) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 24) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountEmployeeExpenseSheet
Print 'Create View vueAccountEmployeeExpenseSheet'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeExpenseSheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeExpenseSheet
AS
SELECT     dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId, dbo.AccountEmployeeExpenseSheet.AccountId, 
                      dbo.AccountEmployeeExpenseSheet.AccountEmployeeId, dbo.AccountEmployeeExpenseSheet.Description, 
                      dbo.AccountEmployeeExpenseSheet.ExpenseSheetDate, SUM(dbo.AccountExpenseEntry.Amount) AS Amount, MAX(dbo.vueAccountCurrency.Currency) 
                      AS Currency, MAX(dbo.vueAccountCurrency.CurrencyCode) AS CurrencyCode, MAX(dbo.vueAccountCurrency.AccountCurrencyId) AS AccountCurrencyId, 
                      CASE WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 0 AND dbo.AccountEmployeeExpenseSheet.Approved = 0 AND 
                      dbo.AccountEmployeeExpenseSheet.Rejected = 0 AND 
                      dbo.AccountEmployeeExpenseSheet.InApproval = 0 THEN ''Not Submitted'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 1 AND 
                      dbo.AccountEmployeeExpenseSheet.Approved = 1 AND 
                      dbo.AccountEmployeeExpenseSheet.Rejected = 0 THEN ''Approved'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 0 AND 
                      dbo.AccountEmployeeExpenseSheet.Rejected = 1 THEN ''Rejected'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 1 AND 
                      dbo.AccountEmployeeExpenseSheet.Approved = 0 AND dbo.AccountEmployeeExpenseSheet.Rejected = 0 AND 
                      dbo.AccountEmployeeExpenseSheet.InApproval = 1 THEN ''Submitted'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 1 AND 
                      dbo.AccountEmployeeExpenseSheet.Approved = 0 AND dbo.AccountEmployeeExpenseSheet.Rejected = 0 AND 
                      dbo.AccountEmployeeExpenseSheet.InApproval = 0 THEN ''Submitted'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 0 AND 
                      dbo.AccountEmployeeExpenseSheet.Approved = 1 THEN ''Not Submitted'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 0 AND 
                      dbo.AccountEmployeeExpenseSheet.InApproval = 1 THEN ''Not Submitted'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 1 AND 
                      dbo.AccountEmployeeExpenseSheet.Approved = 1 AND dbo.AccountEmployeeExpenseSheet.Rejected = 1 AND 
                      dbo.AccountEmployeeExpenseSheet.InApproval = 1 THEN ''Approved'' WHEN dbo.AccountEmployeeExpenseSheet.Submitted = 1 AND 
                      dbo.AccountEmployeeExpenseSheet.Rejected = 1 THEN ''Submitted'' END AS Status, dbo.AccountEmployeeExpenseSheet.InApproval, 
                      dbo.AccountEmployeeExpenseSheet.Submitted, dbo.AccountEmployeeExpenseSheet.Rejected, dbo.AccountEmployeeExpenseSheet.Approved, 
                      dbo.AccountEmployeeExpenseSheet.SubmittedDate, dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      dbo.AccountEmployee.EMailAddress, MAX(dbo.vueAccountCurrency.ExchangeRate) AS ExchangeRate
FROM         dbo.AccountEmployeeExpenseSheet INNER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployeeExpenseSheet.AccountId = dbo.AccountPreferences.AccountId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeExpenseSheet.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountCurrency ON dbo.AccountPreferences.AccountBaseCurrencyId = dbo.vueAccountCurrency.AccountCurrencyId LEFT OUTER JOIN
                      dbo.AccountExpenseEntry ON 
                      dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId = dbo.AccountExpenseEntry.AccountEmployeeExpenseSheetId
GROUP BY dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId, dbo.AccountEmployeeExpenseSheet.AccountId, 
                      dbo.AccountEmployeeExpenseSheet.AccountEmployeeId, dbo.AccountEmployeeExpenseSheet.Description, 
                      dbo.AccountEmployeeExpenseSheet.ExpenseSheetDate, dbo.AccountEmployeeExpenseSheet.InApproval, 
                      dbo.AccountEmployeeExpenseSheet.Submitted, dbo.AccountEmployeeExpenseSheet.Rejected, dbo.AccountEmployeeExpenseSheet.Approved, 
                      dbo.AccountEmployeeExpenseSheet.SubmittedDate, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, 
                      dbo.AccountEmployee.EMailAddress'
GO
-- Create View vueAccountExpenseEntryApprovedEmail
Print 'Create View vueAccountExpenseEntryApprovedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovedEmail
AS
SELECT     dbo.AccountEmployee.EMailAddress, dbo.vueAccountExpenseEntry.EmployeeName, dbo.vueAccountExpenseEntry.AccountExpenseName, 
                      dbo.vueAccountExpenseEntry.ProjectName, dbo.vueAccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryDate, dbo.vueAccountExpenseEntry.AccountId, dbo.vueAccountExpenseEntry.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntry.AccountProjectId, dbo.vueAccountExpenseEntry.AccountExpenseId, dbo.vueAccountExpenseEntry.Amount, 
                      dbo.vueAccountExpenseEntry.TeamLeadApproved, dbo.vueAccountExpenseEntry.ProjectManagerApproved, 
                      dbo.vueAccountExpenseEntry.AdministratorApproved, dbo.vueAccountExpenseEntry.Approved, dbo.vueAccountExpenseEntry.CreatedOn, 
                      dbo.vueAccountExpenseEntry.CreatedByEmployeeId, dbo.vueAccountExpenseEntry.ModifiedOn, dbo.vueAccountExpenseEntry.ModifiedByEmployeeId,
                       dbo.vueAccountExpenseEntry.PartyName, dbo.vueAccountExpenseEntry.AccountClientId, dbo.vueAccountExpenseEntry.Description, 
                      dbo.vueAccountExpenseEntry.ExpenseType, dbo.vueAccountExpenseEntry.AccountExpenseTypeId, dbo.vueAccountExpenseEntry.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntry.IsBillable, dbo.vueAccountExpenseEntry.Rejected, dbo.vueAccountExpenseEntry.EmployeeCode, 
                      dbo.vueAccountExpenseEntry.Reimburse, dbo.vueAccountExpenseEntry.AccountCurrencyId, dbo.vueAccountExpenseEntry.CurrencyCode, 
                      dbo.vueAccountExpenseEntry.IsQuantityField, dbo.vueAccountExpenseEntry.QuantityFieldCaption, 
                      dbo.vueAccountExpenseEntry.AccountBaseCurrencyId, dbo.vueAccountExpenseEntry.ExchangeRate, dbo.vueAccountExpenseEntry.TaxAmount, 
                      dbo.vueAccountExpenseEntry.NetAmount, dbo.vueAccountExpenseEntry.Submitted, dbo.vueAccountExpenseEntry.TimeSheetApprovalTypeId, 
                      dbo.vueAccountExpenseEntry.ExpenseApprovalTypeId, dbo.vueAccountExpenseEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntry.TimeSheetApprovalPathId, dbo.vueAccountExpenseEntry.DepartmentName, 
                      dbo.vueAccountExpenseEntry.AccountLocation, dbo.vueAccountExpenseEntry.AccountTaxZone, dbo.vueAccountExpenseEntry.Quantity, 
                      dbo.vueAccountExpenseEntry.Rate, dbo.vueAccountExpenseEntry.PaymentMethod, dbo.vueAccountExpenseEntry.AccountLocationId, 
                      dbo.vueAccountExpenseEntry.PartyNick, dbo.vueAccountExpenseEntry.ProjectDescription, dbo.vueAccountExpenseEntry.ProjectCode, 
                      dbo.vueAccountExpenseEntry.DepartmentCode, dbo.vueAccountExpenseEntry.ApprovedOn, dbo.vueAccountExpenseEntry.AccountDepartmentId, 
                      dbo.vueAccountExpenseEntry.Role, dbo.vueAccountExpenseEntry.AccountRoleId, 
                      dbo.vueAccountExpenseEntry.AccountTimeExpenseBillingExpenseId, dbo.vueAccountExpenseEntry.Billed, 
                      dbo.vueAccountExpenseEntry.InvoiceNumber, dbo.vueAccountExpenseEntry.InvoiceDate, dbo.vueAccountExpenseEntry.AccountProjectTypeId, 
                      dbo.vueAccountExpenseEntry.ProjectType, dbo.vueAccountExpenseEntry.AccountEmployeeExpenseSheetId, 
                      dbo.vueAccountExpenseEntry.ExpenseSheetDescription, dbo.vueAccountExpenseEntry.ExpenseSheetDate, 
                      dbo.vueAccountExpenseEntry.SubmittedDate, dbo.AccountExpenseEntryApproval.Comments, dbo.AccountExpenseEntryApproval.ExpenseApprovalId, 
                      dbo.vueAccountBaseCurrency.BaseCurrency, dbo.vueAccountBaseCurrency.CurrencyCode AS BaseCurrencyCode
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.vueAccountExpenseEntry ON dbo.AccountEmployee.AccountEmployeeId = dbo.vueAccountExpenseEntry.AccountEmployeeId INNER JOIN
                      dbo.vueAccountBaseCurrency ON dbo.vueAccountExpenseEntry.AccountId = dbo.vueAccountBaseCurrency.AccountId LEFT OUTER JOIN
                      dbo.vueAccountExpenseEntryApprovalLastAction INNER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.vueAccountExpenseEntryApprovalLastAction.ExpenseApprovalId = dbo.AccountExpenseEntryApproval.ExpenseApprovalId ON 
                      dbo.vueAccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountExpenseEntry.AccountEmployeeId = AccountEMailNotificationPreference_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountExpenseEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountExpenseEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 22) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 20) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 21) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference
Print 'Create View vueAccountExpenseEntryApprovalPendingEmailWithPreference'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountExpenseEntryApprovalPendingEmailWithPreference' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountExpenseEntryApprovalPendingEmailWithPreference
AS
SELECT     dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountProjectId, dbo.vueAccountExpenseEntryApprovalPendingEmail.LeaderEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectManagerEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApprovalTypeName, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountApprovalPathId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.SystemApproverTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExternalUserId, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseEntryId, dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalPathId, dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectName, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectCode, dbo.vueAccountExpenseEntryApprovalPendingEmail.ProjectDescription, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.EmployeeName, dbo.vueAccountExpenseEntryApprovalPendingEmail.Approved, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseApprovalTypeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseEntryDate, dbo.vueAccountExpenseEntryApprovalPendingEmail.Comments, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.IsRejected, dbo.vueAccountExpenseEntryApprovalPendingEmail.IsApproved, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.Amount, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountExpenseName, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.IsBillable, dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseEntryAccountEmployeeId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.Description, dbo.vueAccountExpenseEntryApprovalPendingEmail.MaxApprovalPathSequence, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.ApproverEmployeeId, dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountId, 
                      dbo.AccountEmployee.EMailAddress AS ApproverEmailAddress, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.vueAccountExpenseEntryApprovalPendingEmail.EMailAddress, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.EmployeeManagerId, dbo.AccountPreferences.CultureInfoName, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountEmployeeExpenseSheetId, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.MasterDescription, dbo.vueAccountExpenseEntryApprovalPendingEmail.ExpenseSheetDate, 
                      dbo.vueAccountExpenseEntryApprovalPendingEmail.BaseCurrencyCode, dbo.vueAccountExpenseEntryApprovalPendingEmail.SubmittedDate
FROM         dbo.vueAccountExpenseEntryApprovalPendingEmail LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.vueAccountExpenseEntryApprovalPendingEmail.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountExpenseEntryApprovalPendingEmail.ApproverEmployeeId = dbo.AccountEmployee.AccountEmployeeId'
GO
-- Create View vueAccountEmployeeExpenseSheetApprovalDetail
Print 'Create View vueAccountEmployeeExpenseSheetApprovalDetail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeExpenseSheetApprovalDetail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeExpenseSheetApprovalDetail
AS
SELECT     dbo.AccountExpenseEntry.AccountExpenseEntryDate, dbo.AccountExpenseEntry.AccountEmployeeId, dbo.AccountExpenseEntry.AccountProjectId, 
                      dbo.AccountProject.ProjectName, dbo.AccountApprovalType.ApprovalTypeName, dbo.SystemApproverType.SystemApproverType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, 
                      AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS ApprovalEmployeeName, dbo.AccountExpenseEntry.AccountExpenseEntryId, 
                      dbo.AccountExpenseEntry.AccountId, dbo.AccountExpenseEntryApproval.ApprovedOn, dbo.AccountExpenseEntryApproval.Comments, 
                      dbo.AccountExpenseEntryApproval.IsRejected, dbo.AccountExpenseEntryApproval.IsApproved, dbo.AccountEmployeeExpenseSheet.Approved, 
                      dbo.AccountEmployeeExpenseSheet.Rejected, dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId, 
                      dbo.AccountEmployeeExpenseSheet.Description, dbo.AccountExpenseEntry.AccountExpenseId, dbo.AccountEmployeeExpenseSheet.Submitted, 
                      dbo.AccountEmployeeExpenseSheet.SubmittedDate
FROM         dbo.AccountExpenseEntry INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountExpenseEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountEmployeeExpenseSheet ON 
                      dbo.AccountExpenseEntry.AccountEmployeeExpenseSheetId = dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId LEFT OUTER JOIN
                      dbo.AccountProject LEFT OUTER JOIN
                      dbo.AccountApprovalType ON dbo.AccountProject.ExpenseApprovalTypeId = dbo.AccountApprovalType.AccountApprovalTypeId ON 
                      dbo.AccountExpenseEntry.AccountProjectId = dbo.AccountProject.AccountProjectId LEFT OUTER JOIN
                      dbo.SystemApproverType INNER JOIN
                      dbo.AccountApprovalPath INNER JOIN
                      dbo.AccountExpenseEntryApproval ON 
                      dbo.AccountApprovalPath.AccountApprovalPathId = dbo.AccountExpenseEntryApproval.ExpenseApprovalPathId ON 
                      dbo.SystemApproverType.SystemApproverTypeId = dbo.AccountApprovalPath.SystemApproverTypeId ON 
                      dbo.AccountExpenseEntry.AccountExpenseEntryId = dbo.AccountExpenseEntryApproval.AccountExpenseEntryId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON 
                      dbo.AccountExpenseEntryApproval.ApprovedByEmployeeId = AccountEmployee_1.AccountEmployeeId
WHERE     (dbo.AccountExpenseEntryApproval.ExpenseApprovalTypeId IS NOT NULL) OR
                      (dbo.AccountApprovalType.AccountApprovalTypeId IS NULL)'
GO
-- Create View vueAccountEmployeeExpenseSheetForReport
Print 'Create View vueAccountEmployeeExpenseSheetForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeExpenseSheetForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeExpenseSheetForReport
AS
SELECT     dbo.vueAccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId, dbo.vueAccountEmployeeExpenseSheet.AccountId, 
                      dbo.vueAccountEmployeeExpenseSheet.AccountEmployeeId, dbo.vueAccountEmployeeExpenseSheet.Description, 
                      dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate, dbo.vueAccountEmployeeExpenseSheet.Amount, 
                      dbo.vueAccountEmployeeExpenseSheet.Currency, dbo.vueAccountEmployeeExpenseSheet.CurrencyCode, 
                      dbo.vueAccountEmployeeExpenseSheet.AccountCurrencyId, dbo.vueAccountEmployeeExpenseSheet.Status, 
                      dbo.vueAccountEmployeeExpenseSheet.InApproval, dbo.vueAccountEmployeeExpenseSheet.Submitted, 
                      dbo.vueAccountEmployeeExpenseSheet.Rejected, dbo.vueAccountEmployeeExpenseSheet.Approved, 
                      dbo.vueAccountEmployeeExpenseSheet.SubmittedDate, dbo.vueAccountEmployeeExpenseSheet.EmployeeName, 
                      dbo.vueAccountEmployeeExpenseSheet.EMailAddress, { fn DAYOFMONTH(dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate) } AS DayNo, 
                      MONTH(dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate) AS MonthNo, DATEPART(week, 
                      dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate), 0)) + 1 AS WeekNo, YEAR(dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate) 
                      AS Year, LEFT({ fn MONTHNAME(dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate)) AS Period, 
                      { fn DAYNAME(dbo.vueAccountEmployeeExpenseSheet.ExpenseSheetDate) } AS WeekDayName, dbo.vueAccountEmployee.DepartmentName, 
                      dbo.vueAccountEmployee.Role, dbo.vueAccountEmployee.AccountLocation, dbo.vueAccountEmployee.AccountDepartmentId, 
                      dbo.vueAccountEmployee.AccountLocationId, dbo.vueAccountEmployee.AccountRoleId, dbo.vueAccountEmployee.EmployeeCode, 
                      dbo.AccountDepartment.DepartmentCode, dbo.vueAccountEmployeeExpenseSheet.ExchangeRate, 
                      CASE WHEN dbo.vueAccountEmployeeExpenseSheet.ExchangeRate > 0 THEN dbo.vueAccountEmployeeExpenseSheet.Amount / dbo.vueAccountEmployeeExpenseSheet.ExchangeRate
                       ELSE 0 END AS CurrencyAmount
FROM         dbo.vueAccountEmployeeExpenseSheet INNER JOIN
                      dbo.vueAccountEmployee ON dbo.vueAccountEmployeeExpenseSheet.AccountEmployeeId = dbo.vueAccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountDepartment ON dbo.vueAccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId'
GO
-- Create View rptvueAccountEmployeeExpenseSheet
Print 'Create View rptvueAccountEmployeeExpenseSheet'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeExpenseSheet' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeExpenseSheet
AS
SELECT     AccountEmployeeExpenseSheetId, AccountId, AccountEmployeeId, Description, ExpenseSheetDate, Amount, Currency, CurrencyCode, 
                      AccountCurrencyId, Status, InApproval, Submitted, Rejected, Approved, SubmittedDate, EmployeeName, EMailAddress, DayNo, MonthNo, WeekNo, 
                      Year, Period, WeekDayName, DepartmentName, Role, AccountLocation, AccountDepartmentId, AccountLocationId, AccountRoleId, EmployeeCode, 
                      DepartmentCode, ExchangeRate, CurrencyAmount
FROM         dbo.vueAccountEmployeeExpenseSheetForReport'
GO
-- Create View rptvueAccountExpenseEntry
Print 'Create View rptvueAccountExpenseEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountExpenseEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountExpenseEntry
AS
SELECT     EmployeeName, AccountExpenseName, ProjectName, AccountExpenseEntryId, AccountExpenseEntryDate, AccountId, AccountEmployeeId, 
                      AccountProjectId, AccountExpenseId, Amount, TeamLeadApproved, ProjectManagerApproved, AdministratorApproved, Approved, CreatedOn, 
                      CreatedByEmployeeId, ModifiedOn, ModifiedByEmployeeId, ClientName, AccountClientId, Description, ExpenseType, AccountExpenseTypeId, 
                      LeaderEmployeeId, IsBillable, Rejected, EmployeeCode, Reimburse, AccountCurrencyId, CurrencyCode, IsQuantityField, QuantityFieldCaption, 
                      AccountBaseCurrencyId, ExchangeRate, TaxAmount, NetAmount, Submitted, TimeSheetApprovalTypeId, ExpenseApprovalTypeId, 
                      ProjectManagerEmployeeId, TimeSheetApprovalPathId, EMailAddress, DepartmentName, AccountLocation, AccountTaxZone, Quantity, Rate, 
                      PaymentMethod, AccountLocationId, ClientNick, ProjectDescription, ProjectCode, DepartmentCode, 
                      CASE WHEN vueAccountExpenseEntryForReport.Submitted = 1 AND 
                      vueAccountExpenseEntryForReport.Approved = 0 THEN ''Submitted'' WHEN vueAccountExpenseEntryForReport.Approved = 1 THEN ''Approved'' WHEN vueAccountExpenseEntryForReport.Rejected
                       = 1 THEN ''Rejected'' WHEN vueAccountExpenseEntryForReport.Submitted = 0 AND vueAccountExpenseEntryForReport.Approved = 0 AND 
                      vueAccountExpenseEntryForReport.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, Comments AS ApproverComments, ApprovedOn, 
                      AccountDepartmentId, Role, AccountRoleId, DayNo, MonthNo, WeekNo, Year, Period, WeekDayName, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.NetAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyNetAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.Amount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyAmount, 
                      CASE WHEN dbo.vueAccountExpenseEntryForReport.ExchangeRate > 0 THEN dbo.vueAccountExpenseEntryForReport.TaxAmount / dbo.vueAccountExpenseEntryForReport.ExchangeRate
                       ELSE 0 END AS CurrencyTaxAmount, InvoiceNumber, InvoiceDate, AccountProjectTypeId, ProjectType, Billed, AccountEmployeeExpenseSheetId, 
                      ExpenseSheetDescription, ExpenseSheetDate, SubmittedDate, SheetApproved, SheetRejected, SheetSubmitted, SheetInApproval
FROM         dbo.vueAccountExpenseEntryForReport'
GO

-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] NOCHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] NOCHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] NOCHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] NOCHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'
if not exists(Select * from [dbo].[AccountReport] where AccountReportId = '9dfe73b0-33b2-4879-89c5-859fa40c385d')
BEGIN
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName], [ReportOrder]) VALUES ('9dfe73b0-33b2-4879-89c5-859fa40c385d', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Expense Sheet Report', N'Expense Sheet Report', NULL, NULL, NULL, NULL, 0, NULL, 8)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterAccountExpense]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterAccountExpense]'
UPDATE [dbo].[MasterAccountExpense] SET [DefaultExpenseRate]=0.33, [DisabledEditingOfRate]=0 WHERE [MasterExpenseId]=8
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSource]'
if not exists(Select * from [dbo].[SystemReportDataSource] where SystemReportDataSourceId = 'ee5f3316-3a5e-484e-ae9e-9b11f0380997')
BEGIN
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Expense Sheet', N'rptvueAccountEmployeeExpenseSheet', N'View', N'/Images/DetailExpenseReport.gif')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = 'e0929701-26df-45fa-91dd-a94d090a915c')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e0929701-26df-45fa-91dd-a94d090a915c', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'EMailAddress', 175, 0, NULL, NULL, 13, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d29b6305-0d80-47a7-8638-a189e0b0a87d', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'SheetInApproval', 70, 1, NULL, NULL, 47, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Sheet InApproval', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0f695706-c3ca-4e9c-b2e6-6489642d065b', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'FormulaField4', 150, 0, NULL, NULL, 27, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d7aecb07-6ff6-4b86-bfb6-3805a3fc7b66', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Approved', 70, 1, NULL, NULL, 6, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Approved', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('88720c14-21e9-4630-827e-6e4407cc38bb', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'EmployeeCode', 125, 0, NULL, NULL, 11, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7bd32e16-c4a6-4782-a782-11e37f893d14', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Submitted', 70, 1, NULL, NULL, 5, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Submitted', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4e47c727-30a3-4d0a-a504-b916a8ee8fe2', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'MonthNo', 50, 0, NULL, NULL, 20, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Month No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('50c6af38-83e9-4550-929b-2b52d45f3297', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'SubmittedDate', 100, 1, NULL, NULL, 43, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Sheet Submitted Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('881d1c3a-b10f-48aa-a91b-4c27837e5ca9', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'AccountLocation', 150, 0, NULL, NULL, 17, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Location', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('c84f7d44-53ab-4aa1-9b8f-b40f7924f0fc', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'DayNo', 50, 0, NULL, NULL, 18, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Day No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a3489c55-30cf-488e-bd9f-d3a3b8167b80', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Period', 70, 0, NULL, NULL, 19, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Period', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4fbe1065-f801-4ef3-b32d-15cd1447094d', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Status', 100, 1, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approval Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ba296767-5487-461d-bfe9-a4a717af2dc6', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'DepartmentCode', 125, 0, NULL, NULL, 14, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9ad16b77-2668-4bd4-b8b2-f4da034b8322', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'FormulaField2', 150, 0, NULL, NULL, 25, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3abda47c-1019-4ac3-aba8-efd1726f8277', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'WeekDayName', 70, 0, NULL, NULL, 23, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Day', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0b5d0d84-43e6-42f9-b673-b7bf4ce474fb', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'FormulaField5', 150, 0, NULL, NULL, 28, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e19ce78a-9beb-439f-9c91-0dc2ec861181', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'DepartmentName', 175, 0, NULL, NULL, 15, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('116ce38b-41fd-44b2-8b41-604e7f6f5c11', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'SubmittedDate', 90, 1, NULL, NULL, 10, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Submitted Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('eaa93894-70f8-4846-b244-bfc23e3f17dc', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'WeekNo', 50, 0, NULL, NULL, 21, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Week No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fc3c7a98-8b89-4627-a9ad-a10f3a9a025d', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'InApproval', 70, 1, NULL, NULL, 8, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'In Approval', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('dcaaeb9f-fe5a-4129-82bb-7722292960b8', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ExpenseSheetDate', 90, 1, NULL, NULL, 42, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Sheet Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a488c0b8-2b2c-4a96-a53a-6b9f180555d3', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'SheetSubmitted', 70, 1, NULL, NULL, 44, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Sheet Submitted', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9579e2c6-bb6c-4e03-ba64-c9e94fb31a09', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'FormulaField1', 150, 0, NULL, NULL, 24, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e94956c8-b094-4b64-8e81-6268cba7bb4d', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'EmployeeName', 175, 1, NULL, NULL, 12, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4165d5c8-c135-4df8-9fbd-fe2e2fb221a8', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Rejected', 70, 1, NULL, NULL, 7, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Rejected', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('14952fce-6210-47c6-af0b-1775df7cb8b2', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Role', 120, 0, NULL, NULL, 16, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f603b6cf-3751-4b3b-8aa7-9382ce208b15', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'BaseCurrencyAmount', 110, 1, N'ParameterCurrencyCode', N'CurrencyAmount*ParameterCurrencyExchangeRate', 4, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('da1e85d1-0a97-4e29-b1dd-e121d5cc502e', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'FormulaField3', 150, 0, NULL, NULL, 26, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4e3ec9d1-8b6d-43e4-a9e1-96bf33d5aa2b', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'SheetApproved', 70, 1, NULL, NULL, 45, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Sheet Approved', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a066ffd1-c292-4ca5-a5a5-6254ecfc5adb', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'SheetRejected', 70, 1, NULL, NULL, 46, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Sheet Rejected', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fa08afd5-9bf0-4a1e-ac59-410b972ad5b6', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Description', 250, 1, NULL, NULL, 2, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Description', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e4a1d5e9-28d7-4fe2-849b-f01bc05007de', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Amount', 110, 1, N'CurrencyCode', NULL, 3, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('536457ea-9fa7-469b-87bf-832c3e348c7c', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'ExpenseSheetDate', 90, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('709a15fa-0ece-4c52-95c8-c39aceccb133', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', N'Year', 50, 0, NULL, NULL, 22, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Year', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8f4f5dfd-5a98-4e49-8746-7897b3aebcf6', '0f2d1d68-826d-400e-bf9f-95d4a9d6c4e0', N'ExpenseSheetDescription', 250, 1, NULL, NULL, 41, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Sheet Description', 0, 0)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'
if not exists(Select * from [dbo].[SystemReportFilterSourceMapping] where SystemReportFilterMappingId = '3033b50e-502e-412f-bddb-495c1bc553ed')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('3033b50e-502e-412f-bddb-495c1bc553ed', '9924da4a-2907-4368-a803-99c0c6f9ffff', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 1, 0, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('0a6a913a-c88e-44be-9397-0c635ba0b4e7', 'c29a0dd3-3337-43b7-9c3f-abf8e9ae9978', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 0, 0, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('eda7c949-7f7c-4d1d-b399-1cad7bb4efce', '7feed6f5-67ab-4699-8866-8deddac27b9f', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 1, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('46de0377-e2ab-430a-b4bb-c75c0c4bd451', '875614cd-c8ac-410d-aeae-af024a772739', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 1, 1, 4)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('bc8ac6b7-8c5b-451e-8f54-08005b4cf070', '39e77f67-6659-45aa-8eef-6bc28103b617', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 1, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('a31161ce-2fc2-469a-b075-1e0bc3c14af3', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 1, 1, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('c5dbccd6-a27c-4fa7-8e38-0644dbe91159', '4f471b5b-2394-4379-a666-d696e2dfb0ef', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 1, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('69139bff-bb03-405f-8cad-b45b04e95a6c', '40a2a9c4-d975-4167-91c7-c38fa497c9da', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997', 0, 0, 7)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemReportPermission] WHERE SystemReportPermissionId = 'f93e1301-f42e-40b2-be1b-78fe01251851')
BEGIN
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('f93e1301-f42e-40b2-be1b-78fe01251851', '9dfe73b0-33b2-4879-89c5-859fa40c385d', 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('ac3e8b14-43af-4dd5-b326-1ebedb77354a', '9dfe73b0-33b2-4879-89c5-859fa40c385d', 2, 1, NULL, NULL, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('fbfd5eae-bfb9-40ee-a795-e04183487f69', '9dfe73b0-33b2-4879-89c5-859fa40c385d', 101, 1, NULL, NULL, NULL, NULL, 1, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('c08fe5b7-1b26-4e82-9965-71571bab959d', '9dfe73b0-33b2-4879-89c5-859fa40c385d', 100, 1, NULL, NULL, NULL, 1, NULL, NULL, NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
IF NOT EXISTS (SELECT * FROM [dbo].[AccountReportColumn] WHERE [AccountReportColumnId] = '882ec126-4cf9-42b8-8aa8-f281156de443')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('882ec126-4cf9-42b8-8aa8-f281156de443', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Submitted', '7bd32e16-c4a6-4782-a782-11e37f893d14', 5, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('49ecbc3d-0327-40a4-a2c2-a996ce76a1c9', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'In Approval', 'fc3c7a98-8b89-4627-a9ad-a10f3a9a025d', 8, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('788ecd4c-505c-40a9-a791-98c01341e0ed', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Rejected', '4165d5c8-c135-4df8-9fbd-fe2e2fb221a8', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('ef91dc50-5193-45ac-bab4-78b94ef36415', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Approved', 'd7aecb07-6ff6-4b86-bfb6-3805a3fc7b66', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('5bf1b15b-28ff-4a20-a6e3-ee04b9456862', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Amount (BaseCurrency)', 'f603b6cf-3751-4b3b-8aa7-9382ce208b15', 4, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('96e27966-a7e9-4e6f-9873-a9ea593847b7', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Date', '536457ea-9fa7-469b-87bf-832c3e348c7c', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('79b1ec8a-638d-4488-bff6-2b9f784d6559', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Description', 'fa08afd5-9bf0-4a1e-ac59-410b972ad5b6', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d9eb4e98-360a-4cb1-be8c-f9ca5e1ef066', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Approval Status', '4fbe1065-f801-4ef3-b32d-15cd1447094d', 9, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('d9580ecc-c72c-45b7-b3f5-80469302717d', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Amount', 'e4a1d5e9-28d7-4fe2-849b-f01bc05007de', 3, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('924531cd-7db1-4b39-8608-f2b2ac59e9c7', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'Submitted Date', '116ce38b-41fd-44b2-8b41-604e7f6f5c11', 10, NULL, NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]'
if not exists(Select * from [dbo].[AccountReportDataSourceMapping] where AccountReportDataSourceMappingId = 'ab26fabd-c3bf-4271-aaf1-40b080db20d8')
BEGIN
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('ab26fabd-c3bf-4271-aaf1-40b080db20d8', '9dfe73b0-33b2-4879-89c5-859fa40c385d', 'ee5f3316-3a5e-484e-ae9e-9b11f0380997')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'
if not exists(Select * from [dbo].[AccountReportGroup] where AccountReportGroupId = '46d66e91-1905-4fdb-8907-45a4c6a6eb64')
BEGIN
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('46d66e91-1905-4fdb-8907-45a4c6a6eb64', '9dfe73b0-33b2-4879-89c5-859fa40c385d', N'EmployeeName', N'Employee Name', 0, 'e94956c8-b094-4b64-8e81-6268cba7bb4d')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'
if not exists(Select * from [dbo].[AccountReportSummary] where AccountReportSummaryId = '3fee5457-f6a1-48a3-883a-5c7ed7c65458')
BEGIN
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('3fee5457-f6a1-48a3-883a-5c7ed7c65458', '46d66e91-1905-4fdb-8907-45a4c6a6eb64', '9dfe73b0-33b2-4879-89c5-859fa40c385d', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '5bf1b15b-28ff-4a20-a6e3-ee04b9456862', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f528c6da-859a-43f7-9c53-2c80322a51d5', '46d66e91-1905-4fdb-8907-45a4c6a6eb64', '9dfe73b0-33b2-4879-89c5-859fa40c385d', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'd9580ecc-c72c-45b7-b3f5-80469302717d', N'Amount', 1, 1)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'
IF NOT EXISTS (SELECT * FROM [dbo].[SystemSecurityCategoryPage] WHERE [SystemSecurityCategoryPageId] = 135)
BEGIN
INSERT INTO [dbo].[SystemSecurityCategoryPage] ([SystemSecurityCategoryPageId], [SystemSecurityCategoryId], [SequenceNumber], [Folder], [SystemCategoryPage], [SystemCategoryPageDescription], [ParentSystemSecurityCateogoryPageId], [IsSiteMapPage], [IsCustomizeable], [IsAllowAdd], [IsAllowEdit], [IsAllowDelete], [IsAllowList], [IsShowDataOptions], [IsShowTillOptions], [IsSystemPage], [ControlLevelPermission], [NotShowInPermission]) VALUES (135, 2, N'22310229', N'Employee', 'AccountExpenseEntry.aspx', 'My Expense Sheet', 25, 1, 1, 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemSecurityCategoryPage]'

UPDATE [dbo].[SystemSecurityCategoryPage] SET [SystemCategoryPage]='AccountExpenseEntryForm.aspx', [ParentSystemSecurityCateogoryPageId]=135 WHERE [SystemSecurityCategoryPageId]=20

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] CHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] CHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] CHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]

-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[SystemSecurityCategoryPage]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[SystemSecurityCategoryPage]'

ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory]
ALTER TABLE [dbo].[SystemSecurityCategoryPage] CHECK CONSTRAINT [FK_SystemSecurityCategoryPage_SystemSecurityCategory1]

GO
if exists(Select * from systemdata where Version = '3.1.3')
BEGIN
Print 'add employeExpenseSheet record by expense entry'
Insert into AccountEmployeeExpenseSheet (AccountEmployeeExpenseSheetId,AccountEmployeeId, AccountId, Description, ExpenseSheetDate, 
Approved, Rejected, Submitted, InApproval, CreatedByEmployeeId, CreatedOn, ModifiedByEmployeeId, ModifiedOn, SubmittedDate)
Select NewId(), AccountEmployeeId , AccountId,N' ',AccountExpenseEntryDate, Max(Convert(int,case when Approved = 1 then 1 else 0 end )) as Approved, 
Max(Convert(int,case when Rejected = 1 then 1 else 0 end ))  as  Rejected, Max(Convert(int,case when Submitted = 1 then 1 else 0 end )) as Submitted, 
Max(Convert(int,case when Approved = 1 then 1 else 0 end )) as InApproval, AccountEmployeeId ,getdate(),AccountEmployeeId ,getdate(),
AccountExpenseEntryDate from AccountExpenseEntry
Group By AccountExpenseEntryDate, AccountEmployeeId , AccountId
END
GO

if exists(Select * from systemdata where Version = '3.1.3')
BEGIN
Print 'update expensesheetid in expenseentry'
Update AccountExpenseEntry Set AccountEmployeeExpenseSheetId = dbo.AccountEmployeeExpenseSheet.AccountEmployeeExpenseSheetId
FROM         dbo.AccountEmployeeExpenseSheet INNER JOIN
                      dbo.AccountExpenseEntry ON dbo.AccountEmployeeExpenseSheet.AccountId = dbo.AccountExpenseEntry.AccountId AND 
                      dbo.AccountEmployeeExpenseSheet.AccountEmployeeId = dbo.AccountExpenseEntry.AccountEmployeeId AND 
                      dbo.AccountEmployeeExpenseSheet.ExpenseSheetDate = dbo.AccountExpenseEntry.AccountExpenseEntryDate
END
GO

if exists(Select * from systemdata where Version = '3.1.3')
BEGIN
Print 'update submitteddate is null when entry is not submitted'
Update AccountEmployeeExpenseSheet Set SubmittedDate = null 
where submitted = 0 and submitteddate is not null and rejected = 0 and approved = 0
END
GO

if exists(Select * from systemdata where Version = '3.1.3')
BEGIN
Print 'update defaultexpenserate'
Update AccountExpense Set DefaultExpenseRate = 0.3300
 Where AccountExpenseTypeId in 
(Select AccountExpenseTypeId from accountExpenseType where MasterAccountExpenseTypeId = 8) or MasterAccountExpenseId = 8
END
GO

if exists(Select * from systemdata where Version = '3.1.3')
BEGIN
Print 'Update masteraccountexpenseid'
Update AccountExpense Set MasterAccountExpenseId =   dbo.MasterAccountExpense.MasterExpenseId
FROM         dbo.MasterAccountExpense INNER JOIN
                      dbo.AccountExpense ON dbo.MasterAccountExpense.Expense = dbo.AccountExpense.AccountExpenseName
END
GO

if exists(Select * from systemdata where Version = '3.1.3')
BEGIN
update AccountExpenseEntry set Submitted = 0 where Submitted is null 
END
GO
Update SystemData Set Version = '3.1.4' Where Version = '3.1.3' And SystemDataId = 1
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSource]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSource]'
if not exists(Select * from [dbo].[SystemReportDataSource] where SystemReportDataSourceId = '18966956-9937-4da0-a6f3-465e6066d433')
BEGIN
INSERT INTO [dbo].[SystemReportDataSource] ([SystemReportDataSourceId], [ReportDataSourceName], [ReportDatasource], [ReportDataSourceType], [DefaultIconPath]) VALUES ('18966956-9937-4da0-a6f3-465e6066d433', N'Time Entry Period', N'rptvueAccountEmployeeTimeEntryPeriod', N'View', N'/Images/DetailTimeSheetReport.gif')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where SystemReportDataSourceFieldId = '60ded201-91e0-4295-8491-2510cb183dd8')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('60ded201-91e0-4295-8491-2510cb183dd8', '18966956-9937-4da0-a6f3-465e6066d433', N'BaseCurrencyAmount', 115, 1, N'ParameterCurrencyCode', N'CurrencyAmount*ParameterCurrencyExchangeRate', 16, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Billing Amount (BaseCurrency)', 1, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('17f0f303-8601-44ab-9ba7-8a3212a66bad', '18966956-9937-4da0-a6f3-465e6066d433', N'EmployeeName', 175, 1, NULL, NULL, 10, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('09bf0508-2af6-4b47-80ea-fc6266b11fbc', '18966956-9937-4da0-a6f3-465e6066d433', N'TotalHours', 100, 1, NULL, NULL, 11, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('89bcb608-99aa-4712-b38b-4202938cf3fd', '18966956-9937-4da0-a6f3-465e6066d433', N'Rejected', 70, 1, NULL, NULL, 7, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Rejected', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('6804cf0a-27d3-4f3f-abbb-2b1a125ddf1d', '18966956-9937-4da0-a6f3-465e6066d433', N'Approved', 70, 1, NULL, NULL, 6, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Approved', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('bdf1990f-bb46-4842-ae1e-e2298c481849', '18966956-9937-4da0-a6f3-465e6066d433', N'MonthNo', 60, 0, NULL, NULL, 23, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Month No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('eaa9ab47-c64f-4962-a83e-0772bd98ad7b', '18966956-9937-4da0-a6f3-465e6066d433', N'SubmittedHours', 100, 1, NULL, NULL, 12, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Submitted Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7345bf5c-d3d6-4333-bc8d-190dc24e2bdb', '18966956-9937-4da0-a6f3-465e6066d433', N'FormulaField3', 150, 0, NULL, NULL, 31, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formmula Field 3', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('8f84c96a-4067-4b0c-9e49-331809433249', '18966956-9937-4da0-a6f3-465e6066d433', N'ApprovedHours', 100, 1, NULL, NULL, 13, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Apprvoed Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('1703e27d-99be-4e2f-aed3-0b3fe71ab94e', '18966956-9937-4da0-a6f3-465e6066d433', N'Submitted', 70, 1, NULL, NULL, 4, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'Submitted', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('fbf38e85-34ed-4ca9-adf4-9edb904afb4a', '18966956-9937-4da0-a6f3-465e6066d433', N'SubmittedDate', 90, 1, NULL, NULL, 8, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Submitted Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('31ec898a-397a-4db6-b9a4-93065f9c1164', '18966956-9937-4da0-a6f3-465e6066d433', N'FormulaField1', 150, 0, NULL, NULL, 29, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formmula Field 1', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e8174e8b-002e-44bb-b905-c3087601c6b2', '18966956-9937-4da0-a6f3-465e6066d433', N'TimeEntryEndDate', 90, 1, NULL, NULL, 2, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'End Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e216588b-b57d-49f0-b1bb-a2c83eab0fc5', '18966956-9937-4da0-a6f3-465e6066d433', N'DayNo', 50, 0, NULL, NULL, 22, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Day No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('5e956791-d9ba-4250-83d7-cb979a07fd45', '18966956-9937-4da0-a6f3-465e6066d433', N'InApproval', 70, 1, NULL, NULL, 5, 'b2cb6685-3a4b-4cf9-a15a-d01a63031e2b', N'In Approval', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3d2a199b-86a7-4feb-b07f-3906bbc7aef5', '18966956-9937-4da0-a6f3-465e6066d433', N'RejectedHours', 100, 1, NULL, NULL, 14, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Rejected Hours', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('18f3b69d-5bee-467c-9406-7a113dc72d01', '18966956-9937-4da0-a6f3-465e6066d433', N'TimeEntryStartDate', 90, 1, NULL, NULL, 1, '48b9ef68-b4f6-4c75-b8de-c547939179ce', N'Start Date', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('64e20abd-26e2-4f51-aa4f-1cc4bf30b268', '18966956-9937-4da0-a6f3-465e6066d433', N'Amount', 100, 1, N'AmountCurrencyCode', NULL, 15, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Amount', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('e750e1be-2abf-4f0b-bd5f-deca79619790', '18966956-9937-4da0-a6f3-465e6066d433', N'ApprovalStatus', 125, 1, NULL, NULL, 9, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Approval Status', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ccc9f4c1-d70e-437c-8e94-6ca601c1f49c', '18966956-9937-4da0-a6f3-465e6066d433', N'EmployeeCode', 115, 0, NULL, NULL, 28, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Employee Code', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('a77706c4-0f96-4574-9c1a-a5c9b7c6b37f', '18966956-9937-4da0-a6f3-465e6066d433', N'WeekNo', 55, 0, NULL, NULL, 24, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Week No', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('7b7f13c4-9183-4328-9331-964fc18ed1c1', '18966956-9937-4da0-a6f3-465e6066d433', N'BillingRate', 115, 0, N'BillingRateCurrencyCode', NULL, 17, '0da31ddc-9040-46fa-a33a-74e06a645050', N'Billing Rate', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('24c7dcc5-dd05-4492-b7b6-e4cf81466d27', '18966956-9937-4da0-a6f3-465e6066d433', N'Period', 65, 0, NULL, NULL, 26, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Preiod', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('d4b0f2c9-7241-495e-b683-953fccf0f947', '18966956-9937-4da0-a6f3-465e6066d433', N'Year', 50, 0, NULL, NULL, 25, 'be1ea264-d750-43b6-85c0-a5b8467f8024', N'Year', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f718abcd-ba45-47ec-93da-be36258d3493', '18966956-9937-4da0-a6f3-465e6066d433', N'EMailAddress', 175, 0, NULL, NULL, 21, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Email Address', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('9d0158d1-c743-44a1-949e-88c862ea27fb', '18966956-9937-4da0-a6f3-465e6066d433', N'FormulaField2', 150, 0, NULL, NULL, 30, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formmula Field 2', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('ff04aed4-8b0f-43b1-91cd-5793882bf861', '18966956-9937-4da0-a6f3-465e6066d433', N'FormulaField5', 150, 0, NULL, NULL, 33, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formmula Field 5', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('267ed3d9-651d-4fb6-abc7-1a44da7ca10b', '18966956-9937-4da0-a6f3-465e6066d433', N'TimeEntryViewType', 90, 0, NULL, NULL, 3, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Entry View Type', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3e97c0da-f348-4473-af95-b05449750a14', '18966956-9937-4da0-a6f3-465e6066d433', N'FormulaField4', 150, 0, NULL, NULL, 32, 'f29d78e1-2a29-47b3-84b5-aee49740dce6', N'Formmula Field 4', 0, 1)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('3b03fddd-18f2-41d7-951d-cd79ab6970fd', '18966956-9937-4da0-a6f3-465e6066d433', N'DepartmentName', 175, 0, NULL, NULL, 20, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Department Name', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('0ed636e6-89ef-417e-887f-b58aa2ed1331', '18966956-9937-4da0-a6f3-465e6066d433', N'Role', 150, 0, NULL, NULL, 19, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Role', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('4b0284ea-dc56-41bc-9a7c-6039f46b2840', '18966956-9937-4da0-a6f3-465e6066d433', N'AccountLocation', 150, 0, NULL, NULL, 18, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Location', 0, 0)
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('f07b5bf6-98e8-4ee2-bf2e-3c491586f4c6', '18966956-9937-4da0-a6f3-465e6066d433', N'WeekDayName', 65, 0, NULL, NULL, 27, '91402610-eef0-4dd0-aca3-0080f53389fa', N'Day', 0, 0)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportFilterSourceMapping]'
if not exists(Select * from [dbo].[SystemReportFilterSourceMapping] where SystemReportFilterMappingId = '13375a08-78f9-4e35-9fd1-0cc72c361e6d')
BEGIN
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('13375a08-78f9-4e35-9fd1-0cc72c361e6d', '7feed6f5-67ab-4699-8866-8deddac27b9f', '18966956-9937-4da0-a6f3-465e6066d433', 1, 1, 3)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('8f0bf831-235d-49e7-b61b-86f4d9dbac3f', '9924da4a-2907-4368-a803-99c0c6f9ffff', '18966956-9937-4da0-a6f3-465e6066d433', 0, 0, 5)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('db16c567-d9a7-4410-9f06-3145dcd0cce6', '40a2a9c4-d975-4167-91c7-c38fa497c9da', '18966956-9937-4da0-a6f3-465e6066d433', 0, 0, 7)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('822d1a6c-8a72-44d7-a366-dc83fa28a79f', 'c29a0dd3-3337-43b7-9c3f-abf8e9ae9978', '18966956-9937-4da0-a6f3-465e6066d433', 0, 0, 6)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('92f95d8f-826b-4530-94ed-f6e59fced5e4', '39e77f67-6659-45aa-8eef-6bc28103b617', '18966956-9937-4da0-a6f3-465e6066d433', 1, 1, 2)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('c4d00e9a-0574-4945-8eee-d6de3c080b92', '5a1515da-e197-49c1-83fc-b0d5a9a3034a', '18966956-9937-4da0-a6f3-465e6066d433', 1, 1, 8)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('6fd277ef-6e98-485b-9e0c-ede290f67017', '4f471b5b-2394-4379-a666-d696e2dfb0ef', '18966956-9937-4da0-a6f3-465e6066d433', 1, 1, 1)
INSERT INTO [dbo].[SystemReportFilterSourceMapping] ([SystemReportFilterMappingId], [SystemReportFilterSourceId], [SystemReportDataSourceId], [IsRequired], [IsAllowAll], [FilterSequence]) VALUES ('d9b413fc-5b84-45b1-8d44-a31607275de8', '875614cd-c8ac-410d-aeae-af024a772739', '18966956-9937-4da0-a6f3-465e6066d433', 1, 1, 4)
END
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] NOCHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] NOCHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] NOCHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Nochecks's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Nochecks''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] NOCHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReport]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReport]'
if not exists(Select * from [dbo].[AccountReport] where AccountReportId = '07cf48a8-c92c-432a-8a14-f0f5d931ba0a')
BEGIN
INSERT INTO [dbo].[AccountReport] ([AccountReportId], [AccountReportCategoryId], [ReportName], [ReportDescription], [ReportIconPath], [AccountId], [SystemReportTypeId], [SystemReportId], [IsConsolidated], [ReportPageName], [ReportOrder], [ShowCompanyLogo], [ReportTitle], [ReportHeader], [ReportFooter]) VALUES ('07cf48a8-c92c-432a-8a14-f0f5d931ba0a', '98f4aa0d-7c01-466c-8b72-0e42e7f40f38', N'Time Entry Period', N'Time Entry Period', NULL, NULL, NULL, NULL, 0, NULL, 9, 0, N'Time Entry Period', N'', N'')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
if not exists(Select * from [dbo].[AccountReportColumn] where AccountReportColumnId = '38aa4102-5a31-4c94-a382-df9c632d0b0d')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('38aa4102-5a31-4c94-a382-df9c632d0b0d', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Submitted Date', 'fbf38e85-34ed-4ca9-adf4-9edb904afb4a', 7, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('194f3414-bb42-4de2-aec9-f1fb864fe8c1', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Rejected Hours', '3d2a199b-86a7-4feb-b07f-3906bbc7aef5', 12, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('bef2ea1d-33be-47ab-9353-59f30596454f', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Apprvoed Hours', '8f84c96a-4067-4b0c-9e49-331809433249', 11, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('7d1df248-1a18-4b4e-ad85-b5056e69d77a', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Submitted', '1703e27d-99be-4e2f-aed3-0b3fe71ab94e', 3, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('63443d50-2764-42d0-a891-fb84a0d47d7d', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Start Date', '18f3b69d-5bee-467c-9406-7a113dc72d01', 1, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('88bee16e-e376-4c0a-9131-316b3994be66', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'In Approval', '5e956791-d9ba-4250-83d7-cb979a07fd45', 4, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('56aa3d73-0bee-4467-a40f-195788b42ae4', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Billing Amount (BaseCurrency)', '60ded201-91e0-4295-8491-2510cb183dd8', 14, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('8f3df1c6-febe-4e0f-9941-3ba94abaa4a7', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Rejected', '89bcb608-99aa-4712-b38b-4202938cf3fd', 6, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('828108c9-131c-4845-bbd1-1d1ac8b8a504', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Amount', '64e20abd-26e2-4f51-aa4f-1cc4bf30b268', 13, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('05e272d0-7312-4347-b504-fae789175c84', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Approval Status', 'e750e1be-2abf-4f0b-bd5f-deca79619790', 8, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('cf13a2e1-23db-4a7a-b430-d96859895230', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Hours', '09bf0508-2af6-4b47-80ea-fc6266b11fbc', 9, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('b1f1cee1-348e-4552-a20f-4335b96d88eb', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'End Date', 'e8174e8b-002e-44bb-b905-c3087601c6b2', 2, NULL, NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6f437ae7-d7c9-4b27-b9fe-dc5d41e38ba2', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Submitted Hours', 'eaa9ab47-c64f-4962-a83e-0772bd98ad7b', 10, 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', NULL)
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('6c93edf8-629e-4060-be32-7cf598f6e5c8', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'Approved', '6804cf0a-27d3-4f3f-abbb-2b1a125ddf1d', 5, NULL, NULL)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportDataSourceMapping]'
if not exists(Select * from [dbo].[AccountReportDataSourceMapping] where AccountReportDataSourceMappingId = '7f16c2b2-1254-44e2-86b0-29a56a14d684')
BEGIN
INSERT INTO [dbo].[AccountReportDataSourceMapping] ([AccountReportDataSourceMappingId], [AccountReportId], [SystemReportDataSourceId]) VALUES ('7f16c2b2-1254-44e2-86b0-29a56a14d684', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', '18966956-9937-4da0-a6f3-465e6066d433')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportGroup]'
if not exists(Select * from [dbo].[AccountReportGroup] where AccountReportGroupId = '5ca9a823-1fd9-4d14-8c53-4d60af6c60d0')
BEGIN
INSERT INTO [dbo].[AccountReportGroup] ([AccountReportGroupId], [AccountReportId], [ReportGroup], [ReportGroupFieldLabel], [ReportGroupFieldOrder], [SystemReportDataSourceFieldId]) VALUES ('5ca9a823-1fd9-4d14-8c53-4d60af6c60d0', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', N'EmployeeName', N'Employee Name', 0, '17f0f303-8601-44ab-9ba7-8a3212a66bad')
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportSummary]'
if not exists(Select * from [dbo].[AccountReportSummary] where AccountReportSummaryId = '7e7fcd02-2c3e-4e66-abeb-66dcf8bbae45')
BEGIN
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('7e7fcd02-2c3e-4e66-abeb-66dcf8bbae45', '5ca9a823-1fd9-4d14-8c53-4d60af6c60d0', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '194f3414-bb42-4de2-aec9-f1fb864fe8c1', N'RejectedHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('28554a43-3a60-43d9-b718-e99f014f3793', '5ca9a823-1fd9-4d14-8c53-4d60af6c60d0', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'bef2ea1d-33be-47ab-9353-59f30596454f', N'ApprovedHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('f27fc065-9f84-489a-8c0e-a5cea50a2316', '5ca9a823-1fd9-4d14-8c53-4d60af6c60d0', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '6f437ae7-d7c9-4b27-b9fe-dc5d41e38ba2', N'SubmittedHours', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('5f3fc8b3-0438-43e8-9074-148c328c4abe', '5ca9a823-1fd9-4d14-8c53-4d60af6c60d0', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '56aa3d73-0bee-4467-a40f-195788b42ae4', N'BaseCurrencyAmount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('220555d9-fe49-442c-89a0-5e3a59a72bbd', '5ca9a823-1fd9-4d14-8c53-4d60af6c60d0', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', '828108c9-131c-4845-bbd1-1d1ac8b8a504', N'Amount', 1, 1)
INSERT INTO [dbo].[AccountReportSummary] ([AccountReportSummaryId], [AccountReportGroupId], [AccountReportId], [SystemReportCalculationTypeId], [AccountReportColumnId], [SummaryCaption], [IsShowGroupTotal], [IsShowGrandTotal]) VALUES ('61217ef8-5e27-48c3-9629-e3f2e729286b', '5ca9a823-1fd9-4d14-8c53-4d60af6c60d0', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 'd3c0763b-8f05-4fd5-aa69-37dbe17479ef', 'cf13a2e1-23db-4a7a-b430-d96859895230', N'TotalHours', 1, 1)
END
GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportColumn]'

ALTER TABLE [dbo].[AccountReportColumn] CHECK CONSTRAINT [FK_AccountReportColumn_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportDataSourceMapping]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportDataSourceMapping]'

ALTER TABLE [dbo].[AccountReportDataSourceMapping] CHECK CONSTRAINT [FK_AccountReportDataSourceMapping_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportGroup]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportGroup]'

ALTER TABLE [dbo].[AccountReportGroup] CHECK CONSTRAINT [FK_AccountReportGroup_AccountReport]
GO
-- =======================================================
-- Foreign Key Constraint Check's for Table: [dbo].[AccountReportSummary]
-- =======================================================
Print ' Foreign Key Constraint Check''s for Table: [dbo].[AccountReportSummary]'

ALTER TABLE [dbo].[AccountReportSummary] CHECK CONSTRAINT [FK_AccountReportSummary_AccountReport]
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportPermission]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportPermission]'
if not exists(Select * from [dbo].[SystemReportPermission] where SystemReportPermissionId = '7280c606-77cd-4ba2-bd88-f2f0d0eed2f5')
BEGIN
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('7280c606-77cd-4ba2-bd88-f2f0d0eed2f5', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 100, 1, NULL, NULL, NULL, 1, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('c64aeb3b-6664-4a27-a784-0da1851401f2', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('6c42e699-267a-4871-b6ae-2f388440cb8e', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 2, 1, NULL, NULL, 1, NULL, NULL, NULL, NULL)
INSERT INTO [dbo].[SystemReportPermission] ([SystemReportPermissionId], [AccountReportId], [MasterAccountRoleId], [ShowReport], [AllowCustomization], [AllowAllUser], [AllowOwnReport], [AllowOwnTeam], [AllowOwnProject], [AllowOwnSubOrdinates], [AllowOwnApproval]) VALUES ('db889cf2-374f-4751-978c-38c3e896b797', '07cf48a8-c92c-432a-8a14-f0f5d931ba0a', 101, 1, NULL, NULL, NULL, NULL, 1, NULL, NULL)
END
GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate, dbo.AccountRole.AccountRoleId, dbo.AccountRole.Role, dbo.AccountProject.AccountProjectTypeId, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.Billed, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId, 
                      CASE WHEN Submitted = 1 THEN ROUND(CONVERT(float, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) END AS SubmittedHours, CASE WHEN Approved = 1 THEN ROUND(CONVERT(float, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) END AS ApprovedHours, 
                      CASE WHEN Rejected = 1 THEN ROUND(CONVERT(float, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) END AS RejectedHours
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId INNER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
-- Create View vueAccountEmployeeTimeEntryPeriodForReport
Print 'Create View vueAccountEmployeeTimeEntryPeriodForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryPeriodForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryPeriodForReport
AS
SELECT     dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId, dbo.AccountEmployeeTimeEntryPeriod.AccountId, 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeId, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryViewType, 
                      dbo.AccountEmployeeTimeEntryPeriod.Submitted, dbo.AccountEmployeeTimeEntryPeriod.Approved, dbo.AccountEmployeeTimeEntryPeriod.Rejected, 
                      dbo.AccountEmployeeTimeEntryPeriod.InApproval, dbo.AccountEmployeeTimeEntryPeriod.SubmittedDate, dbo.vueAccountEmployee.EmployeeName, 
                      dbo.vueAccountEmployee.AccountLocationId, dbo.vueAccountEmployee.AccountDepartmentId, dbo.vueAccountEmployee.AccountLocation, 
                      dbo.vueAccountEmployee.Role, dbo.vueAccountEmployee.DepartmentName, dbo.vueAccountEmployee.EMailAddress, 
                      dbo.vueAccountEmployee.AccountRoleId, CASE WHEN AccountEmployeeTimeEntryPeriod.Submitted = 1 AND 
                      AccountEmployeeTimeEntryPeriod.Approved = 0 THEN ''Submitted'' WHEN AccountEmployeeTimeEntryPeriod.Approved = 1 THEN ''Approved'' WHEN AccountEmployeeTimeEntryPeriod.Rejected
                       = 1 THEN ''Rejected'' WHEN AccountEmployeeTimeEntryPeriod.Submitted = 0 AND AccountEmployeeTimeEntryPeriod.Approved = 0 AND 
                      AccountEmployeeTimeEntryPeriod.Rejected = 0 THEN ''Not Submitted'' END AS ApprovalStatus, 
                      { fn DAYOFMONTH(dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate) } AS DayNo, 
                      MONTH(dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate) AS MonthNo, DATEPART(week, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate) - DATEPART(week, DATEADD(month, DATEDIFF(month, 0, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate), 0)) + 1 AS WeekNo, YEAR(dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate) 
                      AS Year, LEFT({ fn MONTHNAME(dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate) }, 3) + '' - '' + CONVERT(nvarchar(10), 
                      YEAR(dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate)) AS Period, 
                      { fn DAYNAME(dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate) } AS WeekDayName, SUM(ROUND(CONVERT(float, 
                      dbo.vueAccountEmployeeTimeEntry.TotalMinutes) / 60, 2)) AS TotalHours, 
                      SUM(ISNULL(dbo.vueAccountEmployeeTimeEntry.TotalMinutes * dbo.vueAccountEmployeeTimeEntry.BillingRate / 60, 0)) AS Amount, 
                      SUM(ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRate, 0)) AS BillingRate, SUM(ISNULL(dbo.vueAccountEmployeeTimeEntry.SubmittedHours, 0)) 
                      AS SubmittedHours, SUM(ISNULL(dbo.vueAccountEmployeeTimeEntry.ApprovedHours, 0)) AS ApprovedHours, 
                      SUM(ISNULL(dbo.vueAccountEmployeeTimeEntry.RejectedHours, 0)) AS RejectedHours, ISNULL(dbo.vueAccountEmployee.EmployeeCode, '''') 
                      AS EmployeeCode, SUM(ISNULL(dbo.vueAccountEmployeeTimeEntry.BillingRateExchangeRate, 0)) AS BillingRateExchangeRate
FROM         dbo.AccountEmployeeTimeEntryPeriod INNER JOIN
                      dbo.vueAccountEmployee ON 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeId = dbo.vueAccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntry ON 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId = dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
GROUP BY dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeTimeEntryPeriodId, dbo.AccountEmployeeTimeEntryPeriod.AccountId, 
                      dbo.AccountEmployeeTimeEntryPeriod.AccountEmployeeId, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryStartDate, 
                      dbo.AccountEmployeeTimeEntryPeriod.TimeEntryEndDate, dbo.AccountEmployeeTimeEntryPeriod.TimeEntryViewType, 
                      dbo.AccountEmployeeTimeEntryPeriod.Submitted, dbo.AccountEmployeeTimeEntryPeriod.Approved, dbo.AccountEmployeeTimeEntryPeriod.Rejected, 
                      dbo.AccountEmployeeTimeEntryPeriod.InApproval, dbo.AccountEmployeeTimeEntryPeriod.SubmittedDate, dbo.vueAccountEmployee.EmployeeName, 
                      dbo.vueAccountEmployee.AccountLocationId, dbo.vueAccountEmployee.AccountDepartmentId, dbo.vueAccountEmployee.AccountLocation, 
                      dbo.vueAccountEmployee.Role, dbo.vueAccountEmployee.DepartmentName, dbo.vueAccountEmployee.EMailAddress, 
                      dbo.vueAccountEmployee.AccountRoleId, dbo.vueAccountEmployee.EmployeeCode'
GO
-- Create View rptvueAccountEmployeeTimeEntryPeriod
Print 'Create View rptvueAccountEmployeeTimeEntryPeriod'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeTimeEntryPeriod' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeTimeEntryPeriod
AS
SELECT     AccountEmployeeTimeEntryPeriodId, AccountId, AccountEmployeeId, TimeEntryStartDate, TimeEntryEndDate, TimeEntryViewType, Submitted, 
                      Approved, Rejected, InApproval, SubmittedDate, EmployeeName, AccountLocationId, AccountDepartmentId, AccountLocation, Role, DepartmentName, 
                      EMailAddress, AccountRoleId, ApprovalStatus, DayNo, MonthNo, WeekNo, Year, Period, WeekDayName, TotalHours, Amount, BillingRate, 
                      SubmittedHours, ApprovedHours, RejectedHours, EmployeeCode, 
                      CASE WHEN BillingRateExchangeRate > 0 THEN Amount / BillingRateExchangeRate ELSE 0 END AS CurrencyAmount
FROM         dbo.vueAccountEmployeeTimeEntryPeriodForReport'

GO
-- Drop View vueAccountEmployee
Print 'Drop View vueAccountEmployee'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployee]
GO
-- Add Column ShowAdditionalTaskInformationType to AccountPreferences
Print 'Add Column ShowAdditionalTaskInformationType to AccountPreferences'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountPreferences' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ShowAdditionalTaskInformationType' AND TABLE_NAME='AccountPreferences'))
ALTER TABLE [dbo].[AccountPreferences]
	ADD [ShowAdditionalTaskInformationType] int NULL

GO
-- Create View vueAccountEmployee
Print 'Create View vueAccountEmployee'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployee' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployee
AS
SELECT     dbo.AccountEmployee.AccountEmployeeId, dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountRole.Role, dbo.AccountEmployee.AccountId, dbo.AccountLocation.AccountLocation, 
                      dbo.AccountEmployee.Password, dbo.AccountEmployee.AccountDepartmentId, dbo.AccountEmployee.AccountLocationId, 
                      dbo.AccountEmployee.BillingTypeId, dbo.AccountBillingType.BillingType, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountPreferences.ShowClockStartEnd, 
                      dbo.Account.TimeZoneId, dbo.AccountRole.MasterAccountRoleId, dbo.Account.DefaultCurrencyId, dbo.Account.CountryId, 
                      dbo.AccountPreferences.CultureInfoName, dbo.AccountPreferences.TimeEntryFormat, dbo.AccountEmployee.AllowedAccessFromIP, 
                      dbo.AccountRole.AccountRoleId, dbo.AccountPreferences.AccountSessionTimeout, dbo.AccountPreferences.ShowCompletedTasksInTimeSheet, 
                      dbo.AccountPreferences.CurrencySymbol, dbo.AccountPreferences.IsCompanyOwnLogo, dbo.Account.AccountExpiryActivation, 
                      dbo.Account.LicenseActivation, dbo.AccountEmployee.EmployeeTypeId, dbo.AccountEmployee.ExternalUserClientId, 
                      dbo.AccountEmployee.AccountBillingRateId, dbo.AccountPreferences.ScheduledEmailSendTime, 
                      dbo.AccountPreferences.LastScheduledEmailSentTime, dbo.AccountEmployee.Username, dbo.AccountEmployee.IsDisabled, 
                      dbo.AccountPreferences.FromEmailAddress, dbo.AccountPreferences.FromEmailAddressDisplayName, dbo.AccountEmployee.EmployeeCode, 
                      dbo.AccountPreferences.Version, dbo.AccountPreferences.LockSubmittedRecords, dbo.AccountPreferences.LockApprovedRecords, 
                      ISNULL(dbo.AccountEmployee.EmployeeCode + '' - '', '''') 
                      + dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeNameWithCode, 
                      dbo.AccountPreferences.ShowWorkTypeInTimeSheet, dbo.AccountPreferences.NumberOfBlankRowsInTimeEntry, 
                      dbo.AccountPreferences.ShowCostCenterInTimeSheet, dbo.AccountPreferences.WeekStartDay, dbo.AccountPreferences.AccountBaseCurrencyId, 
                      dbo.AccountPreferences.UserInterfaceLanguage, dbo.AccountEmployee.EmployeeManagerId, dbo.AccountPreferences.DefaultTimeEntryMode, 
                      dbo.AccountPreferences.PageSize, dbo.AccountEmployee.TimeZoneId AS EmployeeTimeZoneId, dbo.AccountEmployee.TerminationDate, 
                      dbo.AccountEmployee.StatusId, dbo.AccountEmployee.JobTitle, dbo.AccountEmployee.EmployeePayTypeId, dbo.AccountEmployee.HiredDate, 
                      dbo.AccountEmployee.AccountWorkingDayTypeId, dbo.AccountWorkingDayType.AccountWorkingDayType, dbo.AccountWorkingDayType.HoursPerDay, 
                      dbo.AccountWorkingDayType.WeekStartDay AS EmployeeWeekStartDay, dbo.AccountPreferences.ShowClientInTimesheet, 
                      dbo.AccountWorkingDayType.MinimumHoursPerDay, dbo.AccountWorkingDayType.MaximumHoursPerDay, 
                      dbo.AccountWorkingDayType.MinimumHoursPerWeek, dbo.AccountWorkingDayType.MaximumHoursPerWeek, 
                      dbo.AccountPreferences.ShowDescriptionInWeekView, dbo.AccountPreferences.InvoiceNoPrefix, 
                      dbo.AccountPreferences.ShowAdditionalTaskInformationType
FROM         dbo.AccountEmployee INNER JOIN
                      dbo.Account ON dbo.AccountEmployee.AccountId = dbo.Account.AccountId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.AccountWorkingDayType ON 
                      dbo.AccountEmployee.AccountWorkingDayTypeId = dbo.AccountWorkingDayType.AccountWorkingDayTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountPreferences ON dbo.AccountEmployee.AccountId = dbo.AccountPreferences.AccountId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId'
GO
update AccountReport Set ReportIconPath = '/Images/ExpenseSheet.gif' where AccountReportId = '9dfe73b0-33b2-4879-89c5-859fa40c385d'
update AccountReport Set ReportIconPath = '/Images/TimeEntryPeriod.gif' where AccountReportId = '07cf48a8-c92c-432a-8a14-f0f5d931ba0a'
GO
update SystemReportDatasource Set DefaultIconPath = '/Images/ExpenseSheet.gif' where SystemReportDatasourceId = 'ee5f3316-3a5e-484e-ae9e-9b11f0380997'
update SystemReportDatasource Set DefaultIconPath = '/Images/TimeEntryPeriod.gif' where SystemReportDatasourceId = '18966956-9937-4da0-a6f3-465e6066d433'
GO
-- Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject from AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
END
GO

-- Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod
Print 'Drop Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee from AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
	ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod] DROP CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
END
GO

-- Drop Index _dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30 from AccountEmployeeTimeEntry
Print 'Drop Index _dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30 from AccountEmployeeTimeEntry'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30'))
DROP INDEX [dbo].[AccountEmployeeTimeEntry].[_dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30]
GO

-- Drop Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6 from AccountEmployeeTimeEntry
Print 'Drop Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6 from AccountEmployeeTimeEntry'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6'))
DROP INDEX [dbo].[AccountEmployeeTimeEntry].[_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6]
GO

-- Drop Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9 from AccountEmployeeTimeEntry
Print 'Drop Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9 from AccountEmployeeTimeEntry'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9'))
DROP INDEX [dbo].[AccountEmployeeTimeEntry].[_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9]
GO

-- Drop Index _dta_index_AccountEmployee_5_1706541213__K1_4_5 from AccountEmployee
Print 'Drop Index _dta_index_AccountEmployee_5_1706541213__K1_4_5 from AccountEmployee'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployee]') AND name = N'_dta_index_AccountEmployee_5_1706541213__K1_4_5'))
DROP INDEX [dbo].[AccountEmployee].[_dta_index_AccountEmployee_5_1706541213__K1_4_5]
GO

-- Drop Index _dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_ from AccountEmployee
Print 'Drop Index _dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_ from AccountEmployee'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployee]') AND name = N'_dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_'))
DROP INDEX [dbo].[AccountEmployee].[_dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_]
GO

-- Drop Index _dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16 from AccountProject
Print 'Drop Index _dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16 from AccountProject'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16'))
DROP INDEX [dbo].[AccountProject].[_dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16]
GO

-- Drop Index _dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12 from AccountProject
Print 'Drop Index _dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12 from AccountProject'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12'))
DROP INDEX [dbo].[AccountProject].[_dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12]
GO

-- Drop Index _dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16 from AccountProject
Print 'Drop Index _dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16 from AccountProject'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16'))
DROP INDEX [dbo].[AccountProject].[_dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16]
GO

-- Drop Index _dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16 from AccountProject
Print 'Drop Index _dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16 from AccountProject'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16'))
DROP INDEX [dbo].[AccountProject].[_dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16]
GO

-- Drop Index _dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16 from AccountProject
Print 'Drop Index _dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16 from AccountProject'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16'))
DROP INDEX [dbo].[AccountProject].[_dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16]
GO

-- Drop Index _dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33 from AccountProject
Print 'Drop Index _dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33 from AccountProject'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33'))
DROP INDEX [dbo].[AccountProject].[_dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33]
GO

-- Drop Index _dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33 from AccountProject
Print 'Drop Index _dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33 from AccountProject'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33'))
DROP INDEX [dbo].[AccountProject].[_dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33]
GO

-- Drop Index _dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8 from AccountExpenseEntry
Print 'Drop Index _dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8 from AccountExpenseEntry'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8'))
DROP INDEX [dbo].[AccountExpenseEntry].[_dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8]
GO

-- Add Column OldAccountExpenseEntryId to AccountExpenseEntry
Print 'Add Column OldAccountExpenseEntryId to AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='OldAccountExpenseEntryId' AND TABLE_NAME='AccountExpenseEntry'))
ALTER TABLE [dbo].[AccountExpenseEntry]
	ADD [OldAccountExpenseEntryId] int NULL
GO

-- Create Index _dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8 on AccountExpenseEntry
Print 'Create Index _dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8 on AccountExpenseEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountExpenseEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountExpenseEntry]') AND name = N'_dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8'))
CREATE INDEX [_dta_index_AccountExpenseEntry_5_343060358__K5_K1_K12_K29_K19_K4_K25_K6_K2_3_7_8]
	ON [dbo].[AccountExpenseEntry] ([AccountProjectId], [AccountExpenseEntryId], [Approved], [Submitted], [Rejected], [AccountEmployeeId], [AccountCurrencyId], [AccountExpenseId], [AccountExpenseEntryDate])
GO

-- Create Index _dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33 on AccountProject
Print 'Create Index _dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33 on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33'))
CREATE INDEX [_dta_index_AccountProject_5_1708637230__K21_K1_2_3_4_5_6_7_8_10_11_12_13_14_15_16_17_18_19_22_23_24_25_26_27_28_29_30_31_32_33]
	ON [dbo].[AccountProject] ([TimeSheetApprovalTypeId], [AccountProjectId])
GO

-- Create Index _dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33 on AccountProject
Print 'Create Index _dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33 on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33'))
CREATE INDEX [_dta_index_AccountProject_5_1708637230__K4_K1_K31_K30_K11_K12_K27_K19_K6_2_7_8_10_14_15_16_18_32_33]
	ON [dbo].[AccountProject] ([AccountClientId], [AccountProjectId], [IsTemplate], [IsDisabled], [LeaderEmployeeId], [ProjectManagerEmployeeId], [ProjectBillingRateTypeId], [ProjectStatusId], [ProjectName])
GO

-- Create Index _dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16 on AccountProject
Print 'Create Index _dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16 on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16'))
CREATE INDEX [_dta_index_AccountProject_5_1708637230__K22_K1_6_7_11_12_16]
	ON [dbo].[AccountProject] ([ExpenseApprovalTypeId], [AccountProjectId])
GO

-- Create Index _dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16 on AccountProject
Print 'Create Index _dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16 on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16'))
CREATE INDEX [_dta_index_AccountProject_5_1708637230__K21_K1_6_7_11_12_16]
	ON [dbo].[AccountProject] ([TimeSheetApprovalTypeId], [AccountProjectId])
GO

-- Create Index _dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16 on AccountProject
Print 'Create Index _dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16 on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16'))
CREATE INDEX [_dta_index_AccountProject_5_1708637230__K31_K4_K1_6_16]
	ON [dbo].[AccountProject] ([IsTemplate], [AccountClientId], [AccountProjectId])
GO

-- Create Index _dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12 on AccountProject
Print 'Create Index _dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12 on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12'))
CREATE INDEX [_dta_index_AccountProject_5_1708637230__K1_K21_K6_11_12]
	ON [dbo].[AccountProject] ([AccountProjectId], [TimeSheetApprovalTypeId], [ProjectName])
GO

-- Create Index _dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16 on AccountProject
Print 'Create Index _dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16 on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'_dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16'))
CREATE INDEX [_dta_index_AccountProject_10_1708637230__K1_K2_K31_K4_6_16]
	ON [dbo].[AccountProject] ([AccountProjectId], [AccountId], [IsTemplate], [AccountClientId])
GO

-- Create Index IX_ProjectName on AccountProject
Print 'Create Index IX_ProjectName on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'IX_ProjectName'))
CREATE INDEX [IX_ProjectName]
	ON [dbo].[AccountProject] ([ProjectName])
GO

-- Create Index IX_IsActive on AccountProject
Print 'Create Index IX_IsActive on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'IX_IsActive'))
CREATE INDEX [IX_IsActive]
	ON [dbo].[AccountProject] ([IsActive])
GO

-- Create Index IX_IsProject on AccountProject
Print 'Create Index IX_IsProject on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'IX_IsProject'))
CREATE INDEX [IX_IsProject]
	ON [dbo].[AccountProject] ([IsProject])
GO

-- Create Index IX_IsTemplate on AccountProject
Print 'Create Index IX_IsTemplate on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProject]') AND name = N'IX_IsTemplate'))
CREATE INDEX [IX_IsTemplate]
	ON [dbo].[AccountProject] ([IsTemplate])
GO

-- Create Index IX_FirstName on AccountEmployee
Print 'Create Index IX_FirstName on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_FirstName'))
CREATE INDEX [IX_FirstName]
	ON [dbo].[AccountEmployee] ([FirstName])
GO

-- Create Index IX_LastName on AccountEmployee
Print 'Create Index IX_LastName on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_LastName'))
CREATE INDEX [IX_LastName]
	ON [dbo].[AccountEmployee] ([LastName])
GO

-- Create Index _dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_ on AccountEmployee
Print 'Create Index _dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_ on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_'))
CREATE INDEX [_dta_index_AccountEmployee_5_1706541213__K8_K1_2_3_4_5_6_7_9_10_11_12_13_14_15_16_17_18_19_20_21_25_26_27_28_29_30_31_32_34_35_]
	ON [dbo].[AccountEmployee] ([AccountId], [AccountEmployeeId])
GO

-- Create Index _dta_index_AccountEmployee_5_1706541213__K1_4_5 on AccountEmployee
Print 'Create Index _dta_index_AccountEmployee_5_1706541213__K1_4_5 on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'_dta_index_AccountEmployee_5_1706541213__K1_4_5'))
CREATE INDEX [_dta_index_AccountEmployee_5_1706541213__K1_4_5]
	ON [dbo].[AccountEmployee] ([AccountEmployeeId])
GO

-- Create Index IX_AccountBillingRateId on AccountEmployee
Print 'Create Index IX_AccountBillingRateId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_AccountBillingRateId'))
CREATE INDEX [IX_AccountBillingRateId]
	ON [dbo].[AccountEmployee] ([AccountBillingRateId])
GO

-- Create Index IX_CountryId on AccountEmployee
Print 'Create Index IX_CountryId on AccountEmployee'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployee' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployee]') AND name = N'IX_CountryId'))
CREATE INDEX [IX_CountryId]
	ON [dbo].[AccountEmployee] ([CountryId])
GO

-- Create Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9 on AccountEmployeeTimeEntry
Print 'Create Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9 on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9'))
CREATE INDEX [_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_K3_6_9]
	ON [dbo].[AccountEmployeeTimeEntry] ([Approved], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [AccountEmployeeTimeEntryId], [Submitted], [Rejected], [AccountEmployeeId], [AccountProjectTaskId], [TimeEntryDate])
GO

-- Create Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6 on AccountEmployeeTimeEntry
Print 'Create Index _dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6 on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6'))
CREATE INDEX [_dta_index_AccountEmployeeTimeEntry_5_2090542581__K11_K7_K29_K1_K20_K17_K2_K8_3_6]
	ON [dbo].[AccountEmployeeTimeEntry] ([Approved], [AccountProjectId], [AccountEmployeeTimeEntryPeriodId], [AccountEmployeeTimeEntryId], [Submitted], [Rejected], [AccountEmployeeId], [AccountProjectTaskId])
GO

-- Create Index _dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30 on AccountEmployeeTimeEntry
Print 'Create Index _dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30 on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'_dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30'))
CREATE INDEX [_dta_index_AccountEmployeeTimeEntry_10_2090542581__K29_1_7_30]
	ON [dbo].[AccountEmployeeTimeEntry] ([AccountEmployeeTimeEntryPeriodId])
GO

-- Create Index IX_AccountBaseCurrencyId on AccountEmployeeTimeEntry
Print 'Create Index IX_AccountBaseCurrencyId on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_AccountBaseCurrencyId'))
CREATE INDEX [IX_AccountBaseCurrencyId]
	ON [dbo].[AccountEmployeeTimeEntry] ([AccountBaseCurrencyId])
GO

-- Create Index IX_Billed on AccountEmployeeTimeEntry
Print 'Create Index IX_Billed on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_Billed'))
CREATE INDEX [IX_Billed]
	ON [dbo].[AccountEmployeeTimeEntry] ([Billed])
GO

-- Create Index IX_EmployeeRateCurrencyId on AccountEmployeeTimeEntry
Print 'Create Index IX_EmployeeRateCurrencyId on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_EmployeeRateCurrencyId'))
CREATE INDEX [IX_EmployeeRateCurrencyId]
	ON [dbo].[AccountEmployeeTimeEntry] ([EmployeeRateCurrencyId])
GO

-- Create Index IX_BillingRateCurrencyId on AccountEmployeeTimeEntry
Print 'Create Index IX_BillingRateCurrencyId on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_BillingRateCurrencyId'))
CREATE INDEX [IX_BillingRateCurrencyId]
	ON [dbo].[AccountEmployeeTimeEntry] ([BillingRateCurrencyId])
GO

-- Create Index IX_AccountCostCenterId on AccountEmployeeTimeEntry
Print 'Create Index IX_AccountCostCenterId on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_AccountCostCenterId'))
CREATE INDEX [IX_AccountCostCenterId]
	ON [dbo].[AccountEmployeeTimeEntry] ([AccountCostCenterId])
GO

-- Create Index IX_Rejected on AccountEmployeeTimeEntry
Print 'Create Index IX_Rejected on AccountEmployeeTimeEntry'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntry' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntry]') AND name = N'IX_Rejected'))
CREATE INDEX [IX_Rejected]
	ON [dbo].[AccountEmployeeTimeEntry] ([Rejected])
GO
-- Create View vueAccountEmployeeTimeEntryWithStatus
Print 'Create View vueAccountEmployeeTimeEntryWithStatus'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryWithStatus' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryWithStatus
AS
SELECT     dbo.AccountCostCenter.AccountCostCenter, dbo.AccountProject.ProjectName, dbo.AccountWorkType.AccountWorkType, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeId, dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.StartTime, 
                      dbo.AccountEmployeeTimeEntry.EndTime, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.AccountEmployeeTimeEntry.AccountProjectTaskId, dbo.AccountEmployeeTimeEntry.Description, 
                      dbo.AccountEmployeeTimeEntry.TimeSheetApprovalPathId, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployeeTimeEntry.TeamLeadApproved, dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.AccountEmployeeTimeEntry.AdministratorApproved, dbo.AccountEmployeeTimeEntry.CreatedOn, dbo.AccountEmployeeTimeEntry.ModifiedOn, 
                      dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, dbo.AccountEmployeeTimeEntry.AccountPartyId, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountEmployeeTimeEntry.AccountWorkTypeId, dbo.AccountEmployeeTimeEntry.EmployeeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountCostCenterId, dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.Billed, 
                      dbo.AccountEmployeeTimeEntryApprovalProject.InApproval AS IsApproved, dbo.AccountEmployeeTimeEntryApprovalProject.IsRejected AS IsReject, 
                      dbo.AccountParty.PartyName, dbo.AccountParty.PartyNick, dbo.AccountParty.AccountPartyId AS AccountClientId
FROM         dbo.AccountParty INNER JOIN
                      dbo.AccountProject ON dbo.AccountParty.AccountPartyId = dbo.AccountProject.AccountClientId RIGHT OUTER JOIN
                      dbo.AccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApprovalProject ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId = dbo.AccountEmployeeTimeEntryApprovalProject.AccountEmployeeTimeEntryApprovalProjectId
                       ON dbo.AccountProject.AccountProjectId = dbo.AccountEmployeeTimeEntry.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId'
GO
-- Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryPeriod_AccountEmployee on AccountEmployeeTimeEntryPeriod'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryPeriod_AccountEmployee' AND TABLE_NAME='AccountEmployeeTimeEntryPeriod')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryPeriod]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryPeriod_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject
Print 'Create Foreign Key FK_AccountEmployeeTimeEntryApprovalProject_AccountProject on AccountEmployeeTimeEntryApprovalProject'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountEmployeeTimeEntryApprovalProject_AccountProject' AND TABLE_NAME='AccountEmployeeTimeEntryApprovalProject')
BEGIN
		ALTER TABLE [dbo].[AccountEmployeeTimeEntryApprovalProject]
			ADD CONSTRAINT [FK_AccountEmployeeTimeEntryApprovalProject_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
			ON DELETE CASCADE
END
GO
Update AccountWorkTypeBillingRate Set AccountEmployeeId = NULL
Where AccountEmployeeId = 0
GO
Update AccountWorkTypeBillingRate Set AccountProjectEmployeeId = NULL
Where AccountProjectEmployeeId = 0
GO
Update AccountWorkTypeBillingRate Set AccountProjectRoleId = NULL
Where AccountProjectRoleId = 0
GO
Update AccountWorkTypeBillingRate Set AccountProjectTaskId = NULL
Where AccountProjectTaskid = 0
GO
Delete From AccountWorkTypeBillingRate
Where AccountEmployeeId Not In (Select AccountEmployeeId From AccountEmployee) And AccountEmployeeId Is Not NULL
GO
Delete From AccountWorkTypeBillingRate
Where AccountProjectRoleId Not In (Select AccountProjectRoleId From AccountProjectRole) And AccountProjectRoleId Is Not NULL
GO
Delete From AccountWorkTypeBillingRate
Where AccountProjectTaskId Not In (Select AccountProjectTaskId From AccountProjectTask) And AccountProjectTaskId Is Not NULL
GO
Delete From AccountWorkTypeBillingRate
Where AccountProjectEmployeeId Not In (Select AccountProjectEmployeeId From AccountProjectEmployee) And AccountProjectEmployeeId Is Not NULL
GO
-- Drop Index _dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29 from AccountProjectTask
Print 'Drop Index _dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29 from AccountProjectTask'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountProjectTask]') AND name = N'_dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29'))
DROP INDEX [dbo].[AccountProjectTask].[_dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29]
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate from AccountWorkTypeBillingRate
Print 'Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate from AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountBillingRate]
END
GO
-- Drop Index _dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6 from AccountEmployeeTimeEntryApproval
Print 'Drop Index _dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6 from AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6'))

DROP INDEX [dbo].[AccountEmployeeTimeEntryApproval].[_dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6]
GO
-- Create Index _dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6 on AccountEmployeeTimeEntryApproval
Print 'Create Index _dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6 on AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'_dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6'))
CREATE INDEX [_dta_index_AccountEmployeeTimeEntryApproval_10_103059503__K10_K2_K4_K5_K7_K8_K9_K13_3_6]
	ON [dbo].[AccountEmployeeTimeEntryApproval] ([AccountEmployeeTimeEntryPeriodId], [AccountEmployeeTimeEntryId], [TimeSheetApprovalPathId], [ApprovedByEmployeeId], [Comments], [IsReject], [IsApproved], [BatchId])
GO
-- Create Index IX_IsApproved on AccountEmployeeTimeEntryApproval
Print 'Create Index IX_IsApproved on AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'IX_IsApproved'))
CREATE INDEX [IX_IsApproved]
	ON [dbo].[AccountEmployeeTimeEntryApproval] ([IsApproved])
GO
-- Create Index IX_IsReject on AccountEmployeeTimeEntryApproval
Print 'Create Index IX_IsReject on AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'IX_IsReject'))
CREATE INDEX [IX_IsReject]
	ON [dbo].[AccountEmployeeTimeEntryApproval] ([IsReject])
GO
-- Create Index IX_BatchId on AccountEmployeeTimeEntryApproval
Print 'Create Index IX_BatchId on AccountEmployeeTimeEntryApproval'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountEmployeeTimeEntryApproval' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountEmployeeTimeEntryApproval]') AND name = N'IX_BatchId'))
CREATE INDEX [IX_BatchId]
	ON [dbo].[AccountEmployeeTimeEntryApproval] ([BatchId])
GO
-- Create Index IX_AccountProjectTaskId on AccountBillingRate
Print 'Create Index IX_AccountProjectTaskId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountProjectTaskId'))
CREATE INDEX [IX_AccountProjectTaskId]
	ON [dbo].[AccountBillingRate] ([AccountProjectTaskId])
GO
-- Create Index IX_AccountWorkTypeId on AccountBillingRate
Print 'Create Index IX_AccountWorkTypeId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountWorkTypeId'))
CREATE INDEX [IX_AccountWorkTypeId]
	ON [dbo].[AccountBillingRate] ([AccountWorkTypeId])
GO
-- Create Index IX_BillingRateCurrencyId on AccountBillingRate
Print 'Create Index IX_BillingRateCurrencyId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingRate]') AND name = N'IX_BillingRateCurrencyId'))
CREATE INDEX [IX_BillingRateCurrencyId]
	ON [dbo].[AccountBillingRate] ([BillingRateCurrencyId])
GO
-- Create Index IX_EmployeeRateCurrencyId on AccountBillingRate
Print 'Create Index IX_EmployeeRateCurrencyId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingRate]') AND name = N'IX_EmployeeRateCurrencyId'))
CREATE INDEX [IX_EmployeeRateCurrencyId]
	ON [dbo].[AccountBillingRate] ([EmployeeRateCurrencyId])
GO
-- Alter Column AccountProjectEmployeeId on AccountWorkTypeBillingRate
Print 'Alter Column AccountProjectEmployeeId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectEmployeeId' AND TABLE_NAME='AccountWorkTypeBillingRate'))
ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
	 ALTER COLUMN [AccountProjectEmployeeId] bigint NULL
GO
-- Alter Column AccountProjectTaskId on AccountWorkTypeBillingRate
Print 'Alter Column AccountProjectTaskId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectTaskId' AND TABLE_NAME='AccountWorkTypeBillingRate'))
ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
	 ALTER COLUMN [AccountProjectTaskId] bigint NULL
GO
-- Alter Column SystemBillingRateTypeId on AccountWorkTypeBillingRate
Print 'Alter Column SystemBillingRateTypeId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemBillingRateTypeId' AND TABLE_NAME='AccountWorkTypeBillingRate'))
ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
	 ALTER COLUMN [SystemBillingRateTypeId] smallint NOT NULL
GO
-- Create Index IX_AccountBillingRateId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountBillingRateId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountBillingRateId'))
CREATE INDEX [IX_AccountBillingRateId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountBillingRateId])
GO
-- Create Index IX_AccountEmployeeId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountEmployeeId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountEmployeeId'))
CREATE INDEX [IX_AccountEmployeeId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountEmployeeId])
GO
-- Create Index IX_AccountId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountId'))
CREATE INDEX [IX_AccountId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountId])
GO
-- Create Index IX_AccountProjectEmployeeId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountProjectEmployeeId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountProjectEmployeeId'))
CREATE INDEX [IX_AccountProjectEmployeeId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountProjectEmployeeId])
GO
-- Create Index IX_AccountProjectRoleId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountProjectRoleId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountProjectRoleId'))
CREATE INDEX [IX_AccountProjectRoleId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountProjectRoleId])
GO
-- Create Index IX_AccountWorkTypeBillingRateId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountWorkTypeBillingRateId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountWorkTypeBillingRateId'))
CREATE INDEX [IX_AccountWorkTypeBillingRateId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountWorkTypeBillingRateId])
GO
-- Create Index IX_AccountProjectTaskId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountProjectTaskId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountProjectTaskId'))
CREATE INDEX [IX_AccountProjectTaskId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountProjectTaskId])
GO
-- Create Index IX_AccountWorkTypeId on AccountWorkTypeBillingRate
Print 'Create Index IX_AccountWorkTypeId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_AccountWorkTypeId'))
CREATE INDEX [IX_AccountWorkTypeId]
	ON [dbo].[AccountWorkTypeBillingRate] ([AccountWorkTypeId])
GO
-- Create Index IX_SystemBillingRateTypeId on AccountWorkTypeBillingRate
Print 'Create Index IX_SystemBillingRateTypeId on AccountWorkTypeBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkTypeBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountWorkTypeBillingRate]') AND name = N'IX_SystemBillingRateTypeId'))
CREATE INDEX [IX_SystemBillingRateTypeId]
	ON [dbo].[AccountWorkTypeBillingRate] ([SystemBillingRateTypeId])
GO
-- Create Index _dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29 on AccountProjectTask
Print 'Create Index _dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29 on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'_dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29'))
CREATE INDEX [_dta_index_AccountProjectTask_10_1004634722__K4_K1_K2_K13_K28_K12_K26_K11_3_5_6_7_8_9_10_14_15_16_17_18_19_20_21_29]
	ON [dbo].[AccountProjectTask] ([TaskName], [AccountProjectTaskId], [AccountProjectId], [IsForAllEmployees], [IsForAllProjectTask], [IsParentTask], [IsDisabled], [Completed])
GO
-- Create Index IX_TaskName on AccountProjectTask
Print 'Create Index IX_TaskName on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'IX_TaskName'))
CREATE INDEX [IX_TaskName]
	ON [dbo].[AccountProjectTask] ([TaskName])
GO
-- Create Index IX_DeadlineDate on AccountProjectTask
Print 'Create Index IX_DeadlineDate on AccountProjectTask'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProjectTask' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountProjectTask]') AND name = N'IX_DeadlineDate'))
CREATE INDEX [IX_DeadlineDate]
	ON [dbo].[AccountProjectTask] ([DeadlineDate])
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_Account on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_Account on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_Account' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountEmployee on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountEmployee on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountEmployee' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectEmployee on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectEmployee on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectEmployee' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectEmployee]
			FOREIGN KEY ([AccountProjectEmployeeId]) REFERENCES [dbo].[AccountProjectEmployee] ([AccountProjectEmployeeId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectRole on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectRole on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectRole' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectRole]
			FOREIGN KEY ([AccountProjectRoleId]) REFERENCES [dbo].[AccountProjectRole] ([AccountProjectRoleId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectTask' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectTask]
			FOREIGN KEY ([AccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountWorkType on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountWorkType on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountWorkType' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountWorkType]
			FOREIGN KEY ([AccountWorkTypeId]) REFERENCES [dbo].[AccountWorkType] ([AccountWorkTypeId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate]
			FOREIGN KEY ([AccountWorkTypeBillingRateId]) REFERENCES [dbo].[AccountWorkTypeBillingRate] ([AccountWorkTypeBillingRateId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_SystemBillingRateType on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_SystemBillingRateType on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_SystemBillingRateType' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_SystemBillingRateType]
			FOREIGN KEY ([SystemBillingRateTypeId]) REFERENCES [dbo].[SystemBillingRateType] ([SystemBillingRateTypeId])
END
GO
-- Drop View rptvueAccountEmployeeAttendance
Print 'Drop View rptvueAccountEmployeeAttendance'
GO
if exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeAttendance' and table_type = 'VIEW')
DROP VIEW [dbo].[rptvueAccountEmployeeAttendance]
GO
-- Drop View vueAccountEmployeeAttendanceForReport
Print 'Drop View vueAccountEmployeeAttendanceForReport'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAttendanceForReport' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeAttendanceForReport]
GO
-- Create View vueAccountEmployeeAttendanceForReport
Print 'Create View vueAccountEmployeeAttendanceForReport'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeAttendanceForReport' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeAttendanceForReport
AS
SELECT     AbsenceDescription, AttendanceDate, CASE WHEN [In] = ''In'' THEN [In] ELSE NULL END AS [In], CASE WHEN [In] = ''In'' THEN TimeIn ELSE NULL 
                      END AS TimeIn, CASE WHEN Out = ''Out'' THEN Out ELSE NULL END AS Out, CASE WHEN Out = ''Out'' THEN TimeOut ELSE NULL END AS TimeOut, 
                      EmployeeName, ISNULL(EmployeeCode, N'''') AS EmployeeCode, AccountEmployeeId, AccountId, CONVERT(nvarchar(16), DATEDIFF(hour, 
                      CONVERT(NCHAR(16), TimeIn, 8), CONVERT(NCHAR(16), TimeOut, 8))) AS TotalHours, CONVERT(nvarchar(16), DATEDIFF(mi, CONVERT(NCHAR(16), 
                      TimeIn, 8), CONVERT(NCHAR(16), TimeOut, 8))) AS TotalMinutes
FROM         dbo.vueAccountEmployeeAttendanceDetail'
GO
-- Create View rptvueAccountEmployeeAttendance
Print 'Create View rptvueAccountEmployeeAttendance'
GO
if not exists (select * from information_schema.tables where table_name = 'rptvueAccountEmployeeAttendance' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.rptvueAccountEmployeeAttendance
AS
SELECT     AbsenceDescription, AttendanceDate, [In], TimeIn, Out, TimeOut, EmployeeName, EmployeeCode, AccountEmployeeId, AccountId, 
                      REPLACE(TotalHours, '''', ''.00'') + '':'' + RIGHT(''0'' + REPLACE(TotalMinutes - TotalHours * 60, '''', ''.00''), 2) AS TotalTime
FROM         dbo.vueAccountEmployeeAttendanceForReport'
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'
if not exists(Select * from [dbo].[SystemReportDataSourceField] where [SystemReportDataSourceFieldId] = '343663fb-a67e-48c1-8df1-92b71dbd09e9')
BEGIN
INSERT INTO [dbo].[SystemReportDataSourceField] ([SystemReportDataSourceFieldId], [SystemReportDataSourceId], [SystemReportDataSourceField], [SystemReportDataSourceFieldWidth], [DefaultAvailable], [CurrencyField], [Formula], [SystemReportDataSourceFieldColumnOrder], [SystemReportFieldTypeId], [SystemReportDataSourceFieldCaption], [ShowCurrencyCodeInSummary], [IsFormulaField]) VALUES ('343663fb-a67e-48c1-8df1-92b71dbd09e9', 'a5187c80-820c-4092-ae6d-630645bb8f0a', N'TotalTime', 80, 1, NULL, NULL, 6, '4af62dd1-d310-48fc-ac2f-9694ee0bf323', N'Total Time', 0, 0)
END
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemReportDataSourceField]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemReportDataSourceField]'

UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=203 WHERE [SystemReportDataSourceFieldId]='9626c520-556b-4048-8628-aae5cada79e7'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=7 WHERE [SystemReportDataSourceFieldId]='98da3466-4d5b-43a6-8b65-41c98b3a9f99'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=204 WHERE [SystemReportDataSourceFieldId]='6d269970-5537-4131-9f88-1e625730c4d1'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=205 WHERE [SystemReportDataSourceFieldId]='d1e36184-eec4-48fc-affc-92ae2f0b9a21'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=201 WHERE [SystemReportDataSourceFieldId]='c59a4397-a40b-4344-970f-cbf1e0578283'
UPDATE [dbo].[SystemReportDataSourceField] SET [SystemReportDataSourceFieldColumnOrder]=202 WHERE [SystemReportDataSourceFieldId]='76fb75a4-41db-4dc4-98ae-9471073d8d62'
GO
-- =======================================================
-- Synchronization Script for Table: [dbo].[AccountReportColumn]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[AccountReportColumn]'
if not exists(Select * from [dbo].[AccountReportColumn] where AccountReportColumnId = '20102012-2e1e-4cb4-8878-7d5e361a3ed8')
BEGIN
INSERT INTO [dbo].[AccountReportColumn] ([AccountReportColumnId], [AccountReportId], [Caption], [SystemReportDataSourceFieldId], [ColumnOrder], [SystemReportCalculationTypeId], [ColumnFormula]) VALUES ('20102012-2e1e-4cb4-8878-7d5e361a3ed8', '7059f446-69e6-46b4-a50f-b349a6fc4dc8', N'Total Time', '343663fb-a67e-48c1-8df1-92b71dbd09e9', 4, NULL, NULL)
END
GO
Update AccountReportColumn Set ColumnOrder = 5 Where AccountReportId = '7059f446-69e6-46b4-a50f-b349a6fc4dc8' And AccountReportColumnId = '9039a80a-b256-4be2-ad1e-e2f8097acaeb'
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate from AccountWorkTypeBillingRate
Print 'Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate from AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountBillingRate]
END
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask from AccountWorkTypeBillingRate
Print 'Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask from AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectTask' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectTask]
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectTask' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectTask]
			FOREIGN KEY ([AccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
			ON DELETE CASCADE
END
GO
-- Drop Foreign Key FK_AccountProjectEmployee_Account from AccountProjectEmployee
Print 'Drop Foreign Key FK_AccountProjectEmployee_Account from AccountProjectEmployee'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectEmployee_Account' AND TABLE_NAME='AccountProjectEmployee')
BEGIN
	ALTER TABLE [dbo].[AccountProjectEmployee] DROP CONSTRAINT [FK_AccountProjectEmployee_Account]
END
GO
-- Drop Foreign Key FK_AccountProjectRole_AccountProject from AccountProjectRole
Print 'Drop Foreign Key FK_AccountProjectRole_AccountProject from AccountProjectRole'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectRole_AccountProject' AND TABLE_NAME='AccountProjectRole')
BEGIN
	ALTER TABLE [dbo].[AccountProjectRole] DROP CONSTRAINT [FK_AccountProjectRole_AccountProject]
END
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate from AccountWorkTypeBillingRate
Print 'Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate from AccountWorkTypeBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountWorkTypeBillingRate]
END
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate from AccountWorkTypeBillingRate
Print 'Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate from AccountWorkTypeBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountBillingRate]
END
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask from AccountWorkTypeBillingRate
Print 'Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask from AccountWorkTypeBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectTask' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectTask]
END
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectEmployee from AccountWorkTypeBillingRate
Print 'Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectEmployee from AccountWorkTypeBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectEmployee' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectEmployee]
END
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectRole from AccountWorkTypeBillingRate
Print 'Drop Foreign FK_AccountWorkTypeBillingRate_AccountProjectRole from AccountWorkTypeBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectRole' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectRole]
END
GO
-- Drop Foreign Key FK_AccountWorkTypeBillingRate_AccountEmployee from AccountWorkTypeBillingRate
Print 'Drop Foreign FK_AccountWorkTypeBillingRate_AccountEmployee from AccountWorkTypeBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountEmployee' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountWorkTypeBillingRate] DROP CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountEmployee]
END
GO
-- Drop Foreign Key FK_AccountBillingRate_AccountEmployee from AccountBillingRate
Print 'Drop Foreign Key FK_AccountBillingRate_AccountEmployee from AccountBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountEmployee' AND TABLE_NAME='AccountBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountBillingRate] DROP CONSTRAINT [FK_AccountBillingRate_AccountEmployee]
END
GO
-- Drop Foreign Key FK_AccountBillingRate_AccountProjectEmployee from AccountBillingRate
Print 'Drop Foreign Key FK_AccountBillingRate_AccountProjectEmployee from AccountBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountProjectEmployee' AND TABLE_NAME='AccountBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountBillingRate] DROP CONSTRAINT [FK_AccountBillingRate_AccountProjectEmployee]
END
GO
-- Drop Foreign Key FK_AccountBillingRate_AccountProjectRole from AccountBillingRate
Print 'Drop Foreign Key FK_AccountBillingRate_AccountProjectRole from AccountBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountProjectRole' AND TABLE_NAME='AccountBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountBillingRate] DROP CONSTRAINT [FK_AccountBillingRate_AccountProjectRole]
END
GO
-- Drop Foreign Key FK_AccountBillingRate_AccountProjectTask from AccountBillingRate
Print 'Drop Foreign Key FK_AccountBillingRate_AccountProjectTask from AccountBillingRate'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountProjectTask' AND TABLE_NAME='AccountBillingRate')
BEGIN
	ALTER TABLE [dbo].[AccountBillingRate] DROP CONSTRAINT [FK_AccountBillingRate_AccountProjectTask]
END
GO
-- Drop Foreign Key FK_AccountProjectEmployee_AccountBillingRate from AccountProjectEmployee
Print 'Drop Foreign Key FK_AccountProjectEmployee_AccountBillingRate from AccountProjectEmployee'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectEmployee_AccountBillingRate' AND TABLE_NAME='AccountProjectEmployee')
BEGIN
	ALTER TABLE [dbo].[AccountProjectEmployee] DROP CONSTRAINT [FK_AccountProjectEmployee_AccountBillingRate]
END
GO
-- Drop Foreign Key FK_AccountProjectTask_AccountBillingRate from AccountProjectTask
Print 'Drop Foreign Key FK_AccountProjectTask_AccountBillingRate from AccountProjectTask'
GO
IF EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountBillingRate' AND TABLE_NAME='AccountProjectTask')
BEGIN
	ALTER TABLE [dbo].[AccountProjectTask] DROP CONSTRAINT [FK_AccountProjectTask_AccountBillingRate]
END
GO
-- Drop Index IX_AccountProjectTaskId from AccountBillingRate
Print 'Drop Index IX_AccountProjectTaskId from AccountBillingRate'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountProjectTaskId'))
DROP INDEX [dbo].[AccountBillingRate].[IX_AccountProjectTaskId]
GO
-- Drop Index IX_AccountProjectRoleId from AccountBillingRate
Print 'Drop Index IX_AccountProjectRoleId from AccountBillingRate'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountProjectRoleId'))
DROP INDEX [dbo].[AccountBillingRate].[IX_AccountProjectRoleId]
GO
-- Drop Index IX_AccountProjectEmployeeId from AccountBillingRate
Print 'Drop Index IX_AccountProjectEmployeeId from AccountBillingRate'
GO
IF (EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID (N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountProjectEmployeeId'))
DROP INDEX [dbo].[AccountBillingRate].[IX_AccountProjectEmployeeId]
GO
-- Alter Column AccountProjectRoleId on AccountBillingRate
Print 'Alter Column AccountProjectRoleId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectRoleId' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	 ALTER COLUMN [AccountProjectRoleId] int NULL
GO
-- Alter Column AccountProjectEmployeeId on AccountBillingRate
Print 'Alter Column AccountProjectEmployeeId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectEmployeeId' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	 ALTER COLUMN [AccountProjectEmployeeId] bigint NULL
GO
-- Alter Column AccountProjectTaskId on AccountBillingRate
Print 'Alter Column AccountProjectTaskId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectTaskId' AND TABLE_NAME='AccountBillingRate'))
ALTER TABLE [dbo].[AccountBillingRate]
	 ALTER COLUMN [AccountProjectTaskId] bigint NULL
GO
-- Create Index IX_AccountProjectEmployeeId on AccountBillingRate
Print 'Create Index IX_AccountProjectEmployeeId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountProjectEmployeeId'))
CREATE INDEX [IX_AccountProjectEmployeeId]
	ON [dbo].[AccountBillingRate] ([AccountProjectEmployeeId])
GO
-- Create Index IX_AccountProjectRoleId on AccountBillingRate
Print 'Create Index IX_AccountProjectRoleId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountProjectRoleId'))
CREATE INDEX [IX_AccountProjectRoleId]
	ON [dbo].[AccountBillingRate] ([AccountProjectRoleId])
GO
-- Create Index IX_AccountProjectTaskId on AccountBillingRate
Print 'Create Index IX_AccountProjectTaskId on AccountBillingRate'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountBillingRate' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountBillingRate]') AND name = N'IX_AccountProjectTaskId'))
CREATE INDEX [IX_AccountProjectTaskId]
	ON [dbo].[AccountBillingRate] ([AccountProjectTaskId])
GO
Update AccountBillingRate Set AccountEmployeeId = NULL
Where AccountEmployeeId = 0
GO
Update AccountBillingRate Set AccountProjectRoleId = NULL
Where AccountProjectRoleId = 0
GO
Update AccountBillingRate Set AccountProjectEmployeeId = NULL
Where AccountProjectEmployeeId = 0
GO
Update AccountBillingRate Set AccountProjectTaskId = NULL
Where AccountProjectTaskId = 0
GO
Delete From AccountBillingRate
Where AccountEmployeeId Not In (Select AccountEmployeeId From AccountEmployee) And AccountEmployeeId Is Not NULL
GO
Delete From AccountBillingRate
Where AccountProjectRoleId Not In (Select AccountProjectRoleId From AccountProjectRole) And AccountProjectRoleId Is Not NULL
GO
Delete From AccountBillingRate
Where AccountProjectEmployeeId Not In (Select AccountProjectEmployeeId From AccountProjectEmployee) And AccountProjectEmployeeId Is Not NULL
GO
Delete From AccountBillingRate
Where AccountProjectTaskId Not In (Select AccountProjectTaskId From AccountProjectTask) And AccountProjectTaskId Is Not NULL
GO
IF EXISTS (Select * From AccountProjectRole Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate))
BEGIN
Update AccountProjectRole Set AccountBillingRateId = NULL
Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
END
GO
IF EXISTS (Select * From AccountEmployee Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate))
BEGIN
Update AccountEmployee Set AccountBillingRateId = NULL
Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
END
GO
IF EXISTS (Select * From AccountProjectTask Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate))
BEGIN
Update AccountProjectTask Set AccountBillingRateId = NULL
Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate)
END
GO
IF EXISTS (Select * From AccountProjectEmployee Where AccountBillingRateId Not In (Select AccountBillingRateId From AccountBillingRate))
BEGIN
Update AccountProjectEmployee Set AccountBillingRateId = NULL
Where AccountBillingRateId not in (Select AccountBillingRateId From AccountBillingRate)
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountBillingRate on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountBillingRate' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountEmployee on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountEmployee on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountEmployee' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectRole on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectRole on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectRole' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectRole]
			FOREIGN KEY ([AccountProjectRoleId]) REFERENCES [dbo].[AccountProjectRole] ([AccountProjectRoleId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectEmployee on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectEmployee on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectEmployee' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectEmployee]
			FOREIGN KEY ([AccountProjectEmployeeId]) REFERENCES [dbo].[AccountProjectEmployee] ([AccountProjectEmployeeId])
END
GO
-- Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask on AccountWorkTypeBillingRate
Print 'Create Foreign Key FK_AccountWorkTypeBillingRate_AccountProjectTask on AccountWorkTypeBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountWorkTypeBillingRate_AccountProjectTask' AND TABLE_NAME='AccountWorkTypeBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountWorkTypeBillingRate]
			ADD CONSTRAINT [FK_AccountWorkTypeBillingRate_AccountProjectTask]
			FOREIGN KEY ([AccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
END
GO
-- Create Foreign Key FK_AccountProjectEmployee_Account on AccountProjectEmployee
Print 'Create Foreign Key FK_AccountProjectEmployee_Account on AccountProjectEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectEmployee_Account' AND TABLE_NAME='AccountProjectEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountProjectEmployee]
			ADD CONSTRAINT [FK_AccountProjectEmployee_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
END
GO
-- Create Foreign Key FK_AccountProjectRole_AccountProject on AccountProjectRole
Print 'Create Foreign Key FK_AccountProjectRole_AccountProject on AccountProjectRole'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectRole_AccountProject' AND TABLE_NAME='AccountProjectRole')
BEGIN
		ALTER TABLE [dbo].[AccountProjectRole]
			ADD CONSTRAINT [FK_AccountProjectRole_AccountProject]
			FOREIGN KEY ([AccountProjectId]) REFERENCES [dbo].[AccountProject] ([AccountProjectId])
END
GO
-- Create Foreign Key FK_AccountBillingRate_AccountEmployee on AccountBillingRate
Print 'Create Foreign Key FK_AccountBillingRate_AccountEmployee on AccountBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountEmployee' AND TABLE_NAME='AccountBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountBillingRate]
			ADD CONSTRAINT [FK_AccountBillingRate_AccountEmployee]
			FOREIGN KEY ([AccountEmployeeId]) REFERENCES [dbo].[AccountEmployee] ([AccountEmployeeId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountBillingRate_AccountProjectEmployee on AccountBillingRate
Print 'Create Foreign Key FK_AccountBillingRate_AccountProjectEmployee on AccountBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountProjectEmployee' AND TABLE_NAME='AccountBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountBillingRate]
			ADD CONSTRAINT [FK_AccountBillingRate_AccountProjectEmployee]
			FOREIGN KEY ([AccountProjectEmployeeId]) REFERENCES [dbo].[AccountProjectEmployee] ([AccountProjectEmployeeId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountBillingRate_AccountProjectRole on AccountBillingRate
Print 'Create Foreign Key FK_AccountBillingRate_AccountProjectRole on AccountBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountProjectRole' AND TABLE_NAME='AccountBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountBillingRate]
			ADD CONSTRAINT [FK_AccountBillingRate_AccountProjectRole]
			FOREIGN KEY ([AccountProjectRoleId]) REFERENCES [dbo].[AccountProjectRole] ([AccountProjectRoleId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountBillingRate_AccountProjectTask on AccountBillingRate
Print 'Create Foreign Key FK_AccountBillingRate_AccountProjectTask on AccountBillingRate'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountBillingRate_AccountProjectTask' AND TABLE_NAME='AccountBillingRate')
BEGIN
		ALTER TABLE [dbo].[AccountBillingRate]
			ADD CONSTRAINT [FK_AccountBillingRate_AccountProjectTask]
			FOREIGN KEY ([AccountProjectTaskId]) REFERENCES [dbo].[AccountProjectTask] ([AccountProjectTaskId])
			ON DELETE CASCADE
END
GO
-- Create Foreign Key FK_AccountProjectEmployee_AccountBillingRate on AccountProjectEmployee
Print 'Create Foreign Key FK_AccountProjectEmployee_AccountBillingRate on AccountProjectEmployee'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectEmployee_AccountBillingRate' AND TABLE_NAME='AccountProjectEmployee')
BEGIN
		ALTER TABLE [dbo].[AccountProjectEmployee]
			ADD CONSTRAINT [FK_AccountProjectEmployee_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
END
-- Create Foreign Key FK_AccountProjectTask_AccountBillingRate on AccountProjectTask
Print 'Create Foreign Key FK_AccountProjectTask_AccountBillingRate on AccountProjectTask'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountProjectTask_AccountBillingRate' AND TABLE_NAME='AccountProjectTask')
BEGIN
		ALTER TABLE [dbo].[AccountProjectTask]
			ADD CONSTRAINT [FK_AccountProjectTask_AccountBillingRate]
			FOREIGN KEY ([AccountBillingRateId]) REFERENCES [dbo].[AccountBillingRate] ([AccountBillingRateId])
END
GO
-- Drop View vueAccountEmployeeTimeEntryRejectedEmail
Print 'Drop View vueAccountEmployeeTimeEntryRejectedEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryRejectedEmail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryRejectedEmail]
GO
-- Drop View vueAccountEmployeeTimeEntryApprovedEmail
Print 'Drop View vueAccountEmployeeTimeEntryApprovedEmail'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovedEmail' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntryApprovedEmail]
GO
-- Create View vueAccountEmployeeTimeEntryApprovedEmail
Print 'Create View vueAccountEmployeeTimeEntryApprovedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryApprovedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryApprovedEmail
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountPartyId, dbo.vueAccountEmployeeTimeEntry.PartyName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntry.BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.IsBillable, dbo.vueAccountEmployeeTimeEntry.Rejected, dbo.vueAccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
FROM         dbo.vueAccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId LEFT OUTER
                       JOIN
                      dbo.AccountEmployee ON dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = AccountEMailNotificationPreference_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 16) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 14) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 15) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Create View vueAccountEmployeeTimeEntryRejectedEmail
Print 'Create View vueAccountEmployeeTimeEntryRejectedEmail'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntryRejectedEmail' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntryRejectedEmail
AS
SELECT     dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.vueAccountEmployeeTimeEntry.ProjectName, 
                      dbo.vueAccountEmployeeTimeEntry.TaskName, dbo.vueAccountEmployeeTimeEntry.TotalTime, dbo.vueAccountEmployeeTimeEntry.Approved, 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.AccountProjectId, 
                      dbo.vueAccountEmployeeTimeEntry.TeamLeadApproved, dbo.vueAccountEmployeeTimeEntry.ProjectManagerApproved, 
                      dbo.vueAccountEmployeeTimeEntry.AdministratorApproved, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, 
                      dbo.vueAccountEmployeeTimeEntry.StartTime, dbo.vueAccountEmployeeTimeEntry.EndTime, dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
                      dbo.vueAccountEmployeeTimeEntry.Description, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.TotalMinutes, 
                      dbo.vueAccountEmployeeTimeEntry.WeekDay, dbo.vueAccountEmployeeTimeEntry.AccountPartyId, dbo.vueAccountEmployeeTimeEntry.PartyName, 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectTaskId, dbo.vueAccountEmployeeTimeEntry.BillingType, 
                      dbo.vueAccountEmployeeTimeEntry.LeaderEmployeeId, dbo.vueAccountEmployeeTimeEntry.ProjectManagerEmployeeId, 
                      dbo.vueAccountEmployeeTimeEntry.TimeSheetApprovalTypeId, dbo.vueAccountEmployeeTimeEntry.ExpenseApprovalTypeId, 
                      dbo.vueAccountEmployeeTimeEntry.IsBillable, dbo.vueAccountEmployeeTimeEntry.Rejected, dbo.vueAccountEmployeeTimeEntry.BillingRate, 
                      dbo.vueAccountEmployeeTimeEntry.ProjectBillingRateTypeId, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountEmployeeTimeEntryApproval.Comments, dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId
FROM         dbo.vueAccountEmployeeTimeEntry LEFT OUTER JOIN
                      dbo.AccountEmployeeTimeEntryApproval ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.AccountEmployeeTimeEntryApproval.AccountEmployeeTimeEntryId LEFT OUTER
                       JOIN
                      dbo.AccountEmployee ON dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountProjectId = dbo.AccountEMailNotificationPreference.AccountProjectId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_1 ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = AccountEMailNotificationPreference_1.AccountEmployeeId LEFT OUTER JOIN
                      dbo.AccountEMailNotificationPreference AS AccountEMailNotificationPreference_2 ON 
                      dbo.vueAccountEmployeeTimeEntry.AccountId = AccountEMailNotificationPreference_2.AccountId
WHERE     (AccountEMailNotificationPreference_1.SystemEMailNotificationId = 19) AND (AccountEMailNotificationPreference_1.Enabled = 1) AND 
                      (AccountEMailNotificationPreference_2.SystemEMailNotificationId = 17) AND (AccountEMailNotificationPreference_2.Enabled = 1) AND 
                      (dbo.AccountEMailNotificationPreference.SystemEMailNotificationId = 18) AND (dbo.AccountEMailNotificationPreference.Enabled = 1)'
GO
-- Alter Column ProjectCode on AccountProject
Print 'Alter Column ProjectCode on AccountProject'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountProject' AND TABLE_TYPE='BASE TABLE')) AND (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='ProjectCode' AND TABLE_NAME='AccountProject'))
ALTER TABLE [dbo].[AccountProject]
	 ALTER COLUMN [ProjectCode] nvarchar(50) NOT NULL
GO
-- Add Column SortOrder to AccountWorkType
Print 'Add Column SortOrder to AccountWorkType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountWorkType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SortOrder' AND TABLE_NAME='AccountWorkType'))
ALTER TABLE [dbo].[AccountWorkType]
	ADD [SortOrder] smallint NULL

GO
-- Add Column SortOrder to AccountCostCenter
Print 'Add Column SortOrder to AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SortOrder' AND TABLE_NAME='AccountCostCenter'))
ALTER TABLE [dbo].[AccountCostCenter]
	ADD [SortOrder] smallint NULL

GO
-- Create Index IX_AccountId on AccountCostCenter
Print 'Create Index IX_AccountId on AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCostCenter]') AND name = N'IX_AccountId'))
CREATE INDEX [IX_AccountId]
	ON [dbo].[AccountCostCenter] ([AccountId])
GO
-- Create Index IX_CreatedByEmployeeId on AccountCostCenter
Print 'Create Index IX_CreatedByEmployeeId on AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCostCenter]') AND name = N'IX_CreatedByEmployeeId'))
CREATE INDEX [IX_CreatedByEmployeeId]
	ON [dbo].[AccountCostCenter] ([CreatedByEmployeeId])
GO
-- Create Index IX_ModifiedByEmployeeId on AccountCostCenter
Print 'Create Index IX_ModifiedByEmployeeId on AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCostCenter]') AND name = N'IX_ModifiedByEmployeeId'))
CREATE INDEX [IX_ModifiedByEmployeeId]
	ON [dbo].[AccountCostCenter] ([ModifiedByEmployeeId])
GO
-- Create Index IX_MasterCostCenterId on AccountCostCenter
Print 'Create Index IX_MasterCostCenterId on AccountCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS (SELECT * FROM dbo.sysindexes WHERE id = OBJECT_ID(N'[dbo].[AccountCostCenter]') AND name = N'IX_MasterCostCenterId'))
CREATE INDEX [IX_MasterCostCenterId]
	ON [dbo].[AccountCostCenter] ([MasterCostCenterId])
GO
-- Add Column MasterSortOrder to MasterCostCenter
Print 'Add Column MasterSortOrder to MasterCostCenter'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'MasterCostCenter' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='MasterSortOrder' AND TABLE_NAME='MasterCostCenter'))
ALTER TABLE [dbo].[MasterCostCenter]
	ADD [MasterSortOrder] smallint NULL

GO
-- Add Column SystemSortOrder to SystemWorkType
Print 'Add Column SystemSortOrder to SystemWorkType'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'SystemWorkType' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='SystemSortOrder' AND TABLE_NAME='SystemWorkType'))
ALTER TABLE [dbo].[SystemWorkType]
	ADD [SystemSortOrder] smallint NULL

GO
-- Create Foreign Key FK_AccountCostCenter_Account on AccountCostCenter
Print 'Create Foreign Key FK_AccountCostCenter_Account on AccountCostCenter'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountCostCenter_Account' AND TABLE_NAME='AccountCostCenter')
BEGIN
		ALTER TABLE [dbo].[AccountCostCenter]
			ADD CONSTRAINT [FK_AccountCostCenter_Account]
			FOREIGN KEY ([AccountId]) REFERENCES [dbo].[Account] ([AccountId])
END
GO
-- Create Foreign Key FK_AccountCostCenter_MasterCostCenter on AccountCostCenter
Print 'Create Foreign Key FK_AccountCostCenter_MasterCostCenter on AccountCostCenter'
GO
IF NOT EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_SCHEMA='dbo' AND CONSTRAINT_NAME='FK_AccountCostCenter_MasterCostCenter' AND TABLE_NAME='AccountCostCenter')
BEGIN
		ALTER TABLE [dbo].[AccountCostCenter]
			ADD CONSTRAINT [FK_AccountCostCenter_MasterCostCenter]
			FOREIGN KEY ([MasterCostCenterId]) REFERENCES [dbo].[MasterCostCenter] ([MasterCostCenterId])
END
if exists(Select * from systemdata where Version = '3.1.4')
BEGIN
-- =======================================================
-- Synchronization Script for Table: [dbo].[MasterCostCenter]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[MasterCostCenter]'

UPDATE [dbo].[MasterCostCenter] SET [MasterSortOrder]=1 WHERE [MasterCostCenterId]=1

-- =======================================================
-- Synchronization Script for Table: [dbo].[SystemWorkType]
-- =======================================================
Print 'Synchronization Script for Table: [dbo].[SystemWorkType]'

UPDATE [dbo].[SystemWorkType] SET [SystemSortOrder]=1 WHERE [SystemWorkTypeId]=1
UPDATE [dbo].[SystemWorkType] SET [SystemSortOrder]=2 WHERE [SystemWorkTypeId]=2
UPDATE [dbo].[SystemWorkType] SET [SystemSortOrder]=3 WHERE [SystemWorkTypeId]=3
END

GO
Update SystemData Set Version = '3.1.5' Where Version = '3.1.4' And SystemDataId = 1

GO
-- Drop View vueAccountTimeExpenseBilling
Print 'Drop View vueAccountTimeExpenseBilling'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBilling' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountTimeExpenseBilling]

GO
-- Add Column AccountProjectId to AccountTimeExpenseBilling
Print 'Add Column AccountProjectId to AccountTimeExpenseBilling'
GO
IF (EXISTS(SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AccountTimeExpenseBilling' AND TABLE_TYPE='BASE TABLE')) AND NOT (EXISTS(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE COLUMN_NAME='AccountProjectId' AND TABLE_NAME='AccountTimeExpenseBilling'))
ALTER TABLE [dbo].[AccountTimeExpenseBilling]
	ADD [AccountProjectId] int NULL

GO
-- Create View vueAccountTimeExpenseBilling
Print 'Create View vueAccountTimeExpenseBilling'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountTimeExpenseBilling' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountTimeExpenseBilling
AS
SELECT     dbo.AccountTimeExpenseBilling.AccountTimeExpenseBillingId, dbo.AccountTimeExpenseBilling.AccountId, 
                      dbo.AccountTimeExpenseBilling.AccountClientId, dbo.AccountTimeExpenseBilling.BillingCycleStartDate, 
                      dbo.AccountTimeExpenseBilling.BillingCycleEndDate, dbo.AccountTimeExpenseBilling.InvoiceNumber, dbo.AccountTimeExpenseBilling.InvoiceDate, 
                      dbo.AccountTimeExpenseBilling.PONumber, dbo.AccountTimeExpenseBilling.CreatedOn, dbo.AccountTimeExpenseBilling.CreatedByEmployeeId, 
                      dbo.AccountTimeExpenseBilling.ModifiedOn, dbo.AccountTimeExpenseBilling.ModifiedByEmployeeId, dbo.AccountTimeExpenseBilling.IsDisabled, 
                      dbo.AccountParty.PartyName, dbo.AccountTimeExpenseBilling.AccountCurrencyId, dbo.SystemCurrency.CurrencyCode, 
                      dbo.AccountTimeExpenseBilling.Description, dbo.AccountTimeExpenseBilling.IsPaid, dbo.AccountTimeExpenseBilling.GrandTotal, 
                      dbo.AccountTimeExpenseBilling.AccountProjectId
FROM         dbo.AccountCurrency INNER JOIN
                      dbo.SystemCurrency ON dbo.AccountCurrency.SystemCurrencyId = dbo.SystemCurrency.CurrencyId RIGHT OUTER JOIN
                      dbo.AccountTimeExpenseBilling INNER JOIN
                      dbo.AccountParty ON dbo.AccountTimeExpenseBilling.AccountClientId = dbo.AccountParty.AccountPartyId AND 
                      dbo.AccountTimeExpenseBilling.AccountId = dbo.AccountParty.AccountId ON 
                      dbo.AccountCurrency.AccountCurrencyId = dbo.AccountTimeExpenseBilling.AccountCurrencyId'

GO

-- Drop Procedure InsertAbsentDate
Print 'Drop Procedure InsertAbsentDate'
GO
DROP PROCEDURE [dbo].[InsertAbsentDate]
GO
-- Drop Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus
Print 'Drop Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus'
GO
DROP PROCEDURE [dbo].[CreateTableforAccountEmployeeTimesheetSubmissionStatus]
GO
-- Create Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus
Print 'Create Procedure CreateTableforAccountEmployeeTimesheetSubmissionStatus'
GO






CREATE PROCEDURE [dbo].[CreateTableforAccountEmployeeTimesheetSubmissionStatus]
    (
@startdate datetime,    
@enddate datetime,
@AccountEmployeeId varchar,
@AccountId integer
            )
AS

    SET NOCOUNT ON

IF EXISTS (SELECT * FROM tempdb.dbo.sysobjects WHERE NAME = '##tempAccountEmployeeTimesheetSubmissionStatusALL')
drop table ##tempAccountEmployeeTimesheetSubmissionStatusALL 


create table ##tempAccountEmployeeTimesheetSubmissionStatusALL 
(AccountEmployeeId int,
EmployeeName varchar(200),
DepartmentName varchar(200),
TimeEntryDate datetime,
NotEntered int,
Entered int,
Submitted int,
Approved int,
Rejected int,
Role varchar(100),
AccountId int)


insert into ##tempAccountEmployeeTimesheetSubmissionStatusALL
(AccountEmployeeId,
EmployeeName,
DepartmentName, 
TimeEntryDate,
NotEntered,
Entered, 
Submitted,
Approved,
Rejected,
Role,
AccountId)
SELECT     dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, 
dbo.vueAccountEmployeeTimeEntry.EmployeeName, 
dbo.AccountDepartment.DepartmentName, 
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, 
0 AS NotEntered,
SUM(1) AS Entered,
(CASE WHEN dbo.vueAccountEmployeeTimeEntry.Submitted = 1 THEN COUNT(dbo.vueAccountEmployeeTimeEntry.Submitted) ELSE 0 END) 
                      AS Submitted, 
SUM(CASE WHEN Approved = 1 THEN 1 ELSE 0 END) 
                      AS Approved, 
SUM(CASE WHEN Rejected = 1 THEN 1 ELSE 0 END) AS Rejected, 
dbo.AccountRole.Role, 
                      dbo.vueAccountEmployeeTimeEntry.AccountId
FROM         dbo.vueAccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountEmployee ON dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
                      inner join dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentID = dbo.AccountDepartment.AccountDepartmentID 
GROUP BY dbo.vueAccountEmployeeTimeEntry.AccountEmployeeId, dbo.vueAccountEmployeeTimeEntry.EmployeeName, dbo.AccountDepartment.DepartmentName,  
                      dbo.vueAccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountRole.Role, dbo.vueAccountEmployeeTimeEntry.AccountId, dbo.vueAccountEmployeeTimeEntry.Submitted
UNION ALL
SELECT     dbo.##temp.AccountEmployeeId, dbo.AccountEmployee.FirstName + SPACE(1) + dbo.AccountEmployee.LastName AS Expr1, dbo.AccountDepartment.DepartmentName, 
                      dbo.##temp.AbsentDate AS TimeEntryDate, 1 AS NotEntered, 0 AS Entered, 0 As Submitted, 0 AS Approved, 0 AS Rejected, dbo.AccountRole.Role, 
                      dbo.##temp.AccountId
FROM         dbo.##temp INNER JOIN
                      dbo.AccountEmployee ON dbo.##temp.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId
                      inner join dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentID = dbo.AccountDepartment.AccountDepartmentID 
GROUP BY dbo.##temp.AccountEmployeeId, dbo.##temp.AbsentDate, dbo.AccountRole.Role, dbo.##temp.AccountId, 
                      dbo.AccountEmployee.FirstName, dbo.AccountEmployee.LastName, dbo.AccountDepartment.DepartmentName






GO
-- Create Procedure InsertAbsentDate
Print 'Create Procedure InsertAbsentDate'
GO

CREATE PROCEDURE [dbo].[InsertAbsentDate]
    (
@startdate datetime,    
@enddate datetime,
@AccountEmployeeId integer,
@AccountId integer
            )
AS

    SET NOCOUNT ON

IF NOT EXISTS (SELECT * FROM tempdb.dbo.sysobjects WHERE NAME = '##temp')
create table ##temp(AbsentDate datetime, 
AccountEmployeeId int,
AccountId int)


IF EXISTS (SELECT * FROM tempdb.dbo.sysobjects WHERE NAME = '##temp')
delete from ##temp where AccountId = @AccountId and AccountEmployeeId = @AccountEmployeeId

insert into ##temp(AbsentDate, AccountEmployeeId, AccountId) 
Select dateadd(day,number,@startdate), @AccountEmployeeId as AccountEmployeeId, @AccountId as AccountId
from master.dbo.spt_values  where master.dbo.spt_values.type='P' 
and dateadd(day,number,@startdate)<=@enddate  
and dateadd(day,number,@startdate) 
not in  (select TimeEntryDate from vueAccountEmployeeTimesheetSubmissionStatus  
where  (AccountId = @AccountId) and  (AccountEmployeeId in (@AccountEmployeeId)) 
And  TimeEntryDate  >= @startdate 
and TimeEntryDate <= @enddate)
GO
-- Drop View vueAccountProjects
Print 'Drop View vueAccountProjects'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountProjects' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountProjects]
GO
-- Create View vueAccountProjects
Print 'Create View vueAccountProjects'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountProjects' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountProjects
AS
SELECT     dbo.AccountProject.AccountProjectId, dbo.AccountProject.ProjectName, dbo.AccountProject.StartDate, dbo.AccountProject.ProjectCode, 
                      dbo.AccountParty.PartyName, dbo.AccountProject.AccountClientId, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, AccountEmployee_1.FirstName + '' '' + AccountEmployee_1.LastName AS LeaderName, 
                      dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS ProjectManagerName, dbo.AccountProject.AccountId, 
                      dbo.AccountProject.IsActive, dbo.AccountProject.Deadline, dbo.AccountProject.EstimatedDuration, dbo.AccountProject.EstimatedDurationUnit, 
                      dbo.AccountProject.ProjectStatusId, dbo.AccountStatus.Status, dbo.AccountProject.IsDisabled, dbo.AccountProject.ProjectDescription, 
                      dbo.AccountProject.IsTemplate, dbo.AccountProject.IsProject, dbo.AccountProject.AccountProjectTemplateId, 
                      dbo.SystemProjectBillingRateType.SystemProjectBillingRateType, dbo.AccountProject.AccountProjectTypeId, dbo.AccountProjectType.ProjectType, 
                      dbo.AccountProjectType.MasterAccountProjectTypeId
FROM         dbo.AccountEmployee RIGHT OUTER JOIN
                      dbo.AccountStatus RIGHT OUTER JOIN
                      dbo.AccountProject INNER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId INNER JOIN
                      dbo.AccountProjectType ON dbo.AccountProject.AccountProjectTypeId = dbo.AccountProjectType.AccountProjectTypeId LEFT OUTER JOIN
                      dbo.SystemProjectBillingRateType ON 
                      dbo.AccountProject.ProjectBillingRateTypeId = dbo.SystemProjectBillingRateType.SystemProjectBillingRateTypeId ON 
                      dbo.AccountStatus.AccountStatusId = dbo.AccountProject.ProjectStatusId ON 
                      dbo.AccountEmployee.AccountEmployeeId = dbo.AccountProject.ProjectManagerEmployeeId LEFT OUTER JOIN
                      dbo.AccountEmployee AS AccountEmployee_1 ON dbo.AccountProject.LeaderEmployeeId = AccountEmployee_1.AccountEmployeeId'

GO
-- Drop View vueAccountEmployeeTimeEntry
Print 'Drop View vueAccountEmployeeTimeEntry'
GO
if exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW')
DROP VIEW [dbo].[vueAccountEmployeeTimeEntry]
GO
-- Create View vueAccountEmployeeTimeEntry
Print 'Create View vueAccountEmployeeTimeEntry'
GO
if not exists (select * from information_schema.tables where table_name = 'vueAccountEmployeeTimeEntry' and table_type = 'VIEW') 
EXEC sp_executesql N'
CREATE VIEW dbo.vueAccountEmployeeTimeEntry
AS
SELECT     dbo.AccountEmployee.FirstName + '' '' + dbo.AccountEmployee.LastName AS EmployeeName, dbo.AccountProject.ProjectName, 
                      dbo.AccountProjectTask.TaskName, dbo.AccountEmployeeTimeEntry.TotalTime, dbo.AccountEmployeeTimeEntry.Approved, 
                      dbo.AccountEmployee.AccountEmployeeId, dbo.AccountProject.AccountProjectId, dbo.AccountEmployeeTimeEntry.TeamLeadApproved, 
                      dbo.AccountEmployeeTimeEntry.ProjectManagerApproved, dbo.AccountEmployeeTimeEntry.AdministratorApproved, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId, dbo.AccountEmployeeTimeEntry.StartTime, dbo.AccountEmployeeTimeEntry.EndTime, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate, dbo.AccountEmployeeTimeEntry.Description, dbo.AccountProject.AccountId, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime) AS TotalMinutes, DATEPART(dw, 
                      dbo.AccountEmployeeTimeEntry.TimeEntryDate) AS WeekDay, dbo.AccountParty.AccountPartyId, dbo.AccountParty.PartyName, 
                      dbo.AccountProjectTask.AccountProjectTaskId, dbo.AccountBillingType.BillingType, dbo.AccountProject.LeaderEmployeeId, 
                      dbo.AccountProject.ProjectManagerEmployeeId, dbo.AccountProject.TimeSheetApprovalTypeId, dbo.AccountProject.ExpenseApprovalTypeId, 
                      dbo.AccountProjectTask.IsBillable, dbo.AccountEmployeeTimeEntry.Rejected, dbo.AccountEmployeeTimeEntry.BillingRate, 
                      dbo.AccountProject.ProjectBillingRateTypeId, dbo.AccountEmployee.EmployeeCode, dbo.AccountEmployee.AccountDepartmentId, 
                      dbo.AccountDepartment.DepartmentName, dbo.AccountProjectTask.EstimatedCost, dbo.AccountProjectTask.EstimatedTimeSpent, 
                      dbo.AccountEmployeeTimeEntry.Submitted, dbo.AccountWorkType.AccountWorkType, dbo.AccountEmployee.EMailAddress, 
                      dbo.AccountLocation.AccountLocation, dbo.AccountCostCenter.AccountCostCenter, dbo.AccountCostCenter.AccountCostCenterCode, 
                      dbo.AccountWorkType.AccountWorkTypeCode, dbo.AccountProject.ProjectCode, dbo.AccountProjectTask.TaskCode, 
                      dbo.AccountLocation.AccountLocationId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.Comments, 
                      dbo.AccountEmployeeTimeEntry.BillingRateCurrencyId, dbo.AccountEmployeeTimeEntry.EmployeeRateCurrencyId, 
                      dbo.AccountEmployeeTimeEntry.BillingRateExchangeRate, dbo.AccountEmployeeTimeEntry.EmployeeRateExchangeRate, 
                      dbo.AccountEmployeeTimeEntry.AccountBaseCurrencyId, dbo.AccountProjectTask.AccountTaskTypeId, dbo.AccountProjectTask.TaskStatusId, 
                      dbo.AccountProjectTask.AccountPriorityId, dbo.AccountProjectTask.AccountProjectMilestoneId, dbo.AccountDepartment.DepartmentCode, 
                      dbo.AccountParty.PartyNick, dbo.AccountProjectTask.EstimatedCurrencyId, dbo.vueAccountEmployeeTimeEntryApprovalLastAction.ApprovedOn, 
                      dbo.AccountEmployeeTimeEntry.EmployeeRate, dbo.AccountRole.AccountRoleId, dbo.AccountRole.Role, dbo.AccountProject.AccountProjectTypeId, 
                      dbo.AccountProject.ProjectDescription, dbo.AccountProjectTask.TaskDescription, 
                      dbo.AccountEmployeeTimeEntry.AccountTimeExpenseBillingTimesheetId, dbo.AccountEmployeeTimeEntry.Billed, 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryApprovalProjectId, dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryPeriodId, 
                      CASE WHEN Submitted = 1 THEN ROUND(CONVERT(float, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) END AS SubmittedHours, CASE WHEN Approved = 1 THEN ROUND(CONVERT(float, DATEPART(hh, 
                      dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) END AS ApprovedHours, 
                      CASE WHEN Rejected = 1 THEN ROUND(CONVERT(float, DATEPART(hh, dbo.AccountEmployeeTimeEntry.TotalTime) * 60 + DATEPART(n, 
                      dbo.AccountEmployeeTimeEntry.TotalTime)) / 60, 2) END AS RejectedHours
FROM         dbo.AccountEmployeeTimeEntry INNER JOIN
                      dbo.AccountProject ON dbo.AccountEmployeeTimeEntry.AccountProjectId = dbo.AccountProject.AccountProjectId INNER JOIN
                      dbo.AccountEmployee ON dbo.AccountEmployeeTimeEntry.AccountEmployeeId = dbo.AccountEmployee.AccountEmployeeId INNER JOIN
                      dbo.AccountProjectTask ON dbo.AccountEmployeeTimeEntry.AccountProjectTaskId = dbo.AccountProjectTask.AccountProjectTaskId LEFT OUTER JOIN
                      dbo.AccountLocation ON dbo.AccountEmployee.AccountLocationId = dbo.AccountLocation.AccountLocationId LEFT OUTER JOIN
                      dbo.AccountRole ON dbo.AccountEmployee.AccountRoleId = dbo.AccountRole.AccountRoleId LEFT OUTER JOIN
                      dbo.vueAccountEmployeeTimeEntryApprovalLastAction ON 
                      dbo.AccountEmployeeTimeEntry.AccountEmployeeTimeEntryId = dbo.vueAccountEmployeeTimeEntryApprovalLastAction.AccountEmployeeTimeEntryId LEFT
                       OUTER JOIN
                      dbo.AccountCostCenter ON dbo.AccountEmployeeTimeEntry.AccountCostCenterId = dbo.AccountCostCenter.AccountCostCenterId LEFT OUTER JOIN
                      dbo.AccountWorkType ON dbo.AccountEmployeeTimeEntry.AccountWorkTypeId = dbo.AccountWorkType.AccountWorkTypeId LEFT OUTER JOIN
                      dbo.AccountDepartment ON dbo.AccountEmployee.AccountDepartmentId = dbo.AccountDepartment.AccountDepartmentId LEFT OUTER JOIN
                      dbo.AccountBillingType ON dbo.AccountEmployee.BillingTypeId = dbo.AccountBillingType.AccountBillingTypeId LEFT OUTER JOIN
                      dbo.AccountParty ON dbo.AccountProject.AccountClientId = dbo.AccountParty.AccountPartyId'
GO
if exists(Select * from systemdata where Version = '3.1.5')
BEGIN
PRINT 'update accountbillingrateid for project task'
if exists(Select * from AccountProjectTask where AccountBillingRateId =
(select max(AccountBillingRateId) from AccountBillingRate where AccountProjectTaskId = AccountProjectTask.AccountProjectTaskId 
and AccountProjectTaskId is not null) And AccountProjectTaskTemplateId Is Not NULL) 
BEGIN
Update AccountProjectTask 
Set AccountBillingRateId =
(select max(AccountBillingRateId)
from AccountBillingRate
where AccountProjectTaskId = AccountProjectTask.AccountProjectTaskId 
and AccountProjectTaskId is not null ) Where AccountProjectTaskTemplateId Is NOT NULL
END
END
GO
Update SystemData Set Version = '3.1.6' Where Version = '3.1.5' And SystemDataId = 1
--End 3.1.1